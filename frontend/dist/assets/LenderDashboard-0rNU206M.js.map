{"version":3,"file":"LenderDashboard-0rNU206M.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/activity.js","../../../node_modules/lucide-react/dist/esm/icons/calendar-days.js","../../../node_modules/lucide-react/dist/esm/icons/octagon-alert.js","../../../node_modules/lucide-react/dist/esm/icons/palette.js","../../../node_modules/lucide-react/dist/esm/icons/percent.js","../../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../../node_modules/lucide-react/dist/esm/icons/square.js","../../src/components/LoanDecisionStatus.jsx","../../src/components/LenderDashboard/AlertsPanel.jsx","../../src/components/LenderDashboard/DecisionBadge.jsx","../../src/components/LenderDashboard/RecentDecisionsPanel.jsx","../../src/components/LenderDashboard/Header.jsx","../../src/components/LenderDashboard/BorrowerList.jsx","../../src/components/LenderDashboard/SearchPanel.jsx","../../src/components/LenderDashboard/RiskTierOverridePanel.jsx","../../src/components/LenderDashboard/LendingDecisionDetails.jsx","../../src/components/LenderDashboard/DecisionConfigPanel.jsx","../../src/components/LenderDashboard/ManualDecisionForm.jsx","../../src/components/LenderDashboard/dialogs/RegisterUserDialog.jsx","../../src/components/LenderDashboard/utils.js","../../../node_modules/@radix-ui/react-slider/dist/index.mjs","../../src/components/ui/slider.jsx","../../src/components/LenderDashboard/BorrowerSnapshot.jsx","../../src/components/LenderDashboard.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\",\n      key: \"169zse\"\n    }\n  ]\n];\nconst Activity = createLucideIcon(\"activity\", __iconNode);\n\nexport { __iconNode, Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M8 2v4\", key: \"1cmpym\" }],\n  [\"path\", { d: \"M16 2v4\", key: \"4m81vk\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", key: \"1hopcy\" }],\n  [\"path\", { d: \"M3 10h18\", key: \"8toen8\" }],\n  [\"path\", { d: \"M8 14h.01\", key: \"6423bh\" }],\n  [\"path\", { d: \"M12 14h.01\", key: \"1etili\" }],\n  [\"path\", { d: \"M16 14h.01\", key: \"1gbofw\" }],\n  [\"path\", { d: \"M8 18h.01\", key: \"lrp35t\" }],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }],\n  [\"path\", { d: \"M16 18h.01\", key: \"kzsmim\" }]\n];\nconst CalendarDays = createLucideIcon(\"calendar-days\", __iconNode);\n\nexport { __iconNode, CalendarDays as default };\n//# sourceMappingURL=calendar-days.js.map\n","/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 16h.01\", key: \"1drbdi\" }],\n  [\"path\", { d: \"M12 8v4\", key: \"1got3b\" }],\n  [\n    \"path\",\n    {\n      d: \"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z\",\n      key: \"1fd625\"\n    }\n  ]\n];\nconst OctagonAlert = createLucideIcon(\"octagon-alert\", __iconNode);\n\nexport { __iconNode, OctagonAlert as default };\n//# sourceMappingURL=octagon-alert.js.map\n","/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z\",\n      key: \"e79jfc\"\n    }\n  ],\n  [\"circle\", { cx: \"13.5\", cy: \"6.5\", r: \".5\", fill: \"currentColor\", key: \"1okk4w\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"10.5\", r: \".5\", fill: \"currentColor\", key: \"f64h9f\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"12.5\", r: \".5\", fill: \"currentColor\", key: \"qy21gx\" }],\n  [\"circle\", { cx: \"8.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"fotxhn\" }]\n];\nconst Palette = createLucideIcon(\"palette\", __iconNode);\n\nexport { __iconNode, Palette as default };\n//# sourceMappingURL=palette.js.map\n","/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"19\", x2: \"5\", y1: \"5\", y2: \"19\", key: \"1x9vlm\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"6.5\", r: \"2.5\", key: \"4mh3h7\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"17.5\", r: \"2.5\", key: \"1mdrzq\" }]\n];\nconst Percent = createLucideIcon(\"percent\", __iconNode);\n\nexport { __iconNode, Percent as default };\n//# sourceMappingURL=percent.js.map\n","/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",\n      key: \"4pj2yx\"\n    }\n  ],\n  [\"path\", { d: \"M20 3v4\", key: \"1olli1\" }],\n  [\"path\", { d: \"M22 5h-4\", key: \"1gvqau\" }],\n  [\"path\", { d: \"M4 17v2\", key: \"vumght\" }],\n  [\"path\", { d: \"M5 18H3\", key: \"zchphs\" }]\n];\nconst Sparkles = createLucideIcon(\"sparkles\", __iconNode);\n\nexport { __iconNode, Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }]\n];\nconst Square = createLucideIcon(\"square\", __iconNode);\n\nexport { __iconNode, Square as default };\n//# sourceMappingURL=square.js.map\n","import React, { useState } from 'react';\nimport { \n  CheckCircle2, \n  XCircle, \n  Clock, \n  AlertCircle,\n  DollarSign,\n  Percent,\n  Calendar,\n  Calculator,\n  FileText,\n  Download,\n  Send,\n  Edit,\n  User,\n  CalendarDays,\n  AlertTriangle,\n  CheckSquare,\n  Square,\n  Trash2,\n  Save,\n  X\n} from 'lucide-react';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Textarea } from './ui/textarea';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { Separator } from './ui/separator';\nimport { useToast } from '../hooks/use-toast';\n\nconst LoanDecisionStatus = ({ \n  decision, \n  loanOffer, \n  onDecisionAction,\n  onEditOffer,\n  onDownloadPDF,\n  onSendOffer,\n  onDeclineOffer,\n  isLender = true \n}) => {\n  const { toast } = useToast();\n  const [internalNotes, setInternalNotes] = useState(decision?.internalNotes || '');\n  const [isEditingNotes, setIsEditingNotes] = useState(false);\n  const [isSavingNotes, setIsSavingNotes] = useState(false);\n\n  // Format decision date\n  const formatDecisionDate = (timestamp) => {\n    if (!timestamp) return 'N/A';\n    return new Date(timestamp).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  // Render decision status badge\n  const renderDecisionBadge = (decisionStatus) => {\n    const baseClasses = 'inline-flex items-center rounded-full text-xs font-medium px-3 py-1';\n    \n    switch(decisionStatus?.toLowerCase()) {\n      case 'approve':\n        return (\n          <Badge className={`${baseClasses} bg-green-100 text-green-800 border border-green-200`}>\n            <CheckCircle2 className=\"h-4 w-4 mr-1\" />\n            Approved\n          </Badge>\n        );\n      case 'reject':\n        return (\n          <Badge className={`${baseClasses} bg-red-100 text-red-800 border border-red-200`}>\n            <XCircle className=\"h-4 w-4 mr-1\" />\n            Rejected\n          </Badge>\n        );\n      case 'hold':\n        return (\n          <Badge className={`${baseClasses} bg-orange-100 text-orange-800 border border-orange-200`}>\n            <Clock className=\"h-4 w-4 mr-1\" />\n            Hold\n          </Badge>\n        );\n      case 'review':\n      default:\n        return (\n          <Badge className={`${baseClasses} bg-yellow-100 text-yellow-800 border border-yellow-200`}>\n            <AlertCircle className=\"h-4 w-4 mr-1\" />\n            Under Review\n          </Badge>\n        );\n    }\n  };\n\n  // Save internal notes\n  const saveInternalNotes = async () => {\n    setIsSavingNotes(true);\n    try {\n      // Here you would typically save to backend\n      // await api.post(`/lenders/save-notes/${decision.userId}`, { notes: internalNotes });\n      \n      toast({\n        title: \"Notes Saved\",\n        description: \"Internal notes have been saved successfully.\",\n        variant: \"default\",\n      });\n      setIsEditingNotes(false);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to save notes. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSavingNotes(false);\n    }\n  };\n\n  // Handle decision actions\n  const handleDecisionAction = (action) => {\n    if (onDecisionAction) {\n      onDecisionAction(action);\n    }\n  };\n\n  // Calculate monthly payment\n  const calculateMonthlyPayment = (amount, rate, term) => {\n    if (!amount || !term) return 0;\n    if (rate === 0) return amount / term;\n    const monthlyRate = rate / 100 / 12;\n    const payment = (amount * monthlyRate * Math.pow(1 + monthlyRate, term)) / \n                   (Math.pow(1 + monthlyRate, term) - 1);\n    return payment;\n  };\n\n  const normalizedAmount = Number(loanOffer?.amount ?? loanOffer?.maxAmount ?? 0) || 0;\n  const normalizedRate = Number(loanOffer?.interestRate ?? 0) || 0;\n  const normalizedTerm = Number(loanOffer?.termMonths ?? loanOffer?.term ?? 0) || 0;\n\n  const monthlyPayment = calculateMonthlyPayment(\n    normalizedAmount,\n    normalizedRate,\n    normalizedTerm\n  );\n\n  const formatDtiRating = (dtiValue, explicitRating) => {\n    if (explicitRating) return explicitRating;\n    if (typeof dtiValue !== 'number') return 'N/A';\n    if (dtiValue < 0.15) return 'Excellent';\n    if (dtiValue < 0.25) return 'Good';\n    if (dtiValue < 0.35) return 'Fair';\n    return 'Poor';\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Loan Decision Status */}\n      <Card className=\"border-l-4 border-l-blue-500\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <FileText className=\"h-5 w-5 text-blue-600\" />\n            Loan Decision Status\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {/* Status Badge and Decision Info */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                {renderDecisionBadge(decision?.decision)}\n                <div className=\"text-sm text-muted-foreground\">\n                  by {decision?.decisionBy || 'System'} on {formatDecisionDate(decision?.timestamp)}\n                </div>\n              </div>\n              {decision?.decision === 'Approve' && (\n                <div className=\"text-green-600 text-sm font-medium\">\n                  ðŸ’¼ Loan Approved\n                </div>\n              )}\n            </div>\n\n            {/* Decision Details */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n              <div>\n                <h4 className=\"font-medium text-sm text-muted-foreground mb-2\">Decision Details</h4>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span>Decision:</span>\n                    <span className=\"font-medium\">{decision?.decision || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Score:</span>\n                    <span className=\"font-medium\">{decision?.score || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Classification:</span>\n                    <span className=\"font-medium\">{decision?.classification || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Risk Tier:</span>\n                    <span className=\"font-medium\">{decision?.riskTier || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Risk Label:</span>\n                    <span className=\"font-medium\">{decision?.riskTierLabel || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Default Risk:</span>\n                    <span className=\"font-medium\">{decision?.defaultRiskEstimate || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>DTI Ratio:</span>\n                    <span className=\"font-medium\">\n                      {typeof decision?.dti === 'number'\n                        ? `${(decision.dti * 100).toFixed(1)}%`\n                        : (typeof decision?.scoreResult?.dtiRatio === 'number'\n                            ? `${(decision.scoreResult.dtiRatio * 100).toFixed(1)}%`\n                            : 'N/A')}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>DTI Rating:</span>\n                    <span className=\"font-medium\">{formatDtiRating(\n                      typeof decision?.dti === 'number' ? decision.dti : decision?.scoreResult?.dtiRatio,\n                      decision?.dtiRating\n                    )}</span>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h4 className=\"font-medium text-sm text-muted-foreground mb-2\">Processing Info</h4>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span>Decision Date:</span>\n                    <span className=\"font-medium\">{formatDecisionDate(decision?.timestamp)}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Decision By:</span>\n                    <span className=\"font-medium\">{decision?.decisionBy || 'System'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Engine Version:</span>\n                    <span className=\"font-medium\">{decision?.engineVersion || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Manual Override:</span>\n                    <span className=\"font-medium\">{decision?.isManual ? 'Yes' : 'No'}</span>\n                  </div>\n                  {decision?.rejectionCode && (\n                    <div className=\"flex justify-between\">\n                      <span>Rejection Code:</span>\n                      <span className=\"font-medium text-red-600\">{decision.rejectionCode}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Scoring Engine Details */}\n            {decision?.scoringDetails && (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                <div>\n                  <h4 className=\"font-medium text-sm text-muted-foreground mb-2\">Scoring Engine Details</h4>\n                  <div className=\"space-y-2 text-sm\">\n                    <div className=\"flex justify-between\">\n                      <span>Recession Mode:</span>\n                      <span className=\"font-medium\">{decision.scoringDetails.recessionMode ? 'Enabled' : 'Disabled'}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>AI Enabled:</span>\n                      <span className=\"font-medium\">{decision.scoringDetails.aiEnabled ? 'Yes' : 'No'}</span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <h4 className=\"font-medium text-sm text-muted-foreground mb-2\">Customer Profile</h4>\n                  <div className=\"space-y-2 text-sm\">\n                    <div className=\"flex justify-between\">\n                      <span>Employment:</span>\n                      <span className=\"font-medium\">{decision.customerProfile?.employmentStatus || 'N/A'}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Active Loans:</span>\n                      <span className=\"font-medium\">{decision.customerProfile?.activeLoans || 'N/A'}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Last Delinquency:</span>\n                      <span className=\"font-medium\">\n                        {decision.customerProfile?.lastDelinquency === 'N/A' ? 'N/A' : \n                         `${decision.customerProfile?.lastDelinquency} months ago`}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Decision Reasons */}\n            {decision?.reasons && decision.reasons.length > 0 && (\n              <div className={`p-4 ${decision?.decision?.toLowerCase() === 'reject' ? 'bg-red-50 dark:bg-red-900/20' : 'bg-green-50 dark:bg-green-900/20'} rounded-lg`}>\n                <h4 className=\"font-medium text-sm text-muted-foreground mb-2\">\n                  {decision?.decision?.toLowerCase() === 'reject' ? 'Rejection Reasons' : 'Decision Reasons'}\n                </h4>\n                <div className=\"space-y-1\">\n                  {decision.reasons.map((reason, index) => (\n                    <div key={index} className=\"flex items-center gap-2 text-sm\">\n                      <span className={decision?.decision?.toLowerCase() === 'reject' ? 'text-red-600' : 'text-green-600'}>â€¢</span>\n                      <span>{reason}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Final Offer Details */}\n      {loanOffer && (\n        <Card className=\"border-l-4 border-l-green-500\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <DollarSign className=\"h-5 w-5 text-green-600\" />\n              Final Offer Details\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {/* Offer Summary */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <DollarSign className=\"h-4 w-4 text-green-600\" />\n                    <span className=\"text-sm text-muted-foreground\">Loan Amount Offered</span>\n                  </div>\n                  <div className=\"text-2xl font-bold text-green-600\">\n                    {normalizedAmount === 0 ? '$0 (Not Eligible)' : `$${normalizedAmount.toLocaleString()}`}\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Percent className=\"h-4 w-4 text-blue-600\" />\n                    <span className=\"text-sm text-muted-foreground\">Interest Rate</span>\n                  </div>\n                  <div className=\"text-2xl font-bold text-blue-600\">\n                    {normalizedRate.toFixed(1)}%\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Calendar className=\"h-4 w-4 text-purple-600\" />\n                    <span className=\"text-sm text-muted-foreground\">Term (Months)</span>\n                  </div>\n                  <div className=\"text-2xl font-bold text-purple-600\">\n                    {normalizedTerm > 0 ? `${normalizedTerm} months` : 'N/A'}\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Calculator className=\"h-4 w-4 text-orange-600\" />\n                    <span className=\"text-sm text-muted-foreground\">Estimated Monthly Payment</span>\n                  </div>\n                  <div className=\"text-2xl font-bold text-orange-600\">\n                    ${monthlyPayment.toFixed(2)}\n                  </div>\n                </div>\n              </div>\n\n              {/* Additional Offer Details */}\n              <Separator />\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n                  <div className=\"text-sm text-muted-foreground\">APR</div>\n                  <div className=\"text-lg font-semibold\">\n                    {(normalizedRate + 0.5).toFixed(2)}%\n                  </div>\n                </div>\n                <div className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n                  <div className=\"text-sm text-muted-foreground\">Total Interest</div>\n                  <div className=\"text-lg font-semibold\">\n                    ${((monthlyPayment * normalizedTerm) - normalizedAmount).toFixed(2)}\n                  </div>\n                </div>\n                <div className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n                  <div className=\"text-sm text-muted-foreground\">Total Repayment</div>\n                  <div className=\"text-lg font-semibold\">\n                    {normalizedTerm > 0 ? `$${(monthlyPayment * normalizedTerm).toFixed(2)}` : 'N/A'}\n                  </div>\n                </div>\n              </div>\n\n              {/* Pricing Model Breakdown */}\n              {loanOffer?.pricingModel && (\n                <div className=\"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg\">\n                  <h4 className=\"font-medium text-sm text-muted-foreground mb-3\">Pricing Model Breakdown</h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <div className=\"flex justify-between text-sm\">\n                        <span>Base Rate:</span>\n                        <span className=\"font-medium\">{loanOffer.pricingModel.baseRate?.toFixed(2) || 'N/A'}%</span>\n                      </div>\n                      <div className=\"flex justify-between text-sm\">\n                        <span>DTI Adjustment:</span>\n                        <span className=\"font-medium\">\n                          {loanOffer.pricingModel.adjustments?.dtiAdjustment ? \n                           `+${loanOffer.pricingModel.adjustments.dtiAdjustment.toFixed(2)}%` : 'N/A'}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between text-sm\">\n                        <span>DTI Rating Adjustment:</span>\n                        <span className=\"font-medium\">\n                          {loanOffer.pricingModel.adjustments?.dtiRatingAdjustment ? \n                           `+${loanOffer.pricingModel.adjustments.dtiRatingAdjustment.toFixed(2)}%` : 'N/A'}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between text-sm\">\n                        <span>Recession Adjustment:</span>\n                        <span className=\"font-medium\">\n                          {loanOffer.pricingModel.adjustments?.recessionAdjustment ? \n                           `+${loanOffer.pricingModel.adjustments.recessionAdjustment.toFixed(2)}%` : 'N/A'}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between text-sm\">\n                        <span>Payment Adjustment:</span>\n                        <span className=\"font-medium\">\n                          {loanOffer.pricingModel.adjustments?.paymentAdjustment ? \n                           `+${loanOffer.pricingModel.adjustments.paymentAdjustment.toFixed(2)}%` : 'N/A'}\n                        </span>\n                      </div>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <div className=\"flex justify-between text-sm font-semibold border-t pt-2\">\n                        <span>Final Rate:</span>\n                        <span className=\"text-purple-600\">{loanOffer.pricingModel.finalRate?.toFixed(2) || 'N/A'}%</span>\n                      </div>\n                      <div className=\"text-xs text-muted-foreground mt-2\">\n                        <p>â€¢ Base rate determined by risk tier</p>\n                        <p>â€¢ Adjustments applied for risk factors</p>\n                        <p>â€¢ Final rate capped at 35.99%</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Available Terms */}\n              {loanOffer?.availableTerms && loanOffer.availableTerms.length > 0 && (\n                <div className=\"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg\">\n                  <h4 className=\"font-medium text-sm text-muted-foreground mb-2\">Available Terms</h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {loanOffer.availableTerms.map((term, index) => (\n                      <Badge key={index} variant=\"outline\" className=\"text-orange-700 border-orange-300\">\n                        {term} months\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Offer Expiration */}\n              {loanOffer.expirationDate && (\n                <div className=\"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg\">\n                  <div className=\"flex items-center gap-2\">\n                    <CalendarDays className=\"h-4 w-4 text-yellow-600\" />\n                    <span className=\"text-sm font-medium text-yellow-800 dark:text-yellow-200\">\n                      Offer Expiration Date: {new Date(loanOffer.expirationDate).toLocaleDateString()}\n                    </span>\n                  </div>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Internal Notes Section */}\n      <Card className=\"border-l-4 border-l-purple-500\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <FileText className=\"h-5 w-5 text-purple-600\" />\n            ðŸ“„ Internal Notes\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {isEditingNotes ? (\n              <div className=\"space-y-3\">\n                <Textarea\n                  placeholder=\"Enter internal notes for underwriter/lender input (max 1000 chars)...\"\n                  value={internalNotes}\n                  onChange={(e) => setInternalNotes(e.target.value.slice(0, 1000))}\n                  className=\"min-h-[120px]\"\n                  maxLength={1000}\n                />\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-xs text-muted-foreground\">\n                    {internalNotes.length}/1000 characters\n                  </span>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => {\n                        setInternalNotes(decision?.internalNotes || '');\n                        setIsEditingNotes(false);\n                      }}\n                    >\n                      <X className=\"h-4 w-4 mr-1\" />\n                      Cancel\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      onClick={saveInternalNotes}\n                      disabled={isSavingNotes}\n                    >\n                      <Save className=\"h-4 w-4 mr-1\" />\n                      {isSavingNotes ? 'Saving...' : 'Save Notes'}\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                <div className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg min-h-[120px]\">\n                  {internalNotes ? (\n                    <p className=\"text-sm whitespace-pre-wrap\">{internalNotes}</p>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground italic\">\n                      No internal notes added yet. Click \"Edit Notes\" to add underwriter comments.\n                    </p>\n                  )}\n                </div>\n                {isLender && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => setIsEditingNotes(true)}\n                  >\n                    <Edit className=\"h-4 w-4 mr-1\" />\n                    Edit Notes\n                  </Button>\n                )}\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Risk Flags and Warnings */}\n      {decision?.riskFlags && decision.riskFlags.length > 0 && (\n        <Card className=\"border-l-4 border-l-red-500\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5 text-red-600\" />\n              Risk Flags & Warnings\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2\">\n              {decision.riskFlags.map((flag, index) => (\n                <div key={index} className=\"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg\">\n                  <AlertTriangle className=\"h-4 w-4 text-red-600\" />\n                  <span className=\"text-sm text-red-800 dark:text-red-200\">{flag}</span>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nexport default LoanDecisionStatus;","import React from 'react';\r\nimport { Card, CardHeader, CardTitle, CardContent } from '../ui/card';\r\nimport { Button } from '../ui/button';\r\nimport { Bell, AlertTriangle } from 'lucide-react';\r\n\r\nconst AlertsPanel = ({ alerts }) => (\r\n  <Card>\r\n    <CardHeader>\r\n      <div className=\"flex justify-between items-center\">\r\n        <CardTitle>Alerts & Monitoring</CardTitle>\r\n        <Button variant=\"ghost\" size=\"icon\">\r\n          <Bell className=\"h-5 w-5\" />\r\n        </Button>\r\n      </div>\r\n    </CardHeader>\r\n    <CardContent>\r\n      <div className=\"space-y-4\">\r\n        {alerts.length > 0 ? alerts.map((alert, index) => (\r\n          <div key={index} className=\"flex items-start gap-3\">\r\n            <div className={`p-2 rounded-full mt-1 ${alert.type === 'critical' ? 'bg-red-100' : 'bg-yellow-100'}`}>\r\n              <AlertTriangle className={`h-4 w-4 ${alert.type === 'critical' ? 'text-red-600' : 'text-yellow-600'}`} />\r\n            </div>\r\n            <div>\r\n              <h4 className=\"font-medium\">{alert.title}</h4>\r\n              <p className=\"text-sm text-muted-foreground\">{alert.description}</p>\r\n              <p className=\"text-xs text-muted-foreground mt-1\">{alert.time}</p>\r\n            </div>\r\n          </div>\r\n        )) : (\r\n          <div className=\"text-center py-4 text-muted-foreground\">\r\n            No alerts at this time\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CardContent>\r\n  </Card>\r\n);\r\n\r\nexport default AlertsPanel; ","import React from 'react';\r\nimport { CheckCircle2, XCircle, Clock, AlertCircle } from 'lucide-react';\r\n\r\nconst DecisionBadge = ({ decision, size = 'default' }) => {\r\n  const baseClasses = 'inline-flex items-center rounded-full text-xs font-medium';\r\n  const sizeClasses = size === 'large' ? 'px-3 py-1 text-sm' : 'px-2.5 py-0.5 text-xs';\r\n  const iconSize = size === 'large' ? 'h-4 w-4' : 'h-3 w-3';\r\n\r\n  switch ((decision || '').toLowerCase()) {\r\n    case 'approve':\r\n      return (\r\n        <span className={`${baseClasses} ${sizeClasses} bg-green-100 text-green-800`}>\r\n          <CheckCircle2 className={`${iconSize} mr-1`} />\r\n          Approved\r\n        </span>\r\n      );\r\n    case 'reject':\r\n      return (\r\n        <span className={`${baseClasses} ${sizeClasses} bg-red-100 text-red-800`}>\r\n          <XCircle className={`${iconSize} mr-1`} />\r\n          Rejected\r\n        </span>\r\n      );\r\n    case 'hold':\r\n      return (\r\n        <span className={`${baseClasses} ${sizeClasses} bg-orange-100 text-orange-800`}>\r\n          <Clock className={`${iconSize} mr-1`} />\r\n          Hold\r\n        </span>\r\n      );\r\n    case 'review':\r\n    default:\r\n      return (\r\n        <span className={`${baseClasses} ${sizeClasses} bg-yellow-100 text-yellow-800`}>\r\n          <AlertCircle className={`${iconSize} mr-1`} />\r\n          Review\r\n        </span>\r\n      );\r\n  }\r\n};\r\n\r\nexport default DecisionBadge; ","import React from 'react';\r\nimport { Card, CardHeader, CardTitle, CardContent } from '../ui/card';\r\nimport DecisionBadge from './DecisionBadge.jsx';\r\n\r\nconst RecentDecisionsPanel = ({ recentDecisions }) => (\r\n  <Card>\r\n    <CardHeader>\r\n      <CardTitle>Recent Decisions</CardTitle>\r\n    </CardHeader>\r\n    <CardContent>\r\n      <div className=\"space-y-4\">\r\n        {recentDecisions.length > 0 ? recentDecisions.map((decision, index) => (\r\n          <div key={index} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n            <div>\r\n              <h4 className=\"font-medium\">{decision.user?.name || 'Unknown User'}</h4>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {decision.user?.email || 'No email'}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <DecisionBadge decision={decision.lendingDecision?.decision || 'Review'} />\r\n            </div>\r\n          </div>\r\n        )) : (\r\n          <div className=\"text-center py-4 text-muted-foreground\">\r\n            No recent decisions\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CardContent>\r\n  </Card>\r\n);\r\n\r\nexport default RecentDecisionsPanel; ","import React from 'react';\r\nimport { Button } from '../ui/button';\r\nimport { Badge } from '../ui/badge';\r\nimport { BarChart4, RefreshCw, Upload, UserPlus, Sparkles, Activity } from 'lucide-react';\r\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '../ui/tooltip';\r\n\r\nconst Header = ({\r\n  darkMode,\r\n  toggleDarkMode,\r\n  refreshing,\r\n  pollingState,\r\n  onRefresh,\r\n  onOpenBatchUpload,\r\n  onOpenRegister\r\n}) => (\r\n  <div className=\"mb-8 flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between\">\r\n    <div className=\"space-y-2\">\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"rounded-2xl bg-gradient-to-r from-indigo-500 to-purple-500 p-3 shadow-lg\">\r\n          <BarChart4 className=\"h-8 w-8 text-white\" />\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-4xl font-bold text-foreground\">Lender Dashboard</h1>\r\n          <p className=\"text-lg text-muted-foreground\">Advanced loan decision platform</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"flex items-center gap-3\">\r\n      <Button\r\n        onClick={onRefresh}\r\n        variant=\"outline\"\r\n        size=\"lg\"\r\n        className=\"group border-border bg-card hover:bg-muted transition-all duration-300\"\r\n        disabled={pollingState?.consecutiveErrors >= 10}\r\n      >\r\n        <RefreshCw className={`h-4 w-4 ${refreshing ? 'animate-spin' : 'group-hover:rotate-45'} transition-transform duration-300`} />\r\n        Refresh\r\n        {pollingState?.consecutiveErrors > 0 && (\r\n          <Badge variant=\"destructive\" className=\"ml-2 text-xs\">\r\n            {pollingState.consecutiveErrors}\r\n          </Badge>\r\n        )}\r\n      </Button>\r\n      \r\n      <Button\r\n        onClick={onOpenBatchUpload}\r\n        variant=\"outline\"\r\n        size=\"lg\"\r\n        className=\"border-border bg-card hover:bg-muted transition-all duration-300\"\r\n      >\r\n        <Upload className=\"h-4 w-4\" />\r\n        Batch Upload\r\n      </Button>\r\n      \r\n      <Button\r\n        onClick={onOpenRegister}\r\n        size=\"lg\"\r\n        className=\"bg-gradient-to-r from-indigo-500 to-purple-500 hover:opacity-90 transition-opacity shadow-lg\"\r\n      >\r\n        <UserPlus className=\"h-4 w-4\" />\r\n        Register User\r\n      </Button>\r\n\r\n      <TooltipProvider>\r\n        <Tooltip>\r\n          <TooltipTrigger asChild>\r\n            <Button\r\n              onClick={toggleDarkMode}\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n              className=\"border-border bg-card hover:bg-muted transition-all duration-300\"\r\n            >\r\n              {darkMode ? (\r\n                <Sparkles className=\"h-4 w-4 text-amber-500\" />\r\n              ) : (\r\n                <Activity className=\"h-4 w-4 text-indigo-500\" />\r\n              )}\r\n            </Button>\r\n          </TooltipTrigger>\r\n          <TooltipContent>\r\n            Toggle {darkMode ? 'light' : 'dark'} mode\r\n          </TooltipContent>\r\n        </Tooltip>\r\n      </TooltipProvider>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Header;\r\n\r\n\r\n","import React from 'react';\r\nimport { Table, TableHeader, TableRow, TableHead, TableBody, TableCell } from '../ui/table';\r\nimport { Badge } from '../ui/badge';\r\nimport { Button } from '../ui/button';\r\nimport { CreditCard } from 'lucide-react';\r\n\r\nconst BorrowerList = ({ users, handleUserSelect, renderDecisionBadge }) => (\r\n  <Table>\r\n    <TableHeader>\r\n      <TableRow>\r\n        <TableHead>Borrower</TableHead>\r\n        <TableHead>Status</TableHead>\r\n        <TableHead>Credit Score</TableHead>\r\n        <TableHead>Risk Level</TableHead>\r\n        <TableHead>Decision</TableHead>\r\n        <TableHead>Actions</TableHead>\r\n      </TableRow>\r\n    </TableHeader>\r\n    <TableBody>\r\n      {users.map((user) => (\r\n        <TableRow key={user._id}>\r\n          <TableCell>\r\n            <div className=\"font-medium\">{user.name || 'N/A'}</div>\r\n            <div className=\"text-sm text-muted-foreground\">{user.email || 'N/A'}</div>\r\n          </TableCell>\r\n          <TableCell>\r\n            <Badge variant=\"outline\">\r\n              {user.status || 'inactive'}\r\n            </Badge>\r\n          </TableCell>\r\n          <TableCell>\r\n            <div className=\"flex items-center\">\r\n              <CreditCard className=\"h-4 w-4 mr-2 text-muted-foreground\" />\r\n              {user.creditScore || 'N/A'}\r\n            </div>\r\n          </TableCell>\r\n          <TableCell>\r\n            <Badge variant={\r\n              user.lendingDecision?.riskFlags?.highDTI || \r\n              user.lendingDecision?.riskFlags?.hasDefaults ? \"destructive\" : \r\n              user.lendingDecision?.riskFlags?.hasMissedPayments ? \"warning\" : \"default\"\r\n            }>\r\n              {user.lendingDecision?.riskFlags?.highDTI || \r\n               user.lendingDecision?.riskFlags?.hasDefaults ? \"High Risk\" : \r\n               user.lendingDecision?.riskFlags?.hasMissedPayments ? \"Medium Risk\" : \"Low Risk\"}\r\n            </Badge>\r\n          </TableCell>\r\n          <TableCell>\r\n            <div className=\"flex items-center\">\r\n              {renderDecisionBadge(user.lendingDecision?.decision || 'Review')}\r\n            </div>\r\n          </TableCell>\r\n          <TableCell>\r\n            <Button size=\"sm\" onClick={() => handleUserSelect(user)}>Review</Button>\r\n          </TableCell>\r\n        </TableRow>\r\n      ))}\r\n    </TableBody>\r\n  </Table>\r\n);\r\n\r\nexport default BorrowerList; ","import React from 'react';\r\nimport { Card, CardHeader, CardContent } from '../ui/card';\r\nimport { Input } from '../ui/input';\r\nimport { Button } from '../ui/button';\r\nimport { Users, Search, XCircle, Loader2 } from 'lucide-react';\r\nimport BorrowerList from './BorrowerList.jsx';\r\nimport DecisionBadge from './DecisionBadge.jsx';\r\n\r\nconst SearchPanel = ({ searchQuery, onSearchChange, users, loading, onSelectUser }) => (\r\n  <Card className=\"mb-8 overflow-hidden border-0 bg-card shadow-lg transition-all duration-300 hover:shadow-xl\">\r\n    <CardHeader className=\"bg-gradient-to-r from-muted/50 to-muted/30 p-6\">\r\n      <div className=\"flex flex-col gap-4 lg:flex-row lg:items-center\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground\" />\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Search borrowers by name, email, or phone...\"\r\n              className=\"pl-12 h-12 border-0 bg-background shadow-inner text-lg placeholder:text-muted-foreground focus:ring-2 focus:ring-indigo-500\"\r\n              value={searchQuery}\r\n              onChange={onSearchChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex gap-3\">\r\n          <Button \r\n            variant=\"outline\" \r\n            onClick={() => onSearchChange({ target: { value: '' } })}\r\n            disabled={!searchQuery}\r\n            className=\"h-12 border-border bg-background hover:bg-muted transition-colors\"\r\n          >\r\n            <XCircle className=\"h-4 w-4 mr-2\" />\r\n            Clear\r\n          </Button>\r\n          <Button \r\n            className=\"h-12 bg-gradient-to-r from-indigo-500 to-purple-500 hover:opacity-90 transition-opacity shadow-lg\"\r\n            onClick={() => onSearchChange({ target: { value: searchQuery } })}\r\n          >\r\n            <Search className=\"h-4 w-4 mr-2\" />\r\n            Search\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </CardHeader>\r\n    \r\n    <CardContent className=\"p-0\">\r\n      {users.length > 0 ? (\r\n        <div className=\"animate-fade-in\">\r\n          <BorrowerList\r\n            users={users}\r\n            handleUserSelect={onSelectUser}\r\n            renderDecisionBadge={DecisionBadge}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex flex-col items-center justify-center p-12 text-center\">\r\n          {loading ? (\r\n            <div className=\"space-y-4\">\r\n              <Loader2 className=\"h-8 w-8 animate-spin text-indigo-500\" />\r\n              <p className=\"text-muted-foreground\">Searching borrowers...</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"rounded-full bg-muted p-6\">\r\n                <Users className=\"h-8 w-8 text-muted-foreground\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-semibold text-foreground\">No borrowers found</h3>\r\n                <p className=\"text-muted-foreground\">Start typing to search for borrowers</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </CardContent>\r\n  </Card>\r\n);\r\n\r\nexport default SearchPanel;\r\n\r\n\r\n","import React from 'react';\r\nimport { Card, CardHeader, CardTitle, CardContent } from '../ui/card';\r\nimport { Badge } from '../ui/badge';\r\nimport { Label } from '../ui/label';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\r\nimport { Textarea } from '../ui/textarea';\r\nimport { Shield, AlertTriangle } from 'lucide-react';\r\n\r\nconst RiskTierOverridePanel = ({ userCreditData, isEditingDecision, manualDecision, handleManualDecision, user }) => {\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex justify-between items-center\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Shield className=\"h-5 w-5 text-blue-600\" />\r\n            Risk Tier Override\r\n          </CardTitle>\r\n          {(user?.role === 'admin' || user?.role === 'lender') ? (\r\n            <Badge variant=\"outline\" className=\"text-xs text-green-600 border-green-600\">\r\n              Senior Underwriter Access\r\n            </Badge>\r\n          ) : (\r\n            <Badge variant=\"outline\" className=\"text-xs text-gray-500\">\r\n              Senior Underwriter Only\r\n            </Badge>\r\n          )}\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"space-y-4\">\r\n          {/* Current Risk Tier Display */}\r\n          <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n            <div>\r\n              <span className=\"text-sm font-medium text-gray-600\">Current Risk Tier:</span>\r\n              <div className=\"flex items-center gap-2 mt-1\">\r\n                <Badge variant={userCreditData?.lendingDecision?.riskTier === 'low' ? 'default' : \r\n                               userCreditData?.lendingDecision?.riskTier === 'medium' ? 'secondary' : 'destructive'}>\r\n                  {userCreditData?.lendingDecision?.riskTierLabel || userCreditData?.lendingDecision?.riskTier || 'Not Assigned'}\r\n                </Badge>\r\n                {userCreditData?.lendingDecision?.riskTierOverride && (\r\n                  <Badge variant=\"outline\" className=\"text-orange-600 border-orange-600\">\r\n                    Overridden\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <span className=\"text-sm text-gray-600\">Score:</span>\r\n              <div className=\"text-lg font-bold\">{userCreditData?.lendingDecision?.score || 'N/A'}</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Override Controls */}\r\n          {isEditingDecision && (user?.role === 'admin' || user?.role === 'lender') && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"risk-tier-override\">Override Risk Tier</Label>\r\n                <Select \r\n                  value={manualDecision.riskTierOverride} \r\n                  onValueChange={(value) => handleManualDecision('riskTierOverride', value)}\r\n                >\r\n                  <SelectTrigger className=\"w-full\">\r\n                    <SelectValue placeholder=\"Select risk tier override\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"low\">Low Risk</SelectItem>\r\n                    <SelectItem value=\"medium\">Medium Risk</SelectItem>\r\n                    <SelectItem value=\"high\">High Risk</SelectItem>\r\n                    <SelectItem value=\"none\">No Override</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {manualDecision.riskTierOverride && (\r\n                <div>\r\n                  <Label htmlFor=\"override-justification\">Override Justification</Label>\r\n                  <Textarea\r\n                    id=\"override-justification\"\r\n                    placeholder=\"Explain the reason for this risk tier override...\"\r\n                    value={manualDecision.overrideJustification}\r\n                    onChange={(e) => handleManualDecision('overrideJustification', e.target.value)}\r\n                    className=\"mt-1\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Override History */}\r\n          {userCreditData?.lendingDecision?.overrideJustification && (\r\n            <div className=\"p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n              <div className=\"flex items-start gap-2\">\r\n                <AlertTriangle className=\"h-4 w-4 text-yellow-600 mt-0.5\" />\r\n                <div>\r\n                  <div className=\"font-medium text-sm\">Risk Tier Override Applied</div>\r\n                  <div className=\"text-sm text-gray-600 mt-1\">\r\n                    {userCreditData.lendingDecision.overrideJustification}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default RiskTierOverridePanel; ","import React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { Separator } from '../ui/separator';\nimport { \n  AlertTriangle, \n  Calculator, \n  User, \n  TrendingUp, \n  Shield, \n  Clock,\n  DollarSign,\n  Percent,\n  FileText\n} from 'lucide-react';\n\nconst LendingDecisionDetails = ({ lendingDecision }) => {\n  if (!lendingDecision) return null;\n\n  // Detect new engine output structure\n  const isNewEngine = lendingDecision.engine === 'LendingDecisionEngine' && lendingDecision.version && lendingDecision.decision && Array.isArray(lendingDecision.loanOffers);\n\n  // Helper for formatting date\n  const formatDate = (timestamp) => {\n    if (!timestamp) return 'N/A';\n    return new Date(timestamp).toLocaleString();\n  };\n\n  // Helper for rendering loan offers\n  const renderLoanOffers = (offers) => (\n    <div className=\"space-y-4\">\n      {offers.map((offer, idx) => (\n        <Card key={offer.offerId || idx} className=\"bg-blue-50 dark:bg-blue-900/10\">\n          <CardHeader>\n            <CardTitle>Loan Offer {offer.offerId ? `#${offer.offerId}` : `#${idx+1}`}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 gap-2 text-sm\">\n              <div><b>Type:</b> {offer.offerType}</div>\n              <div><b>Amount:</b> {offer.amount} {offer.currency}</div>\n              <div><b>Term:</b> {offer.term} months</div>\n              <div><b>Interest Rate:</b> {offer.interestRate}%</div>\n              <div><b>APR:</b> {offer.apr}%</div>\n              <div><b>Monthly Payment:</b> {offer.monthlyPayment}</div>\n              <div><b>Security Type:</b> {offer.securityType}</div>\n              {/* Render fees, amortizationSchedule, disclosures if present */}\n              {offer.fees && <div className=\"col-span-2\"><b>Fees:</b> {JSON.stringify(offer.fees)}</div>}\n              {offer.amortizationSchedule && <div className=\"col-span-2\"><b>Amortization Schedule:</b> <pre className=\"whitespace-pre-wrap\">{JSON.stringify(offer.amortizationSchedule, null, 2)}</pre></div>}\n              {offer.disclosures && <div className=\"col-span-2\"><b>Disclosures:</b> <pre className=\"whitespace-pre-wrap\">{JSON.stringify(offer.disclosures, null, 2)}</pre></div>}\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n\n  // Helper for collapsible details\n  const [showScoreDetails, setShowScoreDetails] = React.useState(false);\n  const [showPerfMetrics, setShowPerfMetrics] = React.useState(false);\n\n  if (isNewEngine) {\n    const { engine, version, timestamp, decision, loanOffers, scoreDetails, performanceMetrics } = lendingDecision;\n    return (\n      <div className=\"space-y-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <FileText className=\"h-5 w-5 text-blue-600\" />\n              Lending Decision Engine Output\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              <div className=\"space-y-2 text-sm\">\n                <div><b>Engine:</b> {engine}</div>\n                <div><b>Version:</b> {version}</div>\n                <div><b>Timestamp:</b> {formatDate(timestamp)}</div>\n              </div>\n              <div className=\"space-y-2 text-sm col-span-3\">\n                <h4 className=\"font-medium text-sm text-muted-foreground\">Decision</h4>\n                <div><b>Status:</b> {decision.status}</div>\n                <div><b>Reason:</b> {decision.reason}</div>\n                <div><b>Approved Amount:</b> {decision.approvedAmount}</div>\n                <div><b>Risk Category:</b> {decision.riskCategory}</div>\n                <div><b>DTI Status:</b> {decision.dtiStatus}</div>\n                <div><b>Loan to Value:</b> {decision.loanToValue}</div>\n                <div><b>Debt Service Coverage Ratio:</b> {decision.debtServiceCoverageRatio}</div>\n                {decision.verificationFlags && decision.verificationFlags.length > 0 && (\n                  <div><b>Verification Flags:</b> {decision.verificationFlags.join(', ')}</div>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n        {/* Loan Offers */}\n        {loanOffers && loanOffers.length > 0 && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Loan Offers</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {renderLoanOffers(loanOffers)}\n            </CardContent>\n          </Card>\n        )}\n        {/* Score Details (collapsible) */}\n        {scoreDetails && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2 cursor-pointer\" onClick={() => setShowScoreDetails(v => !v)}>\n                <Calculator className=\"h-5 w-5 text-purple-600\" />\n                <span>Score Details</span>\n                <span className=\"ml-2 text-xs text-blue-500\">[{showScoreDetails ? 'Hide' : 'Show'}]</span>\n              </CardTitle>\n            </CardHeader>\n            {showScoreDetails && (\n              <CardContent>\n                <pre className=\"whitespace-pre-wrap text-xs bg-gray-50 p-2 rounded overflow-x-auto\">{JSON.stringify(scoreDetails, null, 2)}</pre>\n              </CardContent>\n            )}\n          </Card>\n        )}\n        {/* Performance Metrics (collapsible) */}\n        {performanceMetrics && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2 cursor-pointer\" onClick={() => setShowPerfMetrics(v => !v)}>\n                <TrendingUp className=\"h-5 w-5 text-green-600\" />\n                <span>Performance Metrics</span>\n                <span className=\"ml-2 text-xs text-blue-500\">[{showPerfMetrics ? 'Hide' : 'Show'}]</span>\n              </CardTitle>\n            </CardHeader>\n            {showPerfMetrics && (\n              <CardContent>\n                <pre className=\"whitespace-pre-wrap text-xs bg-gray-50 p-2 rounded overflow-x-auto\">{JSON.stringify(performanceMetrics, null, 2)}</pre>\n              </CardContent>\n            )}\n          </Card>\n        )}\n      </div>\n    );\n  }\n\n  // Add a mapping for loanType values to labels\n  const loanTypeLabels = {\n    home_purchase: 'Home Purchase Loan',\n    refinance: 'Refinance Loan',\n    home_equity: 'Home Equity Loan (HEL)',\n    heloc: 'Home Equity Line of Credit (HELOC)',\n    construction: 'Construction Loan',\n    new_car: 'New Car Loan',\n    used_car: 'Used Car Loan',\n    auto_refinance: 'Auto Refinance',\n    lease_buyout: 'Lease Buyout Loan',\n    federal_student: 'Federal Student Loan',\n    private_student: 'Private Student Loan',\n    student_refinance: 'Student Loan Refinance',\n    credit_card: 'Credit Card',\n    store_card: 'Store/Retail Card',\n    charge_card: 'Charge Card',\n    secured_card: 'Secured Credit Card',\n    personal_unsecured: 'Unsecured Personal Loan',\n    personal_secured: 'Secured Personal Loan',\n    debt_consolidation: 'Debt Consolidation',\n    medical_loan: 'Medical Loan',\n    wedding_loan: 'Wedding or Vacation Loan',\n    emergency_loan: 'Emergency Loan',\n    business_term: 'Term Business Loan',\n    business_line: 'Line of Credit',\n    sba_loan: 'SBA or Government-backed Loan',\n    equipment_finance: 'Equipment Financing',\n    invoice_finance: 'Invoice Financing',\n    microfinance: 'Microfinance Loan',\n    bnpl: 'Buy Now, Pay Later (BNPL)',\n    installment_retail: 'Installment Purchase Loan',\n    mobile_loan: 'Mobile Loan',\n    crop_loan: 'Crop Loan',\n    livestock_loan: 'Livestock Loan',\n    agri_equipment: 'Agricultural Equipment Loan',\n    seasonal_loan: 'Seasonal Working Capital',\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Core Decision Information */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <FileText className=\"h-5 w-5 text-blue-600\" />\n            Complete Lending Decision Analysis\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {/* Decision Summary */}\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-sm text-muted-foreground\">Decision Summary</h4>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span>Decision:</span>\n                  <Badge variant={\n                    lendingDecision.decision === 'Approve' ? 'default' :\n                    lendingDecision.decision === 'Reject' ? 'destructive' : 'secondary'\n                  }>\n                    {lendingDecision.decision || 'N/A'}\n                  </Badge>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Score:</span>\n                  <span className=\"font-medium\">{lendingDecision.score || 'N/A'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Classification:</span>\n                  <span className=\"font-medium\">{lendingDecision.classification || 'N/A'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Engine Version:</span>\n                  <span className=\"font-medium\">{lendingDecision.engineVersion || 'N/A'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Timestamp:</span>\n                  <span className=\"font-medium text-xs\">{formatDate(lendingDecision.timestamp)}</span>\n                </div>\n                {lendingDecision.loanType && (\n                  <div className=\"flex justify-between\">\n                    <span>Loan Type:</span>\n                    <span className=\"font-medium\">{loanTypeLabels[lendingDecision.loanType] || lendingDecision.loanType}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Risk Assessment */}\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-sm text-muted-foreground\">Risk Assessment</h4>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span>Risk Tier:</span>\n                  <span className=\"font-medium\">{lendingDecision.riskTier || 'N/A'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Risk Label:</span>\n                  <span className=\"font-medium\">{lendingDecision.riskTierLabel || 'N/A'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Default Risk:</span>\n                  <span className=\"font-medium\">{lendingDecision.defaultRiskEstimate || 'N/A'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>DTI Ratio:</span>\n                  <span className=\"font-medium\">\n                    {typeof lendingDecision.dti === 'number' ? \n                     `${(lendingDecision.dti * 100).toFixed(1)}%` : 'N/A'}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>DTI Rating:</span>\n                  <span className=\"font-medium\">{lendingDecision.dtiRating || 'N/A'}</span>\n                </div>\n              </div>\n            </div>\n\n            {/* Customer Profile */}\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-sm text-muted-foreground\">Customer Profile</h4>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span>Employment:</span>\n                  <span className=\"font-medium\">{lendingDecision.customerProfile?.employmentStatus || 'N/A'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Active Loans:</span>\n                  <span className=\"font-medium\">{lendingDecision.customerProfile?.activeLoans || 'N/A'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Last Delinquency:</span>\n                  <span className=\"font-medium\">\n                    {lendingDecision.customerProfile?.lastDelinquency === 'N/A' ? 'N/A' : \n                     `${lendingDecision.customerProfile?.lastDelinquency} months ago`}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Manual Override:</span>\n                  <span className=\"font-medium\">{lendingDecision.isManual ? 'Yes' : 'No'}</span>\n                </div>\n                {lendingDecision.rejectionCode && (\n                  <div className=\"flex justify-between\">\n                    <span>Rejection Code:</span>\n                    <span className=\"font-medium text-red-600\">{lendingDecision.rejectionCode}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Scoring Engine Details */}\n      {lendingDecision.scoringDetails && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Calculator className=\"h-5 w-5 text-purple-600\" />\n              Scoring Engine Configuration\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"space-y-3\">\n                <h4 className=\"font-medium text-sm text-muted-foreground\">Engine Settings</h4>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span>Recession Mode:</span>\n                    <Badge variant={lendingDecision.scoringDetails.recessionMode ? 'destructive' : 'default'}>\n                      {lendingDecision.scoringDetails.recessionMode ? 'Enabled' : 'Disabled'}\n                    </Badge>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>AI Enabled:</span>\n                    <Badge variant={lendingDecision.scoringDetails.aiEnabled ? 'default' : 'secondary'}>\n                      {lendingDecision.scoringDetails.aiEnabled ? 'Yes' : 'No'}\n                    </Badge>\n                  </div>\n                </div>\n              </div>\n              <div className=\"space-y-3\">\n                <h4 className=\"font-medium text-sm text-muted-foreground\">Risk Flags</h4>\n                <div className=\"flex flex-wrap gap-1\">\n                  {lendingDecision.riskFlags && lendingDecision.riskFlags.length > 0 ? (\n                    lendingDecision.riskFlags.map((flag, index) => (\n                      <Badge key={index} variant=\"outline\" className=\"text-red-600 border-red-300\">\n                        {flag}\n                      </Badge>\n                    ))\n                  ) : (\n                    <span className=\"text-sm text-muted-foreground\">No risk flags</span>\n                  )}\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Decision Reasons */}\n      {lendingDecision.reasons && lendingDecision.reasons.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <TrendingUp className=\"h-5 w-5 text-green-600\" />\n              Decision Reasoning\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2\">\n              {lendingDecision.reasons.map((reason, index) => (\n                <div key={index} className=\"flex items-start gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded-lg\">\n                  <span className=\"text-green-600 mt-0.5\">â€¢</span>\n                  <span className=\"text-sm\">{reason}</span>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nexport default LendingDecisionDetails; ","import React, { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../ui/card';\r\nimport { Button } from '../ui/button';\r\nimport { Input } from '../ui/input';\r\nimport { Label } from '../ui/label';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs';\r\nimport { Switch } from '../ui/switch';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\r\nimport { Badge } from '../ui/badge';\r\nimport { Separator } from '../ui/separator';\r\nimport { Alert, AlertDescription } from '../ui/alert';\r\nimport { useToast } from '../../hooks/use-toast';\r\nimport { api } from '../../lib/api';\r\nimport { \r\n  Settings, \r\n  Brain, \r\n  DollarSign, \r\n  Shield, \r\n  Palette, \r\n  Save, \r\n  RefreshCw,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Info\r\n} from 'lucide-react';\r\n\r\nconst DecisionConfigPanel = () => {\r\n  const [config, setConfig] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('engines');\r\n  const [validationErrors, setValidationErrors] = useState([]);\r\n  const { toast } = useToast();\r\n\r\n  useEffect(() => {\r\n    loadBankConfig();\r\n  }, []);\r\n\r\n  const loadBankConfig = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/partner-banks/my/complete-config');\r\n      setConfig(response.data.config);\r\n      setValidationErrors([]);\r\n    } catch (error) {\r\n      console.error('Failed to load bank config:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load bank configuration\",\r\n        variant: \"destructive\"\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const saveConfig = async () => {\r\n    try {\r\n      setSaving(true);\r\n      \r\n      // Validate configuration before saving\r\n      const errors = validateConfiguration(config);\r\n      if (errors.length > 0) {\r\n        setValidationErrors(errors);\r\n        toast({\r\n          title: \"Validation Error\",\r\n          description: `Configuration has ${errors.length} validation errors`,\r\n          variant: \"destructive\"\r\n        });\r\n        return;\r\n      }\r\n\r\n      // Save each section separately\r\n      const savePromises = [];\r\n\r\n      if (config.engineConfig) {\r\n        savePromises.push(\r\n          api.patch('/partner-banks/my/engine-config', {\r\n            engineConfig: config.engineConfig\r\n          })\r\n        );\r\n      }\r\n\r\n      if (config.lendingPolicy) {\r\n        savePromises.push(\r\n          api.patch('/partner-banks/my/lending-policy', {\r\n            lendingPolicy: config.lendingPolicy\r\n          })\r\n        );\r\n      }\r\n\r\n      if (config.accessControls) {\r\n        savePromises.push(\r\n          api.patch('/partner-banks/my/access-controls', {\r\n            accessControls: config.accessControls\r\n          })\r\n        );\r\n      }\r\n\r\n      if (config.branding) {\r\n        savePromises.push(\r\n          api.patch('/partner-banks/my/branding', {\r\n            branding: config.branding\r\n          })\r\n        );\r\n      }\r\n\r\n      await Promise.all(savePromises);\r\n\r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Bank configuration saved successfully\",\r\n      });\r\n      setValidationErrors([]);\r\n    } catch (error) {\r\n      console.error('Failed to save config:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to save bank configuration\",\r\n        variant: \"destructive\"\r\n      });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const validateConfiguration = (config) => {\r\n    const errors = [];\r\n\r\n    // Validate engine1 weights sum to 100\r\n    if (config.engineConfig?.engine1?.scoringWeights) {\r\n      const weights = config.engineConfig.engine1.scoringWeights;\r\n      const weightSum = Object.values(weights).reduce((sum, weight) => sum + weight, 0);\r\n      if (Math.abs(weightSum - 100) > 1) {\r\n        errors.push(`Engine1 scoring weights must sum to 100 (current: ${weightSum})`);\r\n      }\r\n    }\r\n\r\n    // Validate engine2 weights sum to 100\r\n    if (config.engineConfig?.engine2?.weights) {\r\n      const weights = config.engineConfig.engine2.weights;\r\n      const weightSum = Object.values(weights).reduce((sum, weight) => sum + weight, 0);\r\n      if (Math.abs(weightSum - 100) > 1) {\r\n        errors.push(`Engine2 weights must sum to 100 (current: ${weightSum})`);\r\n      }\r\n    }\r\n\r\n    // Validate interest rates\r\n    if (config.lendingPolicy?.interestRateRules) {\r\n      const rates = config.lendingPolicy.interestRateRules;\r\n      if (rates.baseRate > rates.maxRate) {\r\n        errors.push('Base rate cannot be higher than max rate');\r\n      }\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const updateConfig = (section, subsection, field, value) => {\r\n    setConfig(prev => ({\r\n      ...prev,\r\n      [section]: {\r\n        ...prev[section],\r\n        [subsection]: {\r\n          ...prev[section]?.[subsection],\r\n          [field]: value\r\n        }\r\n      }\r\n    }));\r\n  };\r\n\r\n  const updateNestedConfig = (section, path, value) => {\r\n    setConfig(prev => {\r\n      const newConfig = { ...prev };\r\n      const keys = path.split('.');\r\n      let current = newConfig[section];\r\n      \r\n      for (let i = 0; i < keys.length - 1; i++) {\r\n        current = current[keys[i]];\r\n      }\r\n      \r\n      current[keys[keys.length - 1]] = value;\r\n      return newConfig;\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex items-center justify-center p-6\">\r\n          <RefreshCw className=\"h-6 w-6 animate-spin\" />\r\n          <span className=\"ml-2\">Loading bank configuration...</span>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!config) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"p-6\">\r\n          <Alert>\r\n            <AlertCircle className=\"h-4 w-4\" />\r\n            <AlertDescription>\r\n              Bank configuration not found. Please contact your administrator.\r\n            </AlertDescription>\r\n          </Alert>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Bank Configuration</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            Configure your bank's scoring engines, lending policies, and system settings\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button variant=\"outline\" onClick={loadBankConfig} disabled={saving}>\r\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n            Refresh\r\n          </Button>\r\n          <Button onClick={saveConfig} disabled={saving}>\r\n            {saving ? (\r\n              <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\r\n            ) : (\r\n              <Save className=\"h-4 w-4 mr-2\" />\r\n            )}\r\n            Save Changes\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {validationErrors.length > 0 && (\r\n        <Alert variant=\"destructive\">\r\n          <AlertCircle className=\"h-4 w-4\" />\r\n          <AlertDescription>\r\n            <div className=\"font-semibold mb-2\">Configuration Validation Errors:</div>\r\n            <ul className=\"list-disc list-inside space-y-1\">\r\n              {validationErrors.map((error, index) => (\r\n                <li key={index}>{error}</li>\r\n              ))}\r\n            </ul>\r\n          </AlertDescription>\r\n        </Alert>\r\n      )}\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-4\">\r\n        <TabsList className=\"grid w-full grid-cols-5\">\r\n          <TabsTrigger value=\"engines\" className=\"flex items-center gap-2\">\r\n            <Brain className=\"h-4 w-4\" />\r\n            Engines\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"lending\" className=\"flex items-center gap-2\">\r\n            <DollarSign className=\"h-4 w-4\" />\r\n            Lending\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"access\" className=\"flex items-center gap-2\">\r\n            <Shield className=\"h-4 w-4\" />\r\n            Access\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"branding\" className=\"flex items-center gap-2\">\r\n            <Palette className=\"h-4 w-4\" />\r\n            Branding\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"legacy\" className=\"flex items-center gap-2\">\r\n            <Settings className=\"h-4 w-4\" />\r\n            Legacy\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Engine Configuration Tab */}\r\n        <TabsContent value=\"engines\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Engine 1: Credit-Based Scoring */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Brain className=\"h-5 w-5\" />\r\n                  Engine 1: Credit-Based Scoring\r\n                </CardTitle>\r\n                <CardDescription>\r\n                  Configure weights, penalties, and bonuses for credit-based scoring\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div>\r\n                  <Label className=\"text-sm font-medium\">Scoring Weights (%)</Label>\r\n                  <div className=\"grid grid-cols-2 gap-2 mt-2\">\r\n                    {Object.entries(config.engineConfig?.engine1?.scoringWeights || {}).map(([key, value]) => (\r\n                      <div key={key} className=\"space-y-1\">\r\n                        <Label className=\"text-xs capitalize\">{key.replace(/([A-Z])/g, ' $1').trim()}</Label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          value={value}\r\n                          onChange={(e) => updateConfig('engineConfig', 'engine1', 'scoringWeights', {\r\n                            ...config.engineConfig.engine1.scoringWeights,\r\n                            [key]: parseFloat(e.target.value)\r\n                          })}\r\n                          min=\"0\"\r\n                          max=\"100\"\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div>\r\n                  <Label className=\"text-sm font-medium\">Penalties</Label>\r\n                  <div className=\"space-y-2 mt-2\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Label className=\"text-xs\">Recent Defaults</Label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        value={config.engineConfig?.engine1?.penalties?.recentDefaults || 0}\r\n                        onChange={(e) => updateConfig('engineConfig', 'engine1', 'penalties', {\r\n                          ...config.engineConfig.engine1.penalties,\r\n                          recentDefaults: parseFloat(e.target.value)\r\n                        })}\r\n                        className=\"w-20\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div>\r\n                  <Label className=\"text-sm font-medium\">Rejection Rules</Label>\r\n                  <div className=\"space-y-2 mt-2\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Label className=\"text-xs\">Allow Consecutive Missed Payments</Label>\r\n                      <Switch\r\n                        checked={config.engineConfig?.engine1?.rejectionRules?.allowConsecutiveMissedPayments || false}\r\n                        onCheckedChange={(checked) => updateConfig('engineConfig', 'engine1', 'rejectionRules', {\r\n                          ...config.engineConfig.engine1.rejectionRules,\r\n                          allowConsecutiveMissedPayments: checked\r\n                        })}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Engine 2: 5 Cs Creditworthiness */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Brain className=\"h-5 w-5\" />\r\n                  Engine 2: 5 Cs Creditworthiness\r\n                </CardTitle>\r\n                <CardDescription>\r\n                  Configure weights for Capacity, Capital, Collateral, Conditions, and Character\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div>\r\n                  <Label className=\"text-sm font-medium\">5 Cs Weights (%)</Label>\r\n                  <div className=\"grid grid-cols-2 gap-2 mt-2\">\r\n                    {Object.entries(config.engineConfig?.engine2?.weights || {}).map(([key, value]) => (\r\n                      <div key={key} className=\"space-y-1\">\r\n                        <Label className=\"text-xs capitalize\">{key}</Label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          value={value}\r\n                          onChange={(e) => updateConfig('engineConfig', 'engine2', 'weights', {\r\n                            ...config.engineConfig.engine2.weights,\r\n                            [key]: parseFloat(e.target.value)\r\n                          })}\r\n                          min=\"0\"\r\n                          max=\"100\"\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div>\r\n                  <Label className=\"text-sm font-medium\">Behavioral Thresholds</Label>\r\n                  <div className=\"space-y-2 mt-2\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Label className=\"text-xs\">Max DTI</Label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        step=\"0.01\"\r\n                        value={config.engineConfig?.engine2?.behavioralThresholds?.maxDTI || 0.45}\r\n                        onChange={(e) => updateConfig('engineConfig', 'engine2', 'behavioralThresholds', {\r\n                          ...config.engineConfig.engine2.behavioralThresholds,\r\n                          maxDTI: parseFloat(e.target.value)\r\n                        })}\r\n                        className=\"w-20\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Label className=\"text-xs\">Stable Employment Required</Label>\r\n                      <Switch\r\n                        checked={config.engineConfig?.engine2?.behavioralThresholds?.stableEmploymentRequired || false}\r\n                        onCheckedChange={(checked) => updateConfig('engineConfig', 'engine2', 'behavioralThresholds', {\r\n                          ...config.engineConfig.engine2.behavioralThresholds,\r\n                          stableEmploymentRequired: checked\r\n                        })}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        {/* Lending Policy Tab */}\r\n        <TabsContent value=\"lending\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Base Loan Amounts */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Base Loan Amounts</CardTitle>\r\n                <CardDescription>\r\n                  Maximum loan amounts by credit classification\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {Object.entries(config.lendingPolicy?.baseLoanAmounts || {}).map(([classification, amount]) => (\r\n                  <div key={classification} className=\"flex items-center justify-between\">\r\n                    <Label className=\"text-sm capitalize\">{classification.replace(/_/g, ' ')}</Label>\r\n                    <Input\r\n                      type=\"number\"\r\n                      value={amount}\r\n                      onChange={(e) => updateConfig('lendingPolicy', 'baseLoanAmounts', classification, parseFloat(e.target.value))}\r\n                      className=\"w-32\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Interest Rate Rules */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Interest Rate Rules</CardTitle>\r\n                <CardDescription>\r\n                  Base rates and adjustments for different risk factors\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Label className=\"text-sm\">Base Rate (%)</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    value={config.lendingPolicy?.interestRateRules?.baseRate || 12.5}\r\n                    onChange={(e) => updateConfig('lendingPolicy', 'interestRateRules', 'baseRate', parseFloat(e.target.value))}\r\n                    className=\"w-24\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Label className=\"text-sm\">Max Rate (%)</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    value={config.lendingPolicy?.interestRateRules?.maxRate || 35.99}\r\n                    onChange={(e) => updateConfig('lendingPolicy', 'interestRateRules', 'maxRate', parseFloat(e.target.value))}\r\n                    className=\"w-24\"\r\n                  />\r\n                </div>\r\n                <Separator />\r\n                <Label className=\"text-sm font-medium\">Rate Adjustments (%)</Label>\r\n                {Object.entries(config.lendingPolicy?.interestRateRules?.adjustments || {}).map(([factor, adjustment]) => (\r\n                  <div key={factor} className=\"flex items-center justify-between\">\r\n                    <Label className=\"text-xs capitalize\">{factor.replace(/_/g, ' ')}</Label>\r\n                    <Input\r\n                      type=\"number\"\r\n                      value={adjustment}\r\n                      onChange={(e) => updateConfig('lendingPolicy', 'interestRateRules', 'adjustments', {\r\n                        ...config.lendingPolicy.interestRateRules.adjustments,\r\n                        [factor]: parseFloat(e.target.value)\r\n                      })}\r\n                      className=\"w-20\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Term Options and Other Settings */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Additional Settings</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">Recession Mode</Label>\r\n                <Switch\r\n                  checked={config.lendingPolicy?.recessionMode || false}\r\n                  onCheckedChange={(checked) => updateConfig('lendingPolicy', 'recessionMode', checked)}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">Allow Collateral Override</Label>\r\n                <Switch\r\n                  checked={config.lendingPolicy?.allowCollateralOverride || false}\r\n                  onCheckedChange={(checked) => updateConfig('lendingPolicy', 'allowCollateralOverride', checked)}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Access Controls Tab */}\r\n        <TabsContent value=\"access\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Access Controls</CardTitle>\r\n              <CardDescription>\r\n                Configure system access and permissions\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">Can Export Data</Label>\r\n                <Switch\r\n                  checked={config.accessControls?.canExportData || false}\r\n                  onCheckedChange={(checked) => updateConfig('accessControls', 'canExportData', checked)}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">API Access Enabled</Label>\r\n                <Switch\r\n                  checked={config.accessControls?.apiAccessEnabled || false}\r\n                  onCheckedChange={(checked) => updateConfig('accessControls', 'apiAccessEnabled', checked)}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">Max File Size (MB)</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={config.accessControls?.maxFileSizeMb || 5}\r\n                  onChange={(e) => updateConfig('accessControls', 'maxFileSizeMb', parseInt(e.target.value))}\r\n                  className=\"w-24\"\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Branding Tab */}\r\n        <TabsContent value=\"branding\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Branding Configuration</CardTitle>\r\n              <CardDescription>\r\n                Customize the appearance and localization\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">Primary Color</Label>\r\n                <Input\r\n                  type=\"color\"\r\n                  value={config.branding?.primaryColor || '#004aad'}\r\n                  onChange={(e) => updateConfig('branding', 'primaryColor', e.target.value)}\r\n                  className=\"w-20\"\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">Theme</Label>\r\n                <Select\r\n                  value={config.branding?.theme || 'light'}\r\n                  onValueChange={(value) => updateConfig('branding', 'theme', value)}\r\n                >\r\n                  <SelectTrigger className=\"w-32\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"light\">Light</SelectItem>\r\n                    <SelectItem value=\"dark\">Dark</SelectItem>\r\n                    <SelectItem value=\"auto\">Auto</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">Currency</Label>\r\n                <Select\r\n                  value={config.branding?.currency || 'ETB'}\r\n                  onValueChange={(value) => updateConfig('branding', 'currency', value)}\r\n                >\r\n                  <SelectTrigger className=\"w-32\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"ETB\">ETB</SelectItem>\r\n                    <SelectItem value=\"USD\">USD</SelectItem>\r\n                    <SelectItem value=\"EUR\">EUR</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm\">Language</Label>\r\n                <Select\r\n                  value={config.branding?.language || 'en'}\r\n                  onValueChange={(value) => updateConfig('branding', 'language', value)}\r\n                >\r\n                  <SelectTrigger className=\"w-32\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"en\">English</SelectItem>\r\n                    <SelectItem value=\"am\">Amharic</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Legacy Configuration Tab */}\r\n        <TabsContent value=\"legacy\" className=\"space-y-6\">\r\n          <Alert>\r\n            <Info className=\"h-4 w-4\" />\r\n            <AlertDescription>\r\n              This tab shows the legacy lending configuration for backward compatibility. \r\n              Consider migrating to the new engine-based configuration above.\r\n            </AlertDescription>\r\n          </Alert>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Legacy Lending Configuration</CardTitle>\r\n              <CardDescription>\r\n                Original lending configuration (read-only)\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <pre className=\"text-xs bg-muted p-4 rounded overflow-auto max-h-96\">\r\n                {JSON.stringify(config.legacyConfig, null, 2)}\r\n              </pre>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DecisionConfigPanel; ","import React from 'react';\r\nimport { Card, CardHeader, CardTitle, CardContent } from '../ui/card';\r\nimport { Badge } from '../ui/badge';\r\nimport { Button } from '../ui/button';\r\nimport { Label } from '../ui/label';\r\nimport { Input } from '../ui/input';\r\nimport { Textarea } from '../ui/textarea';\r\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem, SelectGroup, SelectLabel } from '../ui/select';\r\nimport { Switch } from '../ui/switch';\r\nimport { Edit, Save, CheckSquare, Square, Loader2, RefreshCw } from 'lucide-react';\r\n\r\nconst ManualDecisionForm = ({\r\n  manualDecision,\r\n  handleManualDecision,\r\n  setIsEditingDecision,\r\n  saveManualDecision,\r\n  recalcLoading,\r\n  hasCollateral,\r\n  setHasCollateral,\r\n  collateralValue,\r\n  setCollateralValue,\r\n  recalculateWithCollateral,\r\n  maxLoanAmount // <-- new prop\r\n}) => {\r\n  const amountNum = Number(manualDecision.amount);\r\n  const isAmountInvalid = manualDecision.decision === 'Approve' && maxLoanAmount && amountNum > maxLoanAmount;\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Decision Type Selection */}\r\n      <div>\r\n        <Label htmlFor=\"decision-type\">Decision Type</Label>\r\n        <Select \r\n          value={manualDecision.decision} \r\n          onValueChange={(value) => handleManualDecision('decision', value)}\r\n        >\r\n          <SelectTrigger className=\"w-full\">\r\n            <SelectValue placeholder=\"Select decision type\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"Approve\">Approve</SelectItem>\r\n            <SelectItem value=\"Reject\">Reject</SelectItem>\r\n            <SelectItem value=\"Hold\">Hold</SelectItem>\r\n            <SelectItem value=\"Review\">Review</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      {/* Flag for Manual Review */}\r\n      <div className=\"flex items-center space-x-2\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => handleManualDecision('flagForReview', !manualDecision.flagForReview)}\r\n          className=\"flex items-center gap-2 p-2 rounded border hover:bg-gray-50\"\r\n        >\r\n          {manualDecision.flagForReview ? (\r\n            <CheckSquare className=\"h-4 w-4 text-blue-600\" />\r\n          ) : (\r\n            <Square className=\"h-4 w-4 text-gray-400\" />\r\n          )}\r\n          <span className=\"text-sm\">Flag for Manual Review</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Review Note (shown when flagged) */}\r\n      {manualDecision.flagForReview && (\r\n        <div>\r\n          <Label htmlFor=\"review-note\">Review Note</Label>\r\n          <Textarea\r\n            id=\"review-note\"\r\n            placeholder=\"Enter reason for manual review...\"\r\n            value={manualDecision.reviewNote}\r\n            onChange={(e) => handleManualDecision('reviewNote', e.target.value)}\r\n            className=\"mt-1\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Custom Rejection Reason (shown when decision is Reject) */}\r\n      {manualDecision.decision === 'Reject' && (\r\n        <div>\r\n          <Label htmlFor=\"rejection-reason\">Custom Rejection Reason</Label>\r\n          <Textarea\r\n            id=\"rejection-reason\"\r\n            placeholder=\"Enter custom rejection reason...\"\r\n            value={manualDecision.rejectionReason}\r\n            onChange={(e) => handleManualDecision('rejectionReason', e.target.value)}\r\n            className=\"mt-1\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Loan Type Selection (shown when decision is Approve) */}\r\n      {manualDecision.decision === 'Approve' && (\r\n        <div>\r\n          <Label htmlFor=\"loan-type\">Loan Type</Label>\r\n          <Select\r\n            value={manualDecision.loanType || ''}\r\n            onValueChange={(value) => handleManualDecision('loanType', value)}\r\n          >\r\n            <SelectTrigger className=\"w-full\">\r\n              <SelectValue placeholder=\"Select loan type\" />\r\n            </SelectTrigger>\r\n            <SelectContent className=\"max-h-72 overflow-y-auto\">\r\n              <SelectGroup>\r\n                <SelectLabel>ðŸ  Mortgage Loans</SelectLabel>\r\n                <SelectItem value=\"home_purchase\">Home Purchase Loan</SelectItem>\r\n                <SelectItem value=\"refinance\">Refinance Loan</SelectItem>\r\n                <SelectItem value=\"home_equity\">Home Equity Loan (HEL)</SelectItem>\r\n                <SelectItem value=\"heloc\">Home Equity Line of Credit (HELOC)</SelectItem>\r\n                <SelectItem value=\"construction\">Construction Loan</SelectItem>\r\n              </SelectGroup>\r\n              <SelectGroup>\r\n                <SelectLabel>ðŸš— Auto Loans</SelectLabel>\r\n                <SelectItem value=\"new_car\">New Car Loan</SelectItem>\r\n                <SelectItem value=\"used_car\">Used Car Loan</SelectItem>\r\n                <SelectItem value=\"auto_refinance\">Auto Refinance</SelectItem>\r\n                <SelectItem value=\"lease_buyout\">Lease Buyout Loan</SelectItem>\r\n              </SelectGroup>\r\n              <SelectGroup>\r\n                <SelectLabel>ðŸŽ“ Student Loans</SelectLabel>\r\n                <SelectItem value=\"federal_student\">Federal Student Loan</SelectItem>\r\n                <SelectItem value=\"private_student\">Private Student Loan</SelectItem>\r\n                <SelectItem value=\"student_refinance\">Student Loan Refinance</SelectItem>\r\n              </SelectGroup>\r\n              <SelectGroup>\r\n                <SelectLabel>ðŸ’³ Credit / Revolving</SelectLabel>\r\n                <SelectItem value=\"credit_card\">Credit Card</SelectItem>\r\n                <SelectItem value=\"store_card\">Store/Retail Card</SelectItem>\r\n                <SelectItem value=\"charge_card\">Charge Card</SelectItem>\r\n                <SelectItem value=\"secured_card\">Secured Credit Card</SelectItem>\r\n              </SelectGroup>\r\n              <SelectGroup>\r\n                <SelectLabel>ðŸ§¾ Personal Loans</SelectLabel>\r\n                <SelectItem value=\"personal_unsecured\">Unsecured Personal Loan</SelectItem>\r\n                <SelectItem value=\"personal_secured\">Secured Personal Loan</SelectItem>\r\n                <SelectItem value=\"debt_consolidation\">Debt Consolidation</SelectItem>\r\n                <SelectItem value=\"medical_loan\">Medical Loan</SelectItem>\r\n                <SelectItem value=\"wedding_loan\">Wedding or Vacation Loan</SelectItem>\r\n                <SelectItem value=\"emergency_loan\">Emergency Loan</SelectItem>\r\n              </SelectGroup>\r\n              <SelectGroup>\r\n                <SelectLabel>ðŸ¢ Business Loans</SelectLabel>\r\n                <SelectItem value=\"business_term\">Term Business Loan</SelectItem>\r\n                <SelectItem value=\"business_line\">Line of Credit</SelectItem>\r\n                <SelectItem value=\"sba_loan\">SBA or Government-backed Loan</SelectItem>\r\n                <SelectItem value=\"equipment_finance\">Equipment Financing</SelectItem>\r\n                <SelectItem value=\"invoice_finance\">Invoice Financing</SelectItem>\r\n              </SelectGroup>\r\n              <SelectGroup>\r\n                <SelectLabel>ðŸŒ Microfinance & Consumer</SelectLabel>\r\n                <SelectItem value=\"microfinance\">Microfinance Loan</SelectItem>\r\n                <SelectItem value=\"bnpl\">Buy Now, Pay Later (BNPL)</SelectItem>\r\n                <SelectItem value=\"installment_retail\">Installment Purchase Loan</SelectItem>\r\n                <SelectItem value=\"mobile_loan\">Mobile Loan</SelectItem>\r\n              </SelectGroup>\r\n              <SelectGroup>\r\n                <SelectLabel>ðŸ‘¨â€ðŸŒ¾ Agricultural Loans</SelectLabel>\r\n                <SelectItem value=\"crop_loan\">Crop Loan</SelectItem>\r\n                <SelectItem value=\"livestock_loan\">Livestock Loan</SelectItem>\r\n                <SelectItem value=\"agri_equipment\">Agricultural Equipment Loan</SelectItem>\r\n                <SelectItem value=\"seasonal_loan\">Seasonal Working Capital</SelectItem>\r\n              </SelectGroup>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      )}\r\n\r\n      {/* Loan Details (shown when decision is Approve) */}\r\n      {manualDecision.decision === 'Approve' && (\r\n        <div className=\"space-y-4\">\r\n          <h4 className=\"font-medium\">Loan Details</h4>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <Label htmlFor=\"loan-amount\">Loan Amount</Label>\r\n              <Input\r\n                id=\"loan-amount\"\r\n                type=\"number\"\r\n                placeholder=\"Enter amount\"\r\n                value={manualDecision.amount}\r\n                onChange={(e) => handleManualDecision('amount', e.target.value)}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"loan-term\">Term (months)</Label>\r\n              <Input\r\n                id=\"loan-term\"\r\n                type=\"number\"\r\n                placeholder=\"Enter term\"\r\n                value={manualDecision.term}\r\n                onChange={(e) => handleManualDecision('term', e.target.value)}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"interest-rate\">Interest Rate (%)</Label>\r\n              <Input\r\n                id=\"interest-rate\"\r\n                type=\"number\"\r\n                step=\"0.1\"\r\n                placeholder=\"Enter rate\"\r\n                value={manualDecision.interestRate}\r\n                onChange={(e) => handleManualDecision('interestRate', e.target.value)}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Collateral Section */}\r\n      <div className=\"space-y-4\">\r\n        <h4 className=\"font-medium\">Collateral Options</h4>\r\n        <div className=\"space-y-4\">\r\n          {/* Collateral Toggle */}\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Switch\r\n              id=\"collateral-toggle\"\r\n              checked={hasCollateral}\r\n              onCheckedChange={setHasCollateral}\r\n            />\r\n            <Label htmlFor=\"collateral-toggle\">Borrower has collateral</Label>\r\n          </div>\r\n\r\n          {/* Collateral Value Input (shown when toggle is on) */}\r\n          {hasCollateral && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"collateral-value\">Collateral Value ($)</Label>\r\n              <Input\r\n                id=\"collateral-value\"\r\n                type=\"number\"\r\n                placeholder=\"Enter collateral value\"\r\n                value={collateralValue}\r\n                onChange={(e) => setCollateralValue(Number(e.target.value))}\r\n                className=\"mt-1\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Collateral can increase the maximum loan amount by up to 70% of its value.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Recalculate Button */}\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"outline\"\r\n            onClick={recalculateWithCollateral}\r\n            disabled={recalcLoading}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            {recalcLoading ? (\r\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n            ) : (\r\n              <RefreshCw className=\"h-4 w-4\" />\r\n            )}\r\n            Recalculate with Collateral\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* General Notes */}\r\n      <div>\r\n        <Label htmlFor=\"decision-notes\">Decision Notes</Label>\r\n        <Textarea\r\n          id=\"decision-notes\"\r\n          placeholder=\"Enter additional notes about this decision...\"\r\n          value={manualDecision.notes}\r\n          onChange={(e) => handleManualDecision('notes', e.target.value)}\r\n          className=\"mt-1\"\r\n        />\r\n      </div>\r\n\r\n      {/* âœï¸ Edit Terms Section (only for Approve) */}\r\n      {manualDecision.decision === 'Approve' && (\r\n        <div className=\"space-y-4\">\r\n          <h4 className=\"font-medium flex items-center gap-2\">âœï¸ Edit Terms <span className=\"text-xs text-muted-foreground\">(Max: ${maxLoanAmount?.toLocaleString?.() || 'N/A'})</span></h4>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <Label htmlFor=\"loan-amount\">Loan Amount</Label>\r\n              <Input\r\n                id=\"loan-amount\"\r\n                type=\"number\"\r\n                placeholder=\"Enter amount\"\r\n                value={manualDecision.amount}\r\n                onChange={(e) => handleManualDecision('amount', e.target.value)}\r\n                className=\"mt-1\"\r\n                min={0}\r\n                max={maxLoanAmount || undefined}\r\n              />\r\n              {isAmountInvalid && (\r\n                <p className=\"text-xs text-red-600 mt-1\">Amount cannot exceed ${maxLoanAmount?.toLocaleString?.() || 'N/A'} (max offer)</p>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"loan-term\">Term (months)</Label>\r\n              <Input\r\n                id=\"loan-term\"\r\n                type=\"number\"\r\n                placeholder=\"Enter term\"\r\n                value={manualDecision.term}\r\n                onChange={(e) => handleManualDecision('term', e.target.value)}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"interest-rate\">Interest Rate (%)</Label>\r\n              <Input\r\n                id=\"interest-rate\"\r\n                type=\"number\"\r\n                step=\"0.1\"\r\n                placeholder=\"Enter rate\"\r\n                value={manualDecision.interestRate}\r\n                onChange={(e) => handleManualDecision('interestRate', e.target.value)}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"flex gap-2 justify-end\">\r\n        <Button \r\n          variant=\"outline\" \r\n          size=\"sm\" \r\n          onClick={() => setIsEditingDecision(false)}\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button \r\n          size=\"sm\" \r\n          onClick={saveManualDecision}\r\n          className=\"flex items-center gap-2\"\r\n          disabled={isAmountInvalid}\r\n        >\r\n          <Save className=\"h-4 w-4\" />\r\n          Save Decision\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManualDecisionForm; ","import React from 'react';\r\nimport { Modal } from 'antd';\r\nimport EnhancedRegister from '../../EnhancedRegister';\r\nimport { UserPlus } from 'lucide-react';\r\n\r\nconst RegisterUserDialog = ({ showRegister, setShowRegister, toast }) => (\r\n  <Modal\r\n    open={showRegister}\r\n    onCancel={() => setShowRegister(false)}\r\n    footer={null}\r\n    title={\r\n      <div className=\"flex items-center gap-2\">\r\n        <UserPlus className=\"h-5 w-5 text-green-600\" />\r\n        <span>Register New User</span>\r\n      </div>\r\n    }\r\n    width={600}\r\n    destroyOnHidden\r\n    className=\"register-modal\"\r\n  >\r\n    <EnhancedRegister \r\n      onSuccess={(userData) => {\r\n        setShowRegister(false);\r\n        toast && toast({\r\n          title: \"User Registered Successfully\",\r\n          description: `New user ${userData?.email || 'has been created'} and is ready for credit assessment.`,\r\n          variant: \"success\",\r\n          duration: 5000,\r\n        });\r\n      }} \r\n      onClose={() => setShowRegister(false)} \r\n      isAdmin={false} \r\n    />\r\n  </Modal>\r\n);\r\n\r\nexport default RegisterUserDialog; ","// Utility functions for LenderDashboard\nimport { api } from '../../lib/api';\n\n// Keep track of the current in-flight search request so we can cancel it\nlet currentSearchController = null;\n\nexport const searchUsers = async (query, setUsers, setLoading, toast, logout, navigate) => {\n  if (!query.trim()) {\n    setUsers([]);\n    return;\n  }\n  try {\n    setLoading(true);\n    // Cancel any ongoing search before starting a new one\n    if (currentSearchController) {\n      currentSearchController.abort();\n    }\n    currentSearchController = new AbortController();\n    const response = await api.get(\n      `/lenders/search-borrowers?search=${encodeURIComponent(query)}`,\n      { signal: currentSearchController.signal }\n    );\n    const usersList = Array.isArray(response.data.data) ? response.data.data : [];\n    setUsers(usersList);\n  } catch (err) {\n    // Ignore cancellations from previous searches\n    if (err?.code === 'ERR_CANCELED' || err?.name === 'CanceledError' || err?.message === 'canceled') {\n      return;\n    }\n    console.error('Error searching users:', err);\n    if (err.response?.status === 401 || err.response?.status === 403) {\n      toast({\n        title: 'Session expired',\n        description: 'Please log in again',\n        variant: 'destructive',\n      });\n      logout();\n      navigate('/login');\n    } else {\n      toast({\n        title: 'Error',\n        description: 'Failed to search users',\n        variant: 'destructive',\n      });\n    }\n  } finally {\n    setLoading(false);\n  }\n};\n\nexport const fetchUserCreditData = async (userId, setUserCreditData, setCreditDataError, setLoadingCreditData, toast) => {\n  if (!userId) return;\n  try {\n    setLoadingCreditData(true);\n    setCreditDataError(null);\n    const response = await api.get(`/user/${userId}/credit-data`);\n    const responseData = response.data.data || response.data;\n    if (!responseData) throw new Error('No data received from server');\n    let latestLendingDecision = responseData.lendingDecision;\n    if (\n      (!latestLendingDecision || Object.keys(latestLendingDecision).length === 0 || latestLendingDecision.decision === undefined)\n      && Array.isArray(responseData.lendingDecisionHistory)\n      && responseData.lendingDecisionHistory.length > 0\n    ) {\n      latestLendingDecision = responseData.lendingDecisionHistory[responseData.lendingDecisionHistory.length - 1];\n    }\n    setUserCreditData({\n      userId,\n      ...responseData,\n      currentScore: responseData.currentScore,\n      lendingDecision: latestLendingDecision,\n    });\n  } catch (err) {\n    const errorMessage = err.response?.data?.error || err.message || 'Failed to load credit data';\n    setCreditDataError(errorMessage);\n    toast({\n      title: 'Error',\n      description: errorMessage,\n      variant: 'destructive',\n    });\n  } finally {\n    setLoadingCreditData(false);\n  }\n};\n\nexport const fetchDashboardMetrics = async (setDashboardMetrics, toast) => {\n  try {\n    const response = await api.get('/lenders/recent-decisions?limit=100');\n    const decisions = response.data.data?.decisions || [];\n    const approvedCount = decisions.filter(d => d.lendingDecision?.decision === 'Approve').length;\n    const pendingCount = decisions.filter(d => d.lendingDecision?.decision === 'Review').length;\n    const rejectedCount = decisions.filter(d => d.lendingDecision?.decision === 'Reject').length;\n    // Calculate risk breakdown from actual decisions\n    const riskBreakdown = {\n      low: decisions.filter(d => (d.creditScore?.fico?.score || 0) >= 740).length,\n      medium: decisions.filter(d => (d.creditScore?.fico?.score || 0) >= 670 && (d.creditScore?.fico?.score || 0) < 740).length,\n      high: decisions.filter(d => (d.creditScore?.fico?.score || 0) < 670).length\n    };\n    \n    setDashboardMetrics({\n      approvedLoans: approvedCount,\n      pendingLoans: pendingCount,\n      rejectedLoans: rejectedCount,\n      avgDecisionTime: 'â”€', // TODO: Calculate actual average decision time\n      riskBreakdown\n    });\n  } catch (error) {\n    setDashboardMetrics({\n      approvedLoans: 0,\n      pendingLoans: 0,\n      rejectedLoans: 0,\n      avgDecisionTime: '0m',\n      riskBreakdown: { low: 0, medium: 0, high: 0 }\n    });\n    toast && toast({\n      title: 'Error',\n      description: 'Failed to fetch dashboard metrics',\n      variant: 'destructive',\n    });\n  }\n};\n\nexport const fetchRecentDecisions = async () => {\n  try {\n    const response = await api.get('/lenders/recent-decisions?limit=5');\n    return response.data.data?.decisions || [];\n  } catch (error) {\n    return [];\n  }\n};\n\nexport const fetchAlerts = async (recentDecisions, setAlerts) => {\n  try {\n    const alerts = [];\n    const highRiskCount = recentDecisions.filter(d => (d.creditScore?.fico?.score || 0) < 670).length;\n    if (highRiskCount > 2) {\n      alerts.push({\n        type: 'critical',\n        title: 'High Risk Applications',\n        description: `${highRiskCount} high-risk applications in recent decisions`,\n        time: '2 hours ago'\n      });\n    }\n    setAlerts(alerts);\n  } catch (error) {\n    setAlerts([]);\n  }\n};\n\nexport const manualRefresh = async (fetchDashboardMetrics, fetchRecentDecisions, fetchAlerts, setDashboardMetrics, setRecentDecisions, setAlerts, toast, setRefreshing) => {\n  setRefreshing(true);\n  try {\n    await fetchDashboardMetrics(setDashboardMetrics, toast);\n    const recentDecisions = await fetchRecentDecisions();\n    setRecentDecisions(recentDecisions);\n    await fetchAlerts(recentDecisions, setAlerts);\n    toast({\n      title: 'Refreshed',\n      description: 'Latest data has been refreshed',\n      variant: 'default'\n    });\n  } catch (error) {\n    toast({\n      title: 'Refresh Failed',\n      description: error.response?.data?.error || 'Failed to refresh data',\n      variant: 'destructive'\n    });\n  } finally {\n    setRefreshing(false);\n  }\n}; ","\"use client\";\n\n// src/slider.tsx\nimport * as React from \"react\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar PAGE_KEYS = [\"PageUp\", \"PageDown\"];\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar BACK_KEYS = {\n  \"from-left\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-right\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowRight\"],\n  \"from-bottom\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-top\": [\"Home\", \"PageDown\", \"ArrowUp\", \"ArrowLeft\"]\n};\nvar SLIDER_NAME = \"Slider\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SLIDER_NAME);\nvar [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope\n]);\nvar [SliderProvider, useSliderContext] = createSliderContext(SLIDER_NAME);\nvar Slider = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = \"horizontal\",\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {\n      },\n      onValueCommit = () => {\n      },\n      inverted = false,\n      form,\n      ...sliderProps\n    } = props;\n    const thumbRefs = React.useRef(/* @__PURE__ */ new Set());\n    const valueIndexToChangeRef = React.useRef(0);\n    const isHorizontal = orientation === \"horizontal\";\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value2) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value2);\n      }\n    });\n    const valuesBeforeSlideStartRef = React.useRef(values);\n    function handleSlideStart(value2) {\n      const closestIndex = getClosestValueIndex(values, value2);\n      updateValues(value2, closestIndex);\n    }\n    function handleSlideMove(value2) {\n      updateValues(value2, valueIndexToChangeRef.current);\n    }\n    function handleSlideEnd() {\n      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];\n      const nextValue = values[valueIndexToChangeRef.current];\n      const hasChanged = nextValue !== prevValue;\n      if (hasChanged) onValueCommit(values);\n    }\n    function updateValues(value2, atIndex, { commit } = { commit: false }) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value2 - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          const hasChanged = String(nextValues) !== String(prevValues);\n          if (hasChanged && commit) onValueCommit(nextValues);\n          return hasChanged ? nextValues : prevValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n    return /* @__PURE__ */ jsx(\n      SliderProvider,\n      {\n        scope: props.__scopeSlider,\n        name,\n        disabled,\n        min,\n        max,\n        valueIndexToChangeRef,\n        thumbs: thumbRefs.current,\n        values,\n        orientation,\n        form,\n        children: /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n          SliderOrientation,\n          {\n            \"aria-disabled\": disabled,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...sliderProps,\n            ref: forwardedRef,\n            onPointerDown: composeEventHandlers(sliderProps.onPointerDown, () => {\n              if (!disabled) valuesBeforeSlideStartRef.current = values;\n            }),\n            min,\n            max,\n            inverted,\n            onSlideStart: disabled ? void 0 : handleSlideStart,\n            onSlideMove: disabled ? void 0 : handleSlideMove,\n            onSlideEnd: disabled ? void 0 : handleSlideEnd,\n            onHomeKeyDown: () => !disabled && updateValues(min, 0, { commit: true }),\n            onEndKeyDown: () => !disabled && updateValues(max, values.length - 1, { commit: true }),\n            onStepKeyDown: ({ event, direction: stepDirection }) => {\n              if (!disabled) {\n                const isPageKey = PAGE_KEYS.includes(event.key);\n                const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.includes(event.key);\n                const multiplier = isSkipKey ? 10 : 1;\n                const atIndex = valueIndexToChangeRef.current;\n                const value2 = values[atIndex];\n                const stepInDirection = step * multiplier * stepDirection;\n                updateValues(value2 + stepInDirection, atIndex, { commit: true });\n              }\n            }\n          }\n        ) }) })\n      }\n    );\n  }\n);\nSlider.displayName = SLIDER_NAME;\nvar [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext(SLIDER_NAME, {\n  startEdge: \"left\",\n  endEdge: \"right\",\n  size: \"width\",\n  direction: 1\n});\nvar SliderHorizontal = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      dir,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef(void 0);\n    const direction = useDirection(dir);\n    const isDirectionLTR = direction === \"ltr\";\n    const isSlidingFromLeft = isDirectionLTR && !inverted || !isDirectionLTR && inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || slider.getBoundingClientRect();\n      const input = [0, rect.width];\n      const output = isSlidingFromLeft ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromLeft ? \"left\" : \"right\",\n        endEdge: isSlidingFromLeft ? \"right\" : \"left\",\n        direction: isSlidingFromLeft ? 1 : -1,\n        size: \"width\",\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            dir: direction,\n            \"data-orientation\": \"horizontal\",\n            ...sliderProps,\n            ref: composedRefs,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateX(-50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromLeft ? \"from-left\" : \"from-right\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderVertical = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const sliderRef = React.useRef(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef(void 0);\n    const isSlidingFromBottom = !inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || sliderRef.current.getBoundingClientRect();\n      const input = [0, rect.height];\n      const output = isSlidingFromBottom ? [max, min] : [min, max];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromBottom ? \"bottom\" : \"top\",\n        endEdge: isSlidingFromBottom ? \"top\" : \"bottom\",\n        size: \"height\",\n        direction: isSlidingFromBottom ? 1 : -1,\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            \"data-orientation\": \"vertical\",\n            ...sliderProps,\n            ref,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateY(50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromBottom ? \"from-bottom\" : \"from-top\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...sliderProps,\n        ref: forwardedRef,\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === \"Home\") {\n            onHomeKeyDown(event);\n            event.preventDefault();\n          } else if (event.key === \"End\") {\n            onEndKeyDown(event);\n            event.preventDefault();\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            event.preventDefault();\n          }\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target;\n          target.setPointerCapture(event.pointerId);\n          event.preventDefault();\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        }),\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        }),\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })\n      }\n    );\n  }\n);\nvar TRACK_NAME = \"SliderTrack\";\nvar SliderTrack = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        \"data-orientation\": context.orientation,\n        ...trackProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSliderTrack.displayName = TRACK_NAME;\nvar RANGE_NAME = \"SliderRange\";\nvar SliderRange = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map(\n      (value) => convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-orientation\": context.orientation,\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...rangeProps,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          [orientation.startEdge]: offsetStart + \"%\",\n          [orientation.endEdge]: offsetEnd + \"%\"\n        }\n      }\n    );\n  }\n);\nSliderRange.displayName = RANGE_NAME;\nvar THUMB_NAME = \"SliderThumb\";\nvar SliderThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1,\n      [getItems, thumb]\n    );\n    return /* @__PURE__ */ jsx(SliderThumbImpl, { ...props, ref: composedRefs, index });\n  }\n);\nvar SliderThumbImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, index, name, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const isFormControl = thumb ? context.form || !!thumb.closest(\"form\") : true;\n    const size = useSize(thumb);\n    const value = context.values[index];\n    const percent = value === void 0 ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction) : 0;\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n    return /* @__PURE__ */ jsxs(\n      \"span\",\n      {\n        style: {\n          transform: \"var(--radix-slider-thumb-transform)\",\n          position: \"absolute\",\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`\n        },\n        children: [\n          /* @__PURE__ */ jsx(Collection.ItemSlot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n            Primitive.span,\n            {\n              role: \"slider\",\n              \"aria-label\": props[\"aria-label\"] || label,\n              \"aria-valuemin\": context.min,\n              \"aria-valuenow\": value,\n              \"aria-valuemax\": context.max,\n              \"aria-orientation\": context.orientation,\n              \"data-orientation\": context.orientation,\n              \"data-disabled\": context.disabled ? \"\" : void 0,\n              tabIndex: context.disabled ? void 0 : 0,\n              ...thumbProps,\n              ref: composedRefs,\n              style: value === void 0 ? { display: \"none\" } : props.style,\n              onFocus: composeEventHandlers(props.onFocus, () => {\n                context.valueIndexToChangeRef.current = index;\n              })\n            }\n          ) }),\n          isFormControl && /* @__PURE__ */ jsx(\n            SliderBubbleInput,\n            {\n              name: name ?? (context.name ? context.name + (context.values.length > 1 ? \"[]\" : \"\") : void 0),\n              form: context.form,\n              value\n            },\n            index\n          )\n        ]\n      }\n    );\n  }\n);\nSliderThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"RadioBubbleInput\";\nvar SliderBubbleInput = React.forwardRef(\n  ({ __scopeSlider, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"value\");\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"input\", { bubbles: true });\n        setValue.call(input, value);\n        input.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        style: { display: \"none\" },\n        ...props,\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSliderBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getNextSortedValues(prevValues = [], nextValue, atIndex) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\nfunction convertValueToPercentage(value, min, max) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  const percentage = percentPerStep * (value - min);\n  return clamp(percentage, [0, 100]);\n}\nfunction getLabel(index, totalValues) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return [\"Minimum\", \"Maximum\"][index];\n  } else {\n    return void 0;\n  }\n}\nfunction getClosestValueIndex(values, nextValue) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\nfunction getThumbInBoundsOffset(width, left, direction) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\nfunction getStepsBetweenValues(values) {\n  return values.slice(0, -1).map((value, index) => values[index + 1] - value);\n}\nfunction hasMinStepsBetweenValues(values, minStepsBetweenValues) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\nfunction linearScale(input, output) {\n  return (value) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\nfunction getDecimalCount(value) {\n  return (String(value).split(\".\")[1] || \"\").length;\n}\nfunction roundValue(value, decimalCount) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\nvar Root = Slider;\nvar Track = SliderTrack;\nvar Range = SliderRange;\nvar Thumb = SliderThumb;\nexport {\n  Range,\n  Root,\n  Slider,\n  SliderRange,\n  SliderThumb,\n  SliderTrack,\n  Thumb,\n  Track,\n  createSliderScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb\n      className={cn(\n        \"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors\",\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n        \"disabled:pointer-events-none disabled:opacity-50\"\n      )}\n    />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","import React from 'react';\nimport { Card, CardHeader, CardTitle, CardContent } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { Button } from '../ui/button';\nimport { Loader2, User, Edit, TrendingUp, TrendingDown, Shield, CreditCard, DollarSign, Calendar, Target } from 'lucide-react';\n\nconst BorrowerSnapshot = ({ userCreditData, selectedUser, closeBorrowerView, loadingCreditData, startEditingIncome, renderDecisionBadge }) => (\n  <Card className=\"mb-8 bg-gradient-to-br from-background via-background to-accent/5 border-2 border-border/50 shadow-elegant hover:shadow-glow transition-all duration-500\">\n    <CardHeader className=\"pb-6 bg-gradient-to-r from-primary/5 via-accent/5 to-secondary/5 rounded-t-lg border-b border-border/30\">\n      <div className=\"flex justify-between items-center\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"p-3 bg-gradient-to-br from-primary to-primary-glow rounded-xl shadow-md\">\n            <User className=\"h-6 w-6 text-primary-foreground\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-2xl font-bold bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text text-transparent\">\n              Borrower Snapshot\n            </CardTitle>\n            <p className=\"text-sm text-muted-foreground mt-1\">Comprehensive credit and risk analysis</p>\n          </div>\n        </div>\n        <Button \n          variant=\"outline\" \n          onClick={closeBorrowerView}\n          className=\"hover:bg-primary hover:text-primary-foreground hover:border-primary transition-all duration-300 shadow-sm hover:shadow-md\"\n        >\n          Back to Dashboard\n        </Button>\n      </div>\n    </CardHeader>\n    <CardContent className=\"p-8\">\n      {loadingCreditData ? (\n        <div className=\"flex flex-col justify-center items-center py-16\">\n          <div className=\"relative\">\n            <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n            <div className=\"absolute inset-0 bg-primary/20 rounded-full blur-xl\"></div>\n          </div>\n          <p className=\"text-muted-foreground mt-4 font-medium\">Loading borrower data...</p>\n        </div>\n      ) : userCreditData ? (\n        <>\n          {/* Borrower Header */}\n          <div className=\"mb-8 p-6 bg-gradient-to-r from-accent/10 to-secondary/10 rounded-xl border border-border/30\">\n            <div className=\"flex items-center gap-6\">\n              <div className=\"relative\">\n                <div className=\"w-20 h-20 bg-gradient-to-br from-primary to-primary-glow rounded-full flex items-center justify-center shadow-lg\">\n                  <User className=\"h-10 w-10 text-primary-foreground\" />\n                </div>\n                <div className=\"absolute -bottom-2 -right-2 w-8 h-8 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center shadow-md\">\n                  <Shield className=\"h-4 w-4 text-white\" />\n                </div>\n              </div>\n              <div className=\"flex-1\">\n                <h3 className=\"text-2xl font-bold text-foreground\">{selectedUser?.name || 'N/A'}</h3>\n                <p className=\"text-muted-foreground text-lg\">{selectedUser?.email || 'N/A'}</p>\n                <div className=\"mt-2\">\n                  {renderDecisionBadge(userCreditData.lendingDecision?.decision || 'Review', 'large')}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8\">\n            {/* Credit Score Section */}\n            <div className=\"lg:col-span-4\">\n              <Card className=\"h-full bg-gradient-to-br from-background to-accent/5 border-2 border-border/50 shadow-lg hover:shadow-xl transition-all duration-300\">\n                <CardHeader className=\"text-center pb-4\">\n                  <CardTitle className=\"flex items-center justify-center gap-2 text-xl\">\n                    <CreditCard className=\"h-5 w-5 text-primary\" />\n                    Credit Score\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"text-center pb-8\">\n                  <div className=\"flex flex-col items-center\">\n                    {(() => {\n                      const score = userCreditData.creditScore?.fico?.score ?? userCreditData.currentScore ?? null;\n                      let bgColor = 'bg-gradient-to-br from-muted to-muted/80';\n                      let textColor = 'text-muted-foreground';\n                      let rating = 'N/A';\n                      let ringColor = 'ring-muted/30';\n                      \n                      if (typeof score === 'number') {\n                        if (score >= 740) { \n                          bgColor = 'bg-gradient-to-br from-emerald-500 to-emerald-600'; \n                          textColor = 'text-white'; \n                          rating = 'Excellent';\n                          ringColor = 'ring-emerald-200';\n                        }\n                        else if (score >= 670) { \n                          bgColor = 'bg-gradient-to-br from-blue-500 to-blue-600'; \n                          textColor = 'text-white'; \n                          rating = 'Good';\n                          ringColor = 'ring-blue-200';\n                        }\n                        else if (score >= 580) { \n                          bgColor = 'bg-gradient-to-br from-amber-400 to-amber-500'; \n                          textColor = 'text-white'; \n                          rating = 'Fair';\n                          ringColor = 'ring-amber-200';\n                        }\n                        else { \n                          bgColor = 'bg-gradient-to-br from-red-500 to-red-600'; \n                          textColor = 'text-white'; \n                          rating = 'Poor';\n                          ringColor = 'ring-red-200';\n                        }\n                      }\n                      \n                      return (\n                        <>\n                          <div className={`relative w-32 h-32 ${bgColor} rounded-full flex items-center justify-center shadow-xl ring-4 ${ringColor} transform hover:scale-105 transition-all duration-300`}>\n                            <span className={`text-4xl font-bold ${textColor}`}>\n                              {score !== null ? score : 'N/A'}\n                            </span>\n                            <div className=\"absolute inset-0 bg-white/10 rounded-full blur-sm\"></div>\n                          </div>\n                          <div className=\"mt-4 space-y-2\">\n                            <div className=\"text-xl font-bold text-foreground\">{rating}</div>\n                            <div className=\"text-sm text-muted-foreground bg-accent/20 px-3 py-1 rounded-full\">\n                              Engine: {userCreditData.engine === 'default' ? 'FF Score' : userCreditData.engine === 'creditworthiness' ? 'TF Score' : (userCreditData.engine || 'Unknown')}\n                              {userCreditData.engineVersion && (\n                                <span className=\"ml-2 px-2 py-0.5 bg-primary text-primary-foreground rounded text-xs\">\n                                  v{userCreditData.engineVersion}\n                                </span>\n                              )}\n                            </div>\n                          </div>\n                        </>\n                      );\n                    })()}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Risk Assessment Section */}\n            <div className=\"lg:col-span-8\">\n              <Card className=\"h-full bg-gradient-to-br from-background to-secondary/5 border-2 border-border/50 shadow-lg\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Shield className=\"h-5 w-5 text-primary\" />\n                    Risk Assessment\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    {[\n                      {\n                        label: 'Risk Tier',\n                        value: userCreditData.lendingDecision?.riskTierLabel || userCreditData.lendingDecision?.riskTier || 'N/A',\n                        type: 'tier'\n                      },\n                      {\n                        label: 'Default Risk',\n                        value: userCreditData.lendingDecision?.defaultRiskEstimate || 'N/A',\n                        type: 'risk'\n                      },\n                      {\n                        label: 'Classification',\n                        value: userCreditData.lendingDecision?.classification || 'N/A',\n                        type: 'classification'\n                      },\n                      {\n                        label: 'DTI Ratio',\n                        value: (() => {\n                          const dti = (userCreditData.lendingDecision?.dti ?? userCreditData.scoreResult?.dtiRatio ?? userCreditData.dti);\n                          const computeDtiRating = (v) => {\n                            if (typeof v !== 'number') return 'N/A';\n                            if (v < 0.15) return 'Excellent';\n                            if (v < 0.25) return 'Good';\n                            if (v < 0.35) return 'Fair';\n                            return 'Poor';\n                          };\n                          const dtiRating = userCreditData.lendingDecision?.dtiRating || computeDtiRating(dti);\n                          if (typeof dti === 'number') {\n                            return `${(dti * 100).toFixed(1)}% (${dtiRating})`;\n                          }\n                          return 'N/A';\n                        })(),\n                        type: 'dti'\n                      }\n                    ].map((item, index) => (\n                      <div key={index} className=\"p-4 bg-gradient-to-br from-accent/10 to-secondary/10 rounded-lg border border-border/30 hover:shadow-md transition-all duration-300\">\n                        <div className=\"text-sm font-medium text-muted-foreground mb-2\">{item.label}</div>\n                        <div className=\"flex items-center gap-2\">\n                          {(() => {\n                            let badgeClass = 'bg-gradient-to-r from-muted to-muted/80 text-muted-foreground';\n                            let icon = null;\n                            \n                            if (item.type === 'tier' && item.value === 'Subprime') {\n                              badgeClass = 'bg-gradient-to-r from-red-500 to-red-600 text-white';\n                              icon = <TrendingDown className=\"h-3 w-3\" />;\n                            } else if (item.type === 'risk' && item.value === 'High') {\n                              badgeClass = 'bg-gradient-to-r from-red-500 to-red-600 text-white';\n                              icon = <TrendingDown className=\"h-3 w-3\" />;\n                            } else if (item.type === 'classification' && item.value === 'Good') {\n                              badgeClass = 'bg-gradient-to-r from-emerald-500 to-emerald-600 text-white';\n                              icon = <TrendingUp className=\"h-3 w-3\" />;\n                            } else if (item.type === 'dti' && item.value !== 'N/A') {\n                              badgeClass = 'bg-gradient-to-r from-emerald-500 to-emerald-600 text-white';\n                              icon = <Target className=\"h-3 w-3\" />;\n                            }\n                            \n                            return (\n                              <span className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium shadow-sm ${badgeClass}`}>\n                                {icon}\n                                {item.value}\n                              </span>\n                            );\n                          })()}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n\n          {/* Financial Metrics Grid */}\n          <div className=\"mt-8\">\n            <div className=\"flex items-center gap-2 mb-6\">\n              <DollarSign className=\"h-5 w-5 text-primary\" />\n              <h3 className=\"text-xl font-bold text-foreground\">Financial Metrics</h3>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {[\n                { title: 'Monthly Income', value: userCreditData.monthlyIncome !== undefined && userCreditData.monthlyIncome !== null ? `$${userCreditData.monthlyIncome.toLocaleString()}` : 'N/A', editable: true, icon: DollarSign, color: 'emerald' },\n                { title: 'Total Debt', value: userCreditData.totalDebt !== undefined && userCreditData.totalDebt !== null ? `$${userCreditData.totalDebt.toLocaleString()}` : 'N/A', icon: CreditCard, color: 'red' },\n                { title: 'DTI Ratio', value: typeof userCreditData.dti === 'number' && !isNaN(userCreditData.dti) ? `${(userCreditData.dti * 100).toFixed(1)}%` : 'N/A', icon: Target, color: 'blue' },\n                { title: 'Max Loan Amount', value: userCreditData.lendingDecision?.maxLoanAmount !== undefined && userCreditData.lendingDecision?.maxLoanAmount !== null ? (userCreditData.lendingDecision.maxLoanAmount > 0 ? `$${userCreditData.lendingDecision.maxLoanAmount.toLocaleString()}` : 'Not Eligible') : 'N/A', highlight: true, icon: Target, color: 'primary' },\n                { title: 'Suggested Rate', value: userCreditData.lendingDecision?.suggestedInterestRate !== undefined && userCreditData.lendingDecision?.suggestedInterestRate !== null ? userCreditData.lendingDecision.suggestedInterestRate : 'N/A', highlight: true, icon: TrendingUp, color: 'primary' },\n                { title: 'Missed Payments', value: userCreditData.recentMissedPayments !== undefined && userCreditData.recentMissedPayments !== null ? userCreditData.recentMissedPayments : 0, icon: TrendingDown, color: 'amber' },\n                { title: 'Recent Defaults', value: userCreditData.recentDefaults !== undefined && userCreditData.recentDefaults !== null ? userCreditData.recentDefaults : 0, icon: TrendingDown, color: 'red' },\n                { title: 'Credit Utilization', value: userCreditData.creditUtilization?.overall !== undefined && userCreditData.creditUtilization?.overall !== null ? `${(userCreditData.creditUtilization.overall * 100).toFixed(1)}%` : 'N/A', icon: CreditCard, color: 'blue' },\n                { title: 'Credit Mix', value: userCreditData.creditMix !== undefined && userCreditData.creditMix !== null ? `${(userCreditData.creditMix * 100).toFixed(1)}%` : 'N/A', icon: Shield, color: 'purple' },\n                { title: 'Credit Age (months)', value: userCreditData.creditAgeMonths !== undefined && userCreditData.creditAgeMonths !== null ? userCreditData.creditAgeMonths : 'N/A', icon: Calendar, color: 'blue' },\n                { title: 'Total Accounts', value: userCreditData.totalAccounts !== undefined && userCreditData.totalAccounts !== null ? userCreditData.totalAccounts : 'N/A', icon: CreditCard, color: 'blue' },\n                { title: 'Open Accounts', value: userCreditData.openAccounts !== undefined && userCreditData.openAccounts !== null ? userCreditData.openAccounts : 'N/A', icon: CreditCard, color: 'emerald' },\n                { title: 'Collateral Value', value: userCreditData.lendingDecision?.collateralValue !== undefined && userCreditData.lendingDecision?.collateralValue !== null ? (userCreditData.lendingDecision.collateralValue > 0 ? `$${userCreditData.lendingDecision.collateralValue.toLocaleString()}` : 'None') : 'N/A', highlight: userCreditData.lendingDecision?.collateralValue > 0, icon: Shield, color: 'primary' }\n              ].map((metric, index) => (\n                <Card \n                  key={index} \n                  className={`group hover:shadow-lg transition-all duration-300 cursor-pointer hover:scale-105 ${\n                    metric.highlight \n                      ? 'bg-gradient-to-br from-primary/5 via-accent/5 to-secondary/5 border-2 border-primary/20 shadow-md' \n                      : 'bg-gradient-to-br from-background to-accent/5 border border-border/50'\n                  }`}\n                >\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-start justify-between mb-4\">\n                      <div className={`p-3 rounded-xl shadow-sm ${\n                        metric.color === 'emerald' ? 'bg-gradient-to-br from-emerald-100 to-emerald-200 border border-emerald-300' :\n                        metric.color === 'red' ? 'bg-gradient-to-br from-red-100 to-red-200 border border-red-300' :\n                        metric.color === 'blue' ? 'bg-gradient-to-br from-blue-100 to-blue-200 border border-blue-300' :\n                        metric.color === 'amber' ? 'bg-gradient-to-br from-amber-100 to-amber-200 border border-amber-300' :\n                        metric.color === 'purple' ? 'bg-gradient-to-br from-purple-100 to-purple-200 border border-purple-300' :\n                        metric.color === 'primary' ? 'bg-gradient-to-br from-primary/20 to-primary/30 border border-primary/40' :\n                        'bg-gradient-to-br from-muted to-muted/80 border border-border'\n                      }`}>\n                        <metric.icon className={`h-5 w-5 ${\n                          metric.color === 'emerald' ? 'text-emerald-600' :\n                          metric.color === 'red' ? 'text-red-600' :\n                          metric.color === 'blue' ? 'text-blue-600' :\n                          metric.color === 'amber' ? 'text-amber-600' :\n                          metric.color === 'purple' ? 'text-purple-600' :\n                          metric.color === 'primary' ? 'text-primary' :\n                          'text-muted-foreground'\n                        }`} />\n                      </div>\n                      {metric.editable && (\n                        <Button \n                          variant=\"ghost\" \n                          size=\"sm\" \n                          onClick={startEditingIncome}\n                          className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-primary hover:text-primary-foreground\"\n                        >\n                          <Edit className=\"h-4 w-4\" />\n                        </Button>\n                      )}\n                    </div>\n                    \n                    <div className=\"space-y-2\">\n                      <h4 className=\"text-sm font-medium text-muted-foreground\">{metric.title}</h4>\n                      <p className={`text-lg font-bold ${\n                        metric.highlight \n                          ? 'text-primary' \n                          : 'text-foreground'\n                      }`}>\n                        {metric.value}\n                      </p>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"text-center py-16\">\n          <div className=\"p-6 bg-gradient-to-br from-muted/50 to-accent/10 rounded-xl border border-border/50 inline-block\">\n            <User className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n            <p className=\"text-lg text-muted-foreground font-medium\">No credit data available</p>\n            <p className=\"text-sm text-muted-foreground/80 mt-2\">Please select a borrower to view their information</p>\n          </div>\n        </div>\n      )}\n    </CardContent>\n  </Card>\n);\n\nexport default BorrowerSnapshot;","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { \n  Search, \n  User, \n  CreditCard, \n  AlertCircle, \n  CheckCircle2, \n  XCircle, \n  Info, \n  ChevronDown, \n  Edit, \n  Save, \n  AlertTriangle,\n  BarChart4,\n  Bell,\n  FileText,\n  Mail,\n  Clock,\n  TrendingUp,\n  Filter,\n  RefreshCw,\n  Loader2,\n  Upload,\n  UserPlus,\n  Flag,\n  CheckSquare,\n  Square,\n  Calculator,\n  Shield,\n  AlertOctagon,\n  TrendingDown,\n  Sparkles,\n  Activity,\n  DollarSign,\n  Users,\n  Target,\n  Settings\n} from 'lucide-react';\n\nimport LoanDecisionStatus from './LoanDecisionStatus';\nimport AlertsPanel from './LenderDashboard/AlertsPanel.jsx';\nimport RecentDecisionsPanel from './LenderDashboard/RecentDecisionsPanel.jsx';\nimport Header from './LenderDashboard/Header.jsx';\nimport SearchPanel from './LenderDashboard/SearchPanel.jsx';\nimport RiskTierOverridePanel from './LenderDashboard/RiskTierOverridePanel.jsx';\nimport BatchUploadResults from './LenderDashboard/BatchUploadResults.jsx';\nimport DecisionBadge from './LenderDashboard/DecisionBadge.jsx';\nimport LendingDecisionDetails from './LenderDashboard/LendingDecisionDetails.jsx';\nimport DecisionConfigPanel from './LenderDashboard/DecisionConfigPanel.jsx';\nimport ManualDecisionForm from './LenderDashboard/ManualDecisionForm.jsx';\nimport BatchUploadDialog from './LenderDashboard/dialogs/BatchUploadDialog.jsx';\nimport RegisterUserDialog from './LenderDashboard/dialogs/RegisterUserDialog.jsx';\nimport {\n  fetchDashboardMetrics,\n  fetchRecentDecisions,\n  fetchAlerts,\n  manualRefresh,\n  searchUsers\n} from './LenderDashboard/utils.js';\n\n// UI Components\nimport { Input } from './ui/input';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardFooter } from './ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from './ui/table';\nimport { Badge } from './ui/badge';\nimport { Separator } from './ui/separator';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { Label } from './ui/label';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from './ui/tooltip';\nimport { Textarea } from './ui/textarea';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Slider } from './ui/slider';\nimport { Switch } from './ui/switch';\nimport { useToast } from '../hooks/use-toast';\nimport { useAuth } from '../contexts/AuthContext';\nimport { api } from '../lib/api';\nimport BorrowerSnapshot from './LenderDashboard/BorrowerSnapshot.jsx';\n\nconst LenderDashboard = ({ darkMode, toggleDarkMode }) => {\n  const navigate = useNavigate();\n  const { toast } = useToast();\n  const { logout, user } = useAuth();\n  \n  // State\n  const [searchQuery, setSearchQuery] = useState('');\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [userCreditData, setUserCreditData] = useState(null);\n  const [loadingCreditData, setLoadingCreditData] = useState(false);\n  const [creditDataError, setCreditDataError] = useState(null);\n  const [isEditingDecision, setIsEditingDecision] = useState(false);\n  const [manualDecision, setManualDecision] = useState({\n    decision: '',\n    notes: '',\n    amount: '',\n    term: '',\n    interestRate: '',\n    rejectionReason: '',\n    flagForReview: false,\n    reviewNote: '',\n    riskTierOverride: '',\n    overrideJustification: '',\n    loanType: ''\n  });\n  \n  const [dashboardMetrics, setDashboardMetrics] = useState({\n    approvedLoans: 0,\n    pendingLoans: 0,\n    rejectedLoans: 0,\n    avgDecisionTime: '0m',\n    riskBreakdown: { low: 0, medium: 0, high: 0 }\n  });\n  const [alerts, setAlerts] = useState([]);\n  const [recentDecisions, setRecentDecisions] = useState([]);\n  const [loanOffer, setLoanOffer] = useState(null);\n  const [sendingOffer, setSendingOffer] = useState(false);\n  const [decliningOffer, setDecliningOffer] = useState(false);\n  const [editingIncome, setEditingIncome] = useState(false);\n  const [newIncome, setNewIncome] = useState('');\n  const [recalcLoading, setRecalcLoading] = useState(false);\n  const [hasCollateral, setHasCollateral] = useState(false);\n  const [collateralValue, setCollateralValue] = useState(0);\n\n  const [showBatchUpload, setShowBatchUpload] = useState(false);\n  const [batchResults, setBatchResults] = useState(null);\n  const [showRegister, setShowRegister] = useState(false);\n  \n  const searchTimeoutRef = useRef(null);\n  const intervalRef = useRef(null);\n\n  const [refreshing, setRefreshing] = useState(false);\n\n  // Polling state\n  const [pollingState, setPollingState] = useState({\n    isActive: false,\n    lastError: null,\n    consecutiveErrors: 0,\n    baseInterval: 30000, // 30 seconds\n    maxInterval: 300000, // 5 minutes\n    currentInterval: 30000\n  });\n\n  // Cleanup pending debounced search on unmount (prevents stray requests after Fast Refresh/remounts)\n  useEffect(() => {\n    return () => {\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  // Search users with debounce\n  const handleSearch = useCallback((e) => {\n    const query = e.target.value;\n    setSearchQuery(query);\n    \n    if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n    \n    searchTimeoutRef.current = setTimeout(() => {\n      searchUsers(query, setUsers, setLoading, toast, logout, navigate);\n    }, 500);\n  }, [toast, logout, navigate]);\n\n  // Immediate search trigger (used by Search button)\n  const handleSearchSubmit = useCallback(() => {\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n    const query = searchQuery;\n    if (!query) {\n      setUsers([]);\n      return;\n    }\n    searchUsers(query, setUsers, setLoading, toast, logout, navigate);\n  }, [searchQuery, toast, logout, navigate]);\n\n  // Fetch user credit data and normalize decision/offer\n  const fetchUserCreditDataInline = useCallback(async (userId) => {\n    if (!userId) return;\n    try {\n      setLoadingCreditData(true);\n      setCreditDataError(null);\n      const response = await api.get(`/user/${userId}/credit-data`);\n      const responseData = response.data.data || response.data;\n      if (!responseData) throw new Error('No data received from server');\n      \n      const hasUsefulFields = (d) => !!(d && (d.decision || d.maxLoanAmount || d.suggestedInterestRate || d.loanDetails));\n      let latest = responseData.lendingDecision;\n      if (!hasUsefulFields(latest)) {\n        const history = Array.isArray(responseData.lendingDecisionHistory) ? responseData.lendingDecisionHistory : [];\n        latest = [...history].reverse().find(hasUsefulFields) || latest;\n      }\n\n      const computeNormalizedDti = () => {\n        const sr = responseData.scoreResult || {};\n        if (typeof sr.dtiRatio === 'number') return sr.dtiRatio;\n        if (typeof sr.dti === 'number') return sr.dti;\n        if (typeof sr.dti === 'string') {\n          const val = parseFloat(sr.dti);\n          if (!isNaN(val)) return val > 1 ? val / 100 : val;\n        }\n        if (typeof responseData.dti === 'number') return responseData.dti;\n        return typeof latest?.dti === 'number' ? latest.dti : undefined;\n      };\n\n      const normalizedDecision = {\n        ...latest,\n        classification: latest?.classification || responseData.scoreResult?.classification || latest?.riskLabel,\n        dti: computeNormalizedDti(),\n        score: latest?.score || responseData.scoreResult?.score || responseData.currentScore,\n        engineVersion: latest?.engineVersion || responseData.scoreResult?.version,\n        // Derive missing risk fields from score if backend omitted them\n        ...((() => {\n          const score = (latest?.score ?? responseData.scoreResult?.score ?? responseData.currentScore);\n          let derived = {};\n          if (!latest?.riskTier || !latest?.riskTierLabel || !latest?.defaultRiskEstimate) {\n            if (typeof score === 'number') {\n              if (score >= 800) derived = { riskTier: 'Low Risk', riskTierLabel: 'Prime', defaultRiskEstimate: 'Very Low' };\n              else if (score >= 740) derived = { riskTier: 'Low Risk', riskTierLabel: 'Prime', defaultRiskEstimate: 'Low' };\n              else if (score >= 670) derived = { riskTier: 'Moderate Risk', riskTierLabel: 'Near Prime', defaultRiskEstimate: 'Moderate' };\n              else if (score >= 580) derived = { riskTier: 'High Risk', riskTierLabel: 'Subprime', defaultRiskEstimate: 'High' };\n              else derived = { riskTier: 'Very High Risk', riskTierLabel: 'Deep Subprime', defaultRiskEstimate: 'Very High' };\n            }\n          }\n          return derived;\n        })()),\n        // Ensure dtiRating is present\n        ...((() => {\n          const dtiVal = computeNormalizedDti();\n          if (!latest?.dtiRating && typeof dtiVal === 'number') {\n            const rating = dtiVal <= 0.35 ? 'Low' : dtiVal <= 0.45 ? 'Medium' : 'High';\n            return { dtiRating: rating };\n          }\n          return {};\n        })()),\n        customerProfile: {\n          ...(latest?.customerProfile || {}),\n          employmentStatus: (latest?.customerProfile && latest.customerProfile.employmentStatus)\n            || responseData.scoreResult?.customerProfile?.employmentStatus\n        }\n      };\n\n      const normalizedOffer = latest ? {\n        amount: (\n          (latest.loanDetails && parseFloat(latest.loanDetails.amount)) ||\n          latest.maxLoanAmount ||\n          latest.offer?.maxAmount ||\n          null\n        ),\n        interestRate: (\n          (latest.loanDetails && parseFloat(latest.loanDetails.interestRate)) ||\n          latest.suggestedInterestRate ||\n          latest.offer?.interestRate ||\n          null\n        ),\n        termMonths: (\n          (latest.loanDetails && parseInt(latest.loanDetails.term)) ||\n          latest.termMonths ||\n          latest.term ||\n          latest.offer?.termMonths ||\n          null\n        ),\n        monthlyPayment: latest.monthlyPayment ?? latest.offer?.monthlyPayment ?? null,\n        apr: latest.apr ?? latest.offer?.apr ?? null,\n        totalInterest: latest.totalInterest ?? latest.offer?.totalInterest ?? null,\n        maxAmount: latest.maxLoanAmount ?? latest.offer?.maxAmount ?? null,\n        pricingModel: latest.pricingModel,\n        availableTerms: latest.availableTerms || latest.offer?.availableTerms,\n        expirationDate: latest.expirationDate\n      } : null;\n\n      setUserCreditData({\n        userId,\n        ...responseData,\n        currentScore: responseData.currentScore,\n        lendingDecision: normalizedDecision,\n        engine: responseData.engine || 'default',\n        engineVersion: responseData.scoreResult?.version || responseData.engineVersion,\n        dti: computeNormalizedDti()\n      });\n      if (normalizedOffer) setLoanOffer(normalizedOffer);\n    } catch (err) {\n      const errorMessage = err.response?.data?.error || err.message || 'Failed to load credit data';\n      setCreditDataError(errorMessage);\n      toast({ title: 'Error', description: errorMessage, variant: 'destructive' });\n    } finally {\n      setLoadingCreditData(false);\n    }\n  }, [api, toast]);\n\n  // Handle user selection\n  const handleUserSelect = useCallback(async (user) => {\n    setUserCreditData(null);\n    setCreditDataError(null);\n    setLoanOffer(null);\n    setSelectedUser(user);\n\n    try {\n      await fetchUserCreditDataInline(user._id);\n    } catch (err) {\n      toast({\n        title: 'Error',\n        description: err.response?.data?.error || err.message || 'Failed to fetch data',\n        variant: 'destructive',\n      });\n    }\n\n    setActiveTab('borrower');\n  }, [toast, fetchUserCreditDataInline]);\n\n  // Close borrower view\n  const closeBorrowerView = useCallback(() => {\n    setSelectedUser(null);\n    setUserCreditData(null);\n    setIsEditingDecision(false);\n    setManualDecision({\n      decision: '',\n      notes: '',\n      amount: '',\n      term: '',\n      interestRate: '',\n      rejectionReason: '',\n      flagForReview: false,\n      reviewNote: '',\n      riskTierOverride: '',\n      overrideJustification: '',\n      loanType: ''\n    });\n    setActiveTab('overview');\n  }, []);\n\n  const [activeTab, setActiveTab] = useState('overview');\n\n  // Fetch dashboard metrics\n  const fetchDashboardMetricsCallback = useCallback(async () => {\n    try {\n      await fetchDashboardMetrics(setDashboardMetrics, toast);\n    } catch (error) {\n      setDashboardMetrics({\n        approvedLoans: 0,\n        pendingLoans: 0,\n        rejectedLoans: 0,\n        avgDecisionTime: '0m',\n        riskBreakdown: { low: 0, medium: 0, high: 0 }\n      });\n      toast({\n        title: 'Error',\n        description: 'Failed to fetch dashboard metrics',\n        variant: 'destructive'\n      });\n    }\n  }, [toast]);\n\n  // Fetch recent decisions\n  const fetchRecentDecisionsCallback = useCallback(async () => {\n    try {\n      const decisions = await fetchRecentDecisions();\n      setRecentDecisions(decisions);\n      return decisions;\n    } catch (error) {\n      setRecentDecisions([]);\n      toast({\n        title: 'Error',\n        description: 'Failed to fetch recent decisions',\n        variant: 'destructive'\n      });\n      return [];\n    }\n  }, [toast]);\n\n  // Fetch alerts\n  const fetchAlertsCallback = useCallback(async (recentDecisions) => {\n    try {\n      await fetchAlerts(recentDecisions, setAlerts);\n    } catch (error) {\n      setAlerts([]);\n      toast({\n        title: 'Error',\n        description: 'Failed to fetch alerts',\n        variant: 'destructive'\n      });\n    }\n  }, [toast]);\n\n  // Manual refresh function\n  const manualRefreshCallback = useCallback(async () => {\n    setRefreshing(true);\n    try {\n      await fetchDashboardMetricsCallback();\n      const recentDecisions = await fetchRecentDecisionsCallback();\n      await fetchAlertsCallback(recentDecisions);\n      toast({\n        title: 'Refreshed',\n        description: 'Latest data has been refreshed',\n        variant: 'default'\n      });\n    } catch (error) {\n      toast({\n        title: 'Refresh Failed',\n        description: error.response?.data?.error || 'Failed to refresh data',\n        variant: 'destructive'\n      });\n    } finally {\n      setRefreshing(false);\n    }\n  }, [fetchDashboardMetricsCallback, fetchRecentDecisionsCallback, fetchAlertsCallback, toast]);\n\n  // Polling logic\n  const poll = useCallback(async () => {\n    if (document.visibilityState !== 'visible') return;\n    \n    try {\n      await fetchDashboardMetricsCallback();\n      const recentDecisions = await fetchRecentDecisionsCallback();\n      await fetchAlertsCallback(recentDecisions);\n          setPollingState(prev => ({\n            ...prev,\n            consecutiveErrors: 0,\n            currentInterval: prev.baseInterval,\n            lastError: null\n          }));\n      } catch (error) {\n        console.warn('Polling error:', error);\n        setPollingState(prev => {\n          const newErrorCount = prev.consecutiveErrors + 1;\n          const isRateLimit = error.response?.status === 429;\n          const backoffMultiplier = isRateLimit ? Math.pow(2, newErrorCount) : newErrorCount;\n          const newInterval = Math.min(\n            prev.baseInterval * backoffMultiplier,\n            prev.maxInterval\n          );\n          return {\n            ...prev,\n            consecutiveErrors: newErrorCount,\n            currentInterval: newInterval,\n            lastError: error,\n            isActive: newErrorCount < 10\n          };\n        });\n      }\n  }, [fetchDashboardMetricsCallback, fetchRecentDecisionsCallback, fetchAlertsCallback]);\n\n  const startPolling = useCallback(() => {\n    setPollingState(prev => ({ \n      ...prev, \n      isActive: true, \n      consecutiveErrors: 0, \n      lastError: null, \n      currentInterval: prev.baseInterval \n    }));\n  }, []);\n\n  // Handle visibility change\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === 'visible' && !pollingState.isActive) {\n          startPolling();\n      }\n    };\n\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, [pollingState.isActive, startPolling]);\n\n  // Polling interval management\n  useEffect(() => {\n    if (!pollingState.isActive) {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n      return;\n    }\n\n    poll();\n    intervalRef.current = setInterval(() => poll(), pollingState.currentInterval);\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n    };\n  }, [pollingState.isActive, pollingState.currentInterval, poll]);\n\n  // Start polling on mount\n  useEffect(() => {\n    startPolling();\n    return () => {\n      setPollingState(prev => ({ ...prev, isActive: false }));\n    };\n  }, [startPolling]);\n\n  // Save manual decision\n  const saveManualDecision = useCallback(async () => {\n    if (!userCreditData?.userId) {\n      toast({\n        title: 'Error',\n        description: 'No user selected for decision',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    try {\n      await api.post(`/lenders/save-decision/${userCreditData.userId}`, {\n        decision: manualDecision.decision,\n        notes: manualDecision.notes,\n        isManual: true,\n        reasons: userCreditData?.lendingDecision?.reasons || [],\n        recommendations: userCreditData?.lendingDecision?.recommendations || [],\n        loanDetails: {\n          amount: manualDecision.amount,\n          term: manualDecision.term,\n          interestRate: manualDecision.interestRate\n        },\n        loanType: manualDecision.loanType,\n        rejectionReason: manualDecision.rejectionReason,\n        flagForReview: manualDecision.flagForReview,\n        reviewNote: manualDecision.reviewNote,\n        riskTierOverride: manualDecision.riskTierOverride,\n        overrideJustification: manualDecision.overrideJustification\n      });\n      \n      setUserCreditData(prev => ({\n        ...prev,\n        lendingDecision: {\n          ...prev.lendingDecision,\n          decision: manualDecision.decision,\n          isManual: true,\n          manualNotes: manualDecision.notes,\n          loanDetails: {\n            amount: manualDecision.amount,\n            term: manualDecision.term,\n            interestRate: manualDecision.interestRate\n          },\n          loanType: manualDecision.loanType,\n          rejectionReason: manualDecision.rejectionReason,\n          flagForReview: manualDecision.flagForReview,\n          reviewNote: manualDecision.reviewNote,\n          riskTierOverride: manualDecision.riskTierOverride,\n          overrideJustification: manualDecision.overrideJustification\n        }\n      }));\n      \n      setIsEditingDecision(false);\n      toast({\n        title: 'Success',\n        description: 'Lending decision saved',\n        variant: 'default',\n      });\n      await fetchRecentDecisionsCallback();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: error.response?.data?.error || 'Failed to save decision',\n        variant: 'destructive',\n      });\n    }\n  }, [manualDecision, userCreditData, toast, fetchRecentDecisionsCallback]);\n\n  // Start editing decision\n  const startEditingDecision = useCallback(() => {\n    setManualDecision({\n      decision: userCreditData?.lendingDecision?.decision || 'Review',\n      notes: userCreditData?.lendingDecision?.manualNotes || '',\n      amount: userCreditData?.lendingDecision?.loanDetails?.amount || '',\n      term: userCreditData?.lendingDecision?.loanDetails?.term || '',\n      interestRate: userCreditData?.lendingDecision?.loanDetails?.interestRate || '',\n      rejectionReason: userCreditData?.lendingDecision?.rejectionReason || '',\n      flagForReview: userCreditData?.lendingDecision?.flagForReview || false,\n      reviewNote: userCreditData?.lendingDecision?.reviewNote || '',\n      riskTierOverride: userCreditData?.lendingDecision?.riskTierOverride || '',\n      overrideJustification: userCreditData?.lendingDecision?.overrideJustification || '',\n      loanType: userCreditData?.lendingDecision?.loanType || ''\n    });\n    setIsEditingDecision(true);\n  }, [userCreditData]);\n\n  // Submit new income\n  const submitNewIncome = useCallback(async () => {\n    if (!selectedUser) return;\n    setRecalcLoading(true);\n    try {\n      const res = await api.post(`/lenders/lending-decision/${selectedUser._id}/recalculate`, {\n        monthlyIncome: Number(newIncome)\n      });\n      if (res.data?.offer) {\n        setLoanOffer(res.data.offer);\n        toast({ title: 'Loan offer recalculated', description: `New offer based on income $${newIncome}` });\n      }\n    } catch (err) {\n      toast({ \n        title: 'Error', \n        description: err.response?.data?.error || err.message, \n        variant: 'destructive' \n      });\n    } finally {\n      setRecalcLoading(false);\n      setEditingIncome(false);\n    }\n  }, [selectedUser, newIncome, toast]);\n\n  // Recalculate with collateral\n  const recalculateWithCollateral = useCallback(async () => {\n    if (!selectedUser) return;\n    setRecalcLoading(true);\n    try {\n      const res = await api.post(`/lenders/lending-decision/${selectedUser._id}/recalculate`, {\n        collateralValue: hasCollateral ? Number(collateralValue) : 0\n      });\n      if (res.data?.offer) {\n        setLoanOffer(res.data.offer);\n        toast({ \n          title: 'Loan offer recalculated', \n          description: hasCollateral \n            ? `New offer with collateral value $${collateralValue.toLocaleString()}` \n            : 'New offer without collateral' \n        });\n      }\n    } catch (err) {\n      toast({ \n        title: 'Error', \n        description: err.response?.data?.error || err.message, \n        variant: 'destructive' \n      });\n    } finally {\n      setRecalcLoading(false);\n    }\n  }, [selectedUser, hasCollateral, collateralValue, toast]);\n\n  // Send offer\n  const sendOffer = useCallback(async () => {\n    if (!selectedUser || !loanOffer) return;\n    setSendingOffer(true);\n    try {\n      await api.post(`/lenders/save-decision/${selectedUser._id}`, {\n        decision: 'Approve',\n        notes: 'Offer sent to borrower',\n        loanDetails: {\n          amount: loanOffer.amount,\n          term: loanOffer.termMonths,\n          interestRate: loanOffer.interestRate\n        },\n        isManual: false\n      });\n      toast({ \n        title: 'Offer sent', \n        description: 'Loan offer sent to borrower.' \n      });\n    } catch (err) {\n      toast({ \n        title: 'Error', \n        description: err.response?.data?.error || err.message, \n        variant: 'destructive' \n      });\n    } finally {\n      setSendingOffer(false);\n    }\n  }, [selectedUser, loanOffer, toast]);\n\n  // Decline offer\n  const declineOffer = useCallback(async () => {\n    if (!selectedUser || !loanOffer) return;\n    setDecliningOffer(true);\n    try {\n      await api.post(`/lenders/save-decision/${selectedUser._id}`, {\n        decision: 'Reject',\n        notes: 'Offer declined by lender',\n        isManual: false\n      });\n      toast({ \n        title: 'Offer declined', \n        description: 'Loan offer declined.' \n      });\n    } catch (err) {\n      toast({ \n        title: 'Error', \n        description: err.response?.data?.error || err.message, \n        variant: 'destructive' \n      });\n    } finally {\n      setDecliningOffer(false);\n    }\n  }, [selectedUser, loanOffer, toast]);\n\n  // Handle decision actions\n  const handleDecisionAction = useCallback(async (action) => {\n    if (!selectedUser) return;\n\n    try {\n      switch (action) {\n        case 'approve':\n          await api.post(`/lenders/save-decision/${selectedUser._id}`, {\n            decision: 'Approve',\n            notes: 'Final offer approved by lender',\n            isManual: true\n          });\n          toast({ \n            title: 'Offer Approved', \n            description: 'Final offer has been approved.' \n          });\n          break;\n\n        case 'edit':\n          setIsEditingDecision(true);\n          toast({ \n            title: 'Edit Mode', \n            description: 'You can now edit the loan offer terms.' \n          });\n          break;\n\n        case 'download':\n          toast({ \n            title: 'Download Started', \n            description: 'PDF summary is being generated...' \n          });\n          // Implement PDF generation here\n          break;\n\n        case 'send':\n          await sendOffer();\n          break;\n\n        case 'decline':\n          await declineOffer();\n          break;\n\n        case 'hold':\n          await api.post(`/lenders/save-decision/${selectedUser._id}`, {\n            decision: 'Hold',\n            notes: 'Application put on hold by lender',\n            isManual: true\n          });\n          toast({ \n            title: 'Application on Hold', \n            description: 'Application has been put on hold.' \n          });\n          break;\n\n        default:\n          break;\n      }\n    } catch (error) {\n      toast({ \n        title: 'Error', \n        description: error.response?.data?.error || error.message, \n        variant: 'destructive' \n      });\n    }\n  }, [selectedUser, sendOffer, declineOffer, toast]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, []);\n\n  // Fetch initial data (once)\n  useEffect(() => {\n    let cancelled = false;\n    (async () => {\n      await fetchDashboardMetricsCallback();\n      const decisions = await fetchRecentDecisionsCallback();\n      if (!cancelled) {\n        await fetchAlertsCallback(decisions);\n      }\n    })();\n    return () => { cancelled = true; };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Handle manual decision change\n  const handleManualDecision = useCallback((field, value) => {\n    setManualDecision(prev => ({ ...prev, [field]: value }));\n  }, []);\n\n  const startEditingIncome = useCallback(() => setEditingIncome(true), []);\n\n  const handleBatchUploadOpen = useCallback(() => {\n    setShowBatchUpload(true);\n  }, []);\n\n  const handleBatchUploadClose = useCallback(() => setShowBatchUpload(false), []);\n\n  const handleBatchUploadComplete = useCallback(async (results) => {\n    setShowBatchUpload(false);\n    setBatchResults(results);\n    if (selectedUser) {\n      try {\n        await api.post(`/users/${selectedUser._id}/refresh-credit-score`);\n        await fetchUserCreditDataInline(selectedUser._id);\n      } catch (err) {\n        console.warn('Credit score refresh failed:', err);\n      }\n    }\n  }, [selectedUser, api, fetchUserCreditDataInline]);\n\n  // Derived values for metrics\n  const totalLoans = dashboardMetrics.approvedLoans + dashboardMetrics.pendingLoans + dashboardMetrics.rejectedLoans;\n  const approvalRate = totalLoans > 0 ? ((dashboardMetrics.approvedLoans / totalLoans) * 100).toFixed(1) : 0;\n\n  // Enhanced Metrics Cards\n  const renderEnhancedMetrics = () => {\n    const metricsData = [\n      { \n        title: 'Approved Loans', \n        value: dashboardMetrics.approvedLoans, \n        icon: CheckCircle2, \n        color: 'emerald',\n        gradient: 'bg-gradient-to-r from-emerald-500 to-emerald-700',\n        trend: '+12%',\n        trendUp: true,\n        description: 'Successfully funded'\n      },\n      { \n        title: 'Pending Review', \n        value: dashboardMetrics.pendingLoans, \n        icon: Clock, \n        color: 'amber',\n        gradient: 'bg-gradient-to-r from-amber-500 to-amber-700',\n        trend: '-5%',\n        trendUp: false,\n        description: 'Awaiting decision'\n      },\n      { \n        title: 'Rejected Applications', \n        value: dashboardMetrics.rejectedLoans, \n        icon: XCircle, \n        color: 'red',\n        gradient: 'bg-gradient-to-r from-red-500 to-red-700',\n        trend: '-8%',\n        trendUp: true,\n        description: 'Did not meet criteria'\n      },\n      { \n        title: 'Avg. Decision Time', \n        value: dashboardMetrics.avgDecisionTime, \n        icon: Activity, \n        color: 'blue',\n        gradient: 'bg-gradient-to-r from-blue-500 to-blue-700',\n        trend: '-15%',\n        trendUp: true,\n        description: 'Processing efficiency'\n      }\n    ];\n\n    return (\n      <div className=\"space-y-8 animate-fade-in\">\n        {/* Hero Metrics Section */}\n        <div className=\"relative overflow-hidden rounded-3xl bg-gradient-to-r from-indigo-600 to-purple-600 p-8 text-white shadow-lg\">\n          <div className=\"absolute inset-0 bg-black/20\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"mb-6 flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-3xl font-bold\">Portfolio Overview</h2>\n                <p className=\"text-white/80\">Real-time lending metrics and performance</p>\n              </div>\n              <div className=\"flex items-center gap-2 rounded-full bg-white/20 px-4 py-2 backdrop-blur-sm\">\n                <Sparkles className=\"h-4 w-4\" />\n                <span className=\"text-sm font-medium\">Live</span>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold mb-1\">{totalLoans}</div>\n                <div className=\"text-white/80 text-sm\">Total Applications</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold mb-1\">{approvalRate}%</div>\n                <div className=\"text-white/80 text-sm\">Approval Rate</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold mb-1\">â”€</div>\n                <div className=\"text-white/80 text-sm\">Total Funded</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold mb-1\">â”€</div>\n                <div className=\"text-white/80 text-sm\">Avg Risk Score</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Individual Metrics Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {metricsData.map((metric, index) => (\n            <Card \n              key={index} \n              className=\"group relative overflow-hidden border-0 bg-card shadow-lg hover:shadow-xl transition-all duration-500 hover:scale-105\"\n            >\n              <div className={`absolute inset-0 ${metric.gradient} opacity-5 group-hover:opacity-10 transition-opacity duration-500`}></div>\n              \n              <CardContent className=\"relative p-6\">\n                <div className=\"mb-4 flex items-start justify-between\">\n                  <div className={`rounded-2xl p-3 ${metric.gradient} shadow-lg`}>\n                    <metric.icon className=\"h-6 w-6 text-white\" />\n                  </div>\n                  <div className=\"text-right\">\n                    <div className={`flex items-center gap-1 text-xs font-semibold ${\n                      metric.trendUp ? 'text-emerald-500' : 'text-red-500'\n                    }`}>\n                      {metric.trendUp ? <TrendingUp className=\"h-3 w-3\" /> : <TrendingDown className=\"h-3 w-3\" />}\n                      {metric.trend}\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <div className=\"text-3xl font-bold text-foreground\">\n                    {metric.value}\n                  </div>\n                  <div className=\"text-sm font-medium text-muted-foreground\">\n                    {metric.title}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">\n                    {metric.description}\n                  </div>\n                </div>\n\n                {metric.title.includes('Loans') && totalLoans > 0 && (\n                  <div className=\"mt-4\">\n                    <div className=\"mb-1 flex justify-between text-xs text-muted-foreground\">\n                      <span>Portfolio %</span>\n                      <span>{((metric.value / totalLoans) * 100).toFixed(1)}%</span>\n                    </div>\n                    <div className=\"h-2 w-full overflow-hidden rounded-full bg-muted\">\n                      <div \n                        className={`h-full transition-all duration-1000 ease-out ${metric.gradient}`}\n                        style={{ \n                          width: `${((metric.value / totalLoans) * 100)}%`,\n                          animationDelay: `${index * 100}ms`\n                        }}\n                      />\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {/* Risk Analysis Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <Card className=\"border-0 bg-gradient-to-r from-emerald-500 to-emerald-700 text-white shadow-lg hover:shadow-xl transition-all duration-300\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"text-sm font-medium opacity-90\">Low Risk Portfolio</div>\n                  <div className=\"text-3xl font-bold\">{dashboardMetrics.riskBreakdown.low}%</div>\n                </div>\n                <div className=\"rounded-full bg-white/20 p-3\">\n                  <Shield className=\"h-6 w-6\" />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"border-0 bg-gradient-to-r from-blue-500 to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"text-sm font-medium opacity-90\">Medium Risk Portfolio</div>\n                  <div className=\"text-3xl font-bold\">{dashboardMetrics.riskBreakdown.medium}%</div>\n                </div>\n                <div className=\"rounded-full bg-white/20 p-3\">\n                  <Target className=\"h-6 w-6\" />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"border-0 bg-gradient-to-r from-purple-500 to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"text-sm font-medium opacity-90\">High Risk Portfolio</div>\n                  <div className=\"text-3xl font-bold\">{dashboardMetrics.riskBreakdown.high}%</div>\n                </div>\n                <div className=\"rounded-full bg-white/20 p-3\">\n                  <AlertOctagon className=\"h-6 w-6\" />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <TooltipProvider>\n      <div className=\"min-h-screen bg-background transition-colors duration-300\">\n        <div className=\"container mx-auto px-6 py-8\">\n            {/* Header */}\n            <Header\n              darkMode={darkMode}\n              toggleDarkMode={toggleDarkMode}\n              refreshing={refreshing}\n              pollingState={pollingState}\n              onRefresh={manualRefreshCallback}\n              onOpenBatchUpload={handleBatchUploadOpen}\n              onOpenRegister={() => setShowRegister(true)}\n            />\n\n            {/* Search Panel */}\n            <SearchPanel\n              searchQuery={searchQuery}\n              onSearchChange={handleSearch}\n              onSearch={handleSearchSubmit}\n              users={users}\n              loading={loading}\n              onSelectUser={async (user) => {\n                setSelectedUser(user);\n                await loadUserCreditData(user);\n                await loadRecentDecisions();\n              }}\n            />\n\n          {/* Enhanced Tabs */}\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n            <TabsList className=\"grid grid-cols-5 h-14 rounded-2xl bg-muted/50 p-1 shadow-inner\">\n                <TabsTrigger value=\"overview\" className=\"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300\">\n                <BarChart4 className=\"h-4 w-4 mr-2\" />\n                Overview\n              </TabsTrigger>\n                <TabsTrigger value=\"borrower\" disabled={!selectedUser} className=\"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300\">\n                <User className=\"h-4 w-4 mr-2\" />\n                Borrower\n              </TabsTrigger>\n                <TabsTrigger value=\"decision\" disabled={!selectedUser} className=\"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300\">\n                <FileText className=\"h-4 w-4 mr-2\" />\n                Decision\n              </TabsTrigger>\n                <TabsTrigger value=\"config\" className=\"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300\">\n                <Settings className=\"h-4 w-4 mr-2\" />\n                Config\n              </TabsTrigger>\n                <TabsTrigger value=\"activity\" className=\"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300\">\n                <TrendingUp className=\"h-4 w-4 mr-2\" />\n                Activity\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"space-y-8\">\n              {renderEnhancedMetrics()}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                <AlertsPanel alerts={alerts} />\n                <RecentDecisionsPanel recentDecisions={recentDecisions} />\n              </div>\n            </TabsContent>\n            \n            <TabsContent value=\"borrower\" className=\"space-y-6\">\n              {selectedUser && (\n                <div className=\"space-y-8\">\n                  <BorrowerSnapshot\n                    userCreditData={userCreditData}\n                    selectedUser={selectedUser}\n                    closeBorrowerView={closeBorrowerView}\n                    loadingCreditData={loadingCreditData}\n                    startEditingIncome={startEditingIncome}\n                    renderDecisionBadge={DecisionBadge}\n                  />\n                  <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                    <LoanDecisionStatus\n                      decision={userCreditData?.lendingDecision}\n                      loanOffer={userCreditData?.lendingDecision?.offer || loanOffer}\n                      onDecisionAction={handleDecisionAction}\n                      isLender={true}\n                    />\n                    {userCreditData && (\n                        <Card className=\"border-0 bg-card shadow-lg\">\n                        <CardHeader>\n                          <div className=\"flex justify-between items-center\">\n                            <CardTitle className=\"text-xl\">Decision Controls</CardTitle>\n                            {!isEditingDecision && (\n                              <Button \n                                variant=\"outline\" \n                                size=\"sm\" \n                                onClick={startEditingDecision}\n                                className=\"border-border hover:bg-muted\"\n                              >\n                                <Edit className=\"h-4 w-4 mr-2\" />\n                                Edit Decision\n                              </Button>\n                            )}\n                          </div>\n                        </CardHeader>\n                        <CardContent>\n                          {!isEditingDecision ? (\n                            <div className=\"space-y-4\">\n                              <div className=\"flex items-center gap-3\">\n                                <span className=\"font-medium\">Current Decision:</span>\n                                <DecisionBadge decision={userCreditData?.lendingDecision?.decision || 'Review'} />\n                              </div>\n                              {userCreditData?.lendingDecision?.manualNotes && (\n                                <div className=\"rounded-lg bg-muted/50 p-4\">\n                                  <span className=\"font-medium\">Notes:</span>\n                                  <p className=\"text-sm text-muted-foreground mt-1\">\n                                    {userCreditData.lendingDecision.manualNotes}\n                                  </p>\n                                </div>\n                              )}\n                              {userCreditData?.lendingDecision?.flagForReview && (\n                                  <div className=\"flex items-center gap-2 text-amber-500 p-3 rounded-lg bg-amber-500/10\">\n                                  <Flag className=\"h-4 w-4\" />\n                                  <span className=\"text-sm font-medium\">Flagged for Manual Review</span>\n                                </div>\n                              )}\n                            </div>\n                          ) : (\n                            <ManualDecisionForm\n                              manualDecision={manualDecision}\n                              handleManualDecision={handleManualDecision}\n                              setIsEditingDecision={setIsEditingDecision}\n                              saveManualDecision={saveManualDecision}\n                              recalcLoading={recalcLoading}\n                              hasCollateral={hasCollateral}\n                              setHasCollateral={setHasCollateral}\n                              collateralValue={collateralValue}\n                              setCollateralValue={setCollateralValue}\n                              recalculateWithCollateral={recalculateWithCollateral}\n                              maxLoanAmount={userCreditData?.lendingDecision?.maxOffer || loanOffer?.maxOffer || 0}\n                            />\n                          )}\n                        </CardContent>\n                      </Card>\n                    )}\n                  </div>\n                  {userCreditData?.lendingDecision && (\n                    <LendingDecisionDetails lendingDecision={userCreditData.lendingDecision} />\n                  )}\n                  {userCreditData && (\n                    <RiskTierOverridePanel\n                      userCreditData={userCreditData}\n                      isEditingDecision={isEditingDecision}\n                      manualDecision={manualDecision}\n                      handleManualDecision={handleManualDecision}\n                      user={user}\n                    />\n                  )}\n                </div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"decision\" className=\"space-y-6\">\n              {selectedUser ? (\n                <div className=\"text-center py-12\">\n                  <h3 className=\"text-xl font-semibold text-foreground mb-2\">Decision Details</h3>\n                  <p className=\"text-muted-foreground\">Advanced decision analysis and tools</p>\n                </div>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <h3 className=\"text-xl font-semibold text-muted-foreground\">No borrower selected</h3>\n                  <p className=\"text-muted-foreground\">Select a borrower to view decision details</p>\n                </div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"config\" className=\"space-y-6\">\n              <DecisionConfigPanel />\n            </TabsContent>\n\n            <TabsContent value=\"activity\" className=\"space-y-8\">\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                <div className=\"lg:col-span-2\">\n                  <RecentDecisionsPanel recentDecisions={recentDecisions} />\n                </div>\n                <div>\n                  <AlertsPanel alerts={alerts} />\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n\n          {/* Dialogs */}\n          {showBatchUpload && (\n            <BatchUploadDialog \n              showBatchUpload={showBatchUpload}\n              handleBatchUploadClose={handleBatchUploadClose}\n              handleBatchUploadComplete={handleBatchUploadComplete}\n              toast={toast}\n            />\n          )}\n\n          {showRegister && (\n            <RegisterUserDialog \n              open={showRegister}\n              onClose={() => setShowRegister(false)}\n            />\n          )}\n\n          {batchResults && (\n            <BatchUploadResults \n              results={batchResults}\n              onClose={() => setBatchResults(null)}\n            />\n          )}\n        </div>\n      </div>\n    </TooltipProvider>\n  );\n};\n\nexport default LenderDashboard;"],"names":["__iconNode","Activity","createLucideIcon","CalendarDays","OctagonAlert","Palette","Percent","Sparkles","Square","LoanDecisionStatus","decision","loanOffer","onDecisionAction","onEditOffer","onDownloadPDF","onSendOffer","onDeclineOffer","isLender","toast","useToast","internalNotes","setInternalNotes","useState","isEditingNotes","setIsEditingNotes","isSavingNotes","setIsSavingNotes","formatDecisionDate","timestamp","renderDecisionBadge","decisionStatus","baseClasses","jsxs","Badge","jsx","CheckCircle2","XCircle","Clock","AlertCircle","saveInternalNotes","calculateMonthlyPayment","amount","rate","term","monthlyRate","normalizedAmount","normalizedRate","normalizedTerm","monthlyPayment","formatDtiRating","dtiValue","explicitRating","Card","CardHeader","CardTitle","FileText","CardContent","_a","_b","_c","_d","_e","_f","_g","_h","reason","index","DollarSign","Calendar","Calculator","Separator","_i","_j","_k","_l","_m","_n","Textarea","e","Button","X","Save","Edit","AlertTriangle","flag","AlertsPanel","alerts","Bell","alert","DecisionBadge","size","sizeClasses","iconSize","RecentDecisionsPanel","recentDecisions","Header","darkMode","toggleDarkMode","refreshing","pollingState","onRefresh","onOpenBatchUpload","onOpenRegister","BarChart4","RefreshCw","Upload","UserPlus","TooltipProvider","Tooltip","TooltipTrigger","TooltipContent","BorrowerList","users","handleUserSelect","Table","TableHeader","TableRow","TableHead","TableBody","user","TableCell","CreditCard","SearchPanel","searchQuery","onSearchChange","loading","onSelectUser","Search","Input","Loader2","Users","RiskTierOverridePanel","userCreditData","isEditingDecision","manualDecision","handleManualDecision","Shield","Label","Select","value","SelectTrigger","SelectValue","SelectContent","SelectItem","LendingDecisionDetails","lendingDecision","isNewEngine","formatDate","renderLoanOffers","offers","offer","idx","showScoreDetails","setShowScoreDetails","React","showPerfMetrics","setShowPerfMetrics","engine","version","loanOffers","scoreDetails","performanceMetrics","v","TrendingUp","loanTypeLabels","DecisionConfigPanel","config","setConfig","setLoading","saving","setSaving","activeTab","setActiveTab","validationErrors","setValidationErrors","useEffect","loadBankConfig","response","api","error","saveConfig","errors","validateConfiguration","savePromises","weights","weightSum","sum","weight","rates","updateConfig","section","subsection","field","prev","Alert","AlertDescription","Tabs","TabsList","TabsTrigger","Brain","Settings","TabsContent","CardDescription","key","Switch","checked","_p","_o","_q","classification","_s","_r","_u","_t","_w","_v","factor","adjustment","_x","_y","_z","_A","_B","_C","_D","_E","_F","Info","ManualDecisionForm","setIsEditingDecision","saveManualDecision","recalcLoading","hasCollateral","setHasCollateral","collateralValue","setCollateralValue","recalculateWithCollateral","maxLoanAmount","amountNum","isAmountInvalid","CheckSquare","SelectGroup","SelectLabel","RegisterUserDialog","showRegister","setShowRegister","Modal","EnhancedRegister","userData","currentSearchController","searchUsers","query","setUsers","logout","navigate","usersList","err","fetchDashboardMetrics","setDashboardMetrics","decisions","approvedCount","d","pendingCount","rejectedCount","riskBreakdown","fetchRecentDecisions","fetchAlerts","setAlerts","highRiskCount","PAGE_KEYS","ARROW_KEYS","BACK_KEYS","SLIDER_NAME","Collection","useCollection","createCollectionScope","createCollection","createSliderContext","createSliderScope","createContextScope","SliderProvider","useSliderContext","Slider","React.forwardRef","props","forwardedRef","name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","onValueChange","onValueCommit","inverted","form","sliderProps","thumbRefs","React.useRef","valueIndexToChangeRef","SliderOrientation","SliderHorizontal","SliderVertical","values","setValues","useControllableState","value2","valuesBeforeSlideStartRef","handleSlideStart","closestIndex","getClosestValueIndex","updateValues","handleSlideMove","handleSlideEnd","prevValue","atIndex","commit","decimalCount","getDecimalCount","snapToStep","roundValue","nextValue","clamp","prevValues","nextValues","getNextSortedValues","hasMinStepsBetweenValues","hasChanged","composeEventHandlers","event","stepDirection","multiplier","stepInDirection","SliderOrientationProvider","useSliderOrientationContext","dir","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown","slider","setSlider","React.useState","composedRefs","useComposedRefs","node","rectRef","direction","useDirection","isDirectionLTR","isSlidingFromLeft","getValueFromPointer","pointerPosition","rect","input","linearScale","SliderImpl","isBackKey","sliderRef","ref","isSlidingFromBottom","__scopeSlider","onHomeKeyDown","onEndKeyDown","context","Primitive","target","TRACK_NAME","SliderTrack","trackProps","RANGE_NAME","SliderRange","rangeProps","valuesCount","percentages","convertValueToPercentage","offsetStart","offsetEnd","THUMB_NAME","SliderThumb","getItems","thumb","setThumb","React.useMemo","item","SliderThumbImpl","thumbProps","isFormControl","useSize","percent","label","getLabel","orientationSize","thumbInBoundsOffset","getThumbInBoundsOffset","React.useEffect","SliderBubbleInput","BUBBLE_INPUT_NAME","usePrevious","inputProto","setValue","a","b","percentage","totalValues","distances","closestDistance","width","left","halfWidth","offset","getStepsBetweenValues","minStepsBetweenValues","stepsBetweenValues","output","ratio","rounder","Root","Track","Range","Thumb","className","SliderPrimitive.Root","cn","SliderPrimitive.Track","SliderPrimitive.Range","SliderPrimitive.Thumb","BorrowerSnapshot","selectedUser","closeBorrowerView","loadingCreditData","startEditingIncome","User","Fragment","score","bgColor","textColor","rating","ringColor","dti","computeDtiRating","dtiRating","badgeClass","icon","TrendingDown","Target","metric","LenderDashboard","useNavigate","useAuth","setSearchQuery","setSelectedUser","setUserCreditData","setLoadingCreditData","creditDataError","setCreditDataError","setManualDecision","dashboardMetrics","setRecentDecisions","setLoanOffer","sendingOffer","setSendingOffer","decliningOffer","setDecliningOffer","editingIncome","setEditingIncome","newIncome","setNewIncome","setRecalcLoading","showBatchUpload","setShowBatchUpload","batchResults","setBatchResults","searchTimeoutRef","useRef","intervalRef","setRefreshing","setPollingState","handleSearch","useCallback","handleSearchSubmit","fetchUserCreditDataInline","userId","responseData","hasUsefulFields","latest","computeNormalizedDti","sr","val","normalizedDecision","derived","dtiVal","normalizedOffer","errorMessage","fetchDashboardMetricsCallback","fetchRecentDecisionsCallback","fetchAlertsCallback","manualRefreshCallback","poll","newErrorCount","backoffMultiplier","newInterval","startPolling","handleVisibilityChange","startEditingDecision","res","sendOffer","declineOffer","handleDecisionAction","action","cancelled","handleBatchUploadOpen","handleBatchUploadClose","handleBatchUploadComplete","results","totalLoans","approvalRate","renderEnhancedMetrics","metricsData","AlertOctagon","Flag","BatchUploadDialog","BatchUploadResults"],"mappings":"8kCAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAa,CACjB,CACE,OACA,CACE,EAAG,6HACH,IAAK,QACX,CACA,CACA,EACMC,GAAWC,GAAiB,WAAYF,EAAU,EClBxD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAa,CACjB,CAAC,OAAQ,CAAE,EAAG,SAAU,IAAK,QAAQ,CAAE,EACvC,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,MAAO,KAAM,OAAQ,KAAM,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,IAAK,QAAQ,CAAE,EAC9E,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,EAC1C,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAQ,CAAE,EAC3C,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAQ,CAAE,EAC3C,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,EAC1C,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAQ,CAAE,EAC3C,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAU,CAAA,CAC7C,EACMG,GAAeD,GAAiB,gBAAiBF,EAAU,ECrBjE;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAa,CACjB,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAQ,CAAE,EAC3C,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CACE,OACA,CACE,EAAG,gPACH,IAAK,QACX,CACA,CACA,EACMI,GAAeF,GAAiB,gBAAiBF,EAAU,ECpBjE;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAa,CACjB,CACE,OACA,CACE,EAAG,kHACH,IAAK,QACX,CACG,EACD,CAAC,SAAU,CAAE,GAAI,OAAQ,GAAI,MAAO,EAAG,KAAM,KAAM,eAAgB,IAAK,QAAQ,CAAE,EAClF,CAAC,SAAU,CAAE,GAAI,OAAQ,GAAI,OAAQ,EAAG,KAAM,KAAM,eAAgB,IAAK,QAAQ,CAAE,EACnF,CAAC,SAAU,CAAE,GAAI,MAAO,GAAI,OAAQ,EAAG,KAAM,KAAM,eAAgB,IAAK,QAAQ,CAAE,EAClF,CAAC,SAAU,CAAE,GAAI,MAAO,GAAI,MAAO,EAAG,KAAM,KAAM,eAAgB,IAAK,QAAU,CAAA,CACnF,EACMK,GAAUH,GAAiB,UAAWF,EAAU,ECtBtD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAa,CACjB,CAAC,OAAQ,CAAE,GAAI,KAAM,GAAI,IAAK,GAAI,IAAK,GAAI,KAAM,IAAK,QAAQ,CAAE,EAChE,CAAC,SAAU,CAAE,GAAI,MAAO,GAAI,MAAO,EAAG,MAAO,IAAK,SAAU,EAC5D,CAAC,SAAU,CAAE,GAAI,OAAQ,GAAI,OAAQ,EAAG,MAAO,IAAK,QAAU,CAAA,CAChE,EACMM,GAAUJ,GAAiB,UAAWF,EAAU,ECdtD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAa,CACjB,CACE,OACA,CACE,EAAG,8PACH,IAAK,QACX,CACG,EACD,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAU,CAAA,CAC1C,EACMO,GAAWL,GAAiB,WAAYF,EAAU,ECtBxD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAa,CACjB,CAAC,OAAQ,CAAE,MAAO,KAAM,OAAQ,KAAM,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,IAAK,QAAU,CAAA,CAChF,EACMQ,GAASN,GAAiB,SAAUF,EAAU,ECoB9CS,GAAqB,CAAC,CAC1B,SAAAC,EACA,UAAAC,EACA,iBAAAC,EACA,YAAAC,EACA,cAAAC,EACA,YAAAC,EACA,eAAAC,EACA,SAAAC,EAAW,EACb,IAAM,wCACE,KAAA,CAAE,MAAAC,CAAM,EAAIC,GAAS,EACrB,CAACC,EAAeC,CAAgB,EAAIC,EAAS,UAAAZ,GAAA,YAAAA,EAAU,gBAAiB,EAAE,EAC1E,CAACa,EAAgBC,CAAiB,EAAIF,EAAAA,SAAS,EAAK,EACpD,CAACG,EAAeC,CAAgB,EAAIJ,EAAAA,SAAS,EAAK,EAGlDK,EAAsBC,GACrBA,EACE,IAAI,KAAKA,CAAS,EAAE,mBAAmB,QAAS,CACrD,KAAM,UACN,MAAO,OACP,IAAK,SAAA,CACN,EALsB,MASnBC,EAAuBC,GAAmB,CAC9C,MAAMC,EAAc,sEAEb,OAAAD,GAAA,YAAAA,EAAgB,cAAe,CACpC,IAAK,UACH,OACGE,EAAA,KAAAC,EAAA,CAAM,UAAW,GAAGF,CAAW,uDAC9B,SAAA,CAACG,EAAAA,IAAAC,GAAA,CAAa,UAAU,cAAe,CAAA,EAAE,UAAA,EAE3C,EAEJ,IAAK,SACH,OACGH,EAAA,KAAAC,EAAA,CAAM,UAAW,GAAGF,CAAW,iDAC9B,SAAA,CAACG,EAAAA,IAAAE,GAAA,CAAQ,UAAU,cAAe,CAAA,EAAE,UAAA,EAEtC,EAEJ,IAAK,OACH,OACGJ,EAAA,KAAAC,EAAA,CAAM,UAAW,GAAGF,CAAW,0DAC9B,SAAA,CAACG,EAAAA,IAAAG,GAAA,CAAM,UAAU,cAAe,CAAA,EAAE,MAAA,EAEpC,EAEJ,IAAK,SACL,QACE,OACGL,EAAA,KAAAC,EAAA,CAAM,UAAW,GAAGF,CAAW,0DAC9B,SAAA,CAACG,EAAAA,IAAAI,GAAA,CAAY,UAAU,cAAe,CAAA,EAAE,cAAA,EAE1C,CAAA,CAGR,EAGMC,EAAoB,SAAY,CACpCb,EAAiB,EAAI,EACjB,GAAA,CAIIR,EAAA,CACJ,MAAO,cACP,YAAa,+CACb,QAAS,SAAA,CACV,EACDM,EAAkB,EAAK,OACT,CACRN,EAAA,CACJ,MAAO,QACP,YAAa,0CACb,QAAS,aAAA,CACV,CAAA,QACD,CACAQ,EAAiB,EAAK,CAAA,CAE1B,EAUMc,EAA0B,CAACC,EAAQC,EAAMC,KAAS,CACtD,GAAI,CAACF,GAAU,CAACE,GAAa,MAAA,GACzB,GAAAD,IAAS,EAAG,OAAOD,EAASE,GAC1B,MAAAC,GAAcF,EAAO,IAAM,GAG1B,OAFUD,EAASG,GAAc,KAAK,IAAI,EAAIA,GAAaD,EAAI,GACtD,KAAK,IAAI,EAAIC,GAAaD,EAAI,EAAI,EAEpD,EAEME,EAAmB,QAAOlC,GAAA,YAAAA,EAAW,UAAUA,GAAA,YAAAA,EAAW,YAAa,CAAC,GAAK,EAC7EmC,EAAiB,QAAOnC,GAAA,YAAAA,EAAW,eAAgB,CAAC,GAAK,EACzDoC,EAAiB,QAAOpC,GAAA,YAAAA,EAAW,cAAcA,GAAA,YAAAA,EAAW,OAAQ,CAAC,GAAK,EAE1EqC,EAAiBR,EACrBK,EACAC,EACAC,CACF,EAEME,EAAkB,CAACC,EAAUC,IAC7BA,IACA,OAAOD,GAAa,SAAiB,MACrCA,EAAW,IAAa,YACxBA,EAAW,IAAa,OACxBA,EAAW,IAAa,OACrB,QAIP,OAAAlB,EAAA,KAAC,MAAI,CAAA,UAAU,YAEb,SAAA,CAACA,EAAAA,KAAAoB,EAAA,CAAK,UAAU,+BACd,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAqB,GAAA,CAAS,UAAU,uBAAwB,CAAA,EAAE,sBAAA,CAAA,CAEhD,CACF,CAAA,EACCrB,MAAAsB,EAAA,CACC,SAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,YAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAAH,EAAoBnB,GAAA,YAAAA,EAAU,QAAQ,EACvCsB,EAAAA,KAAC,MAAI,CAAA,UAAU,gCAAgC,SAAA,CAAA,OACzCtB,GAAA,YAAAA,EAAU,aAAc,SAAS,OAAKiB,EAAmBjB,GAAA,YAAAA,EAAU,SAAS,CAAA,CAClF,CAAA,CAAA,EACF,GACCA,GAAA,YAAAA,EAAU,YAAa,iBACrB,MAAI,CAAA,UAAU,qCAAqC,SAEpD,kBAAA,CAAA,CAAA,EAEJ,EAGAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,mFACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,iDAAiD,SAAgB,mBAAA,EAC/EF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAS,WAAA,CAAA,QACd,OAAK,CAAA,UAAU,cAAe,UAAAxB,GAAA,YAAAA,EAAU,WAAY,KAAM,CAAA,CAAA,EAC7D,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAM,QAAA,CAAA,QACX,OAAK,CAAA,UAAU,cAAe,UAAAxB,GAAA,YAAAA,EAAU,QAAS,KAAM,CAAA,CAAA,EAC1D,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,QACpB,OAAK,CAAA,UAAU,cAAe,UAAAxB,GAAA,YAAAA,EAAU,iBAAkB,KAAM,CAAA,CAAA,EACnE,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAU,YAAA,CAAA,QACf,OAAK,CAAA,UAAU,cAAe,UAAAxB,GAAA,YAAAA,EAAU,WAAY,KAAM,CAAA,CAAA,EAC7D,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,QAChB,OAAK,CAAA,UAAU,cAAe,UAAAxB,GAAA,YAAAA,EAAU,gBAAiB,KAAM,CAAA,CAAA,EAClE,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAa,eAAA,CAAA,QAClB,OAAK,CAAA,UAAU,cAAe,UAAAxB,GAAA,YAAAA,EAAU,sBAAuB,KAAM,CAAA,CAAA,EACxE,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAU,YAAA,CAAA,EACfA,EAAA,IAAA,OAAA,CAAK,UAAU,cACb,SAAO,OAAAxB,GAAA,YAAAA,EAAU,MAAQ,SACtB,IAAIA,EAAS,IAAM,KAAK,QAAQ,CAAC,CAAC,IACjC,QAAO+C,EAAA/C,GAAA,YAAAA,EAAU,cAAV,YAAA+C,EAAuB,WAAa,SACxC,IAAI/C,EAAS,YAAY,SAAW,KAAK,QAAQ,CAAC,CAAC,IACnD,KACV,CAAA,CAAA,EACF,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,EACjBA,EAAAA,IAAC,OAAK,CAAA,UAAU,cAAe,SAAAe,EAC7B,OAAOvC,GAAA,YAAAA,EAAU,MAAQ,SAAWA,EAAS,KAAMgD,EAAAhD,GAAA,YAAAA,EAAU,cAAV,YAAAgD,EAAuB,SAC1EhD,GAAA,YAAAA,EAAU,SAAA,CACV,CAAA,CAAA,CACJ,CAAA,CAAA,CACF,CAAA,CAAA,EACF,SACC,MACC,CAAA,SAAA,CAACwB,EAAA,IAAA,KAAA,CAAG,UAAU,iDAAiD,SAAe,kBAAA,EAC9EF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAc,gBAAA,CAAA,QACnB,OAAK,CAAA,UAAU,cAAe,SAAmBP,EAAAjB,GAAA,YAAAA,EAAU,SAAS,CAAE,CAAA,CAAA,EACzE,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAY,cAAA,CAAA,QACjB,OAAK,CAAA,UAAU,cAAe,UAAAxB,GAAA,YAAAA,EAAU,aAAc,QAAS,CAAA,CAAA,EAClE,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,QACpB,OAAK,CAAA,UAAU,cAAe,UAAAxB,GAAA,YAAAA,EAAU,gBAAiB,KAAM,CAAA,CAAA,EAClE,EACAsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAgB,kBAAA,CAAA,QACrB,OAAK,CAAA,UAAU,cAAe,SAAUxB,GAAA,MAAAA,EAAA,SAAW,MAAQ,IAAK,CAAA,CAAA,EACnE,GACCA,GAAA,YAAAA,EAAU,gBACRsB,OAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,EACpBA,EAAA,IAAA,OAAA,CAAK,UAAU,2BAA4B,WAAS,aAAc,CAAA,CAAA,CACrE,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,EACF,GAGCxB,GAAA,YAAAA,EAAU,iBACRsB,OAAA,MAAA,CAAI,UAAU,sFACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,iDAAiD,SAAsB,yBAAA,EACrFF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,EACrBA,EAAAA,IAAC,QAAK,UAAU,cAAe,WAAS,eAAe,cAAgB,UAAY,UAAW,CAAA,CAAA,EAChG,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,EACjBA,EAAAA,IAAC,QAAK,UAAU,cAAe,WAAS,eAAe,UAAY,MAAQ,IAAK,CAAA,CAAA,CAClF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,SACC,MACC,CAAA,SAAA,CAACA,EAAA,IAAA,KAAA,CAAG,UAAU,iDAAiD,SAAgB,mBAAA,EAC/EF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,QAChB,OAAK,CAAA,UAAU,cAAe,WAASyB,EAAAjD,EAAA,kBAAA,YAAAiD,EAAiB,mBAAoB,KAAM,CAAA,CAAA,EACrF,EACA3B,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAa,eAAA,CAAA,QAClB,OAAK,CAAA,UAAU,cAAe,WAAS0B,EAAAlD,EAAA,kBAAA,YAAAkD,EAAiB,cAAe,KAAM,CAAA,CAAA,EAChF,EACA5B,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAiB,mBAAA,CAAA,EACtBA,EAAA,IAAA,OAAA,CAAK,UAAU,cACb,WAAS2B,EAAAnD,EAAA,kBAAA,YAAAmD,EAAiB,mBAAoB,MAAQ,MACtD,IAAGC,EAAApD,EAAS,kBAAT,YAAAoD,EAA0B,eAAe,aAC/C,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,GAIDpD,GAAA,YAAAA,EAAU,UAAWA,EAAS,QAAQ,OAAS,GAC7CsB,EAAAA,KAAA,MAAA,CAAI,UAAW,SAAO+B,EAAArD,GAAA,YAAAA,EAAU,WAAV,YAAAqD,EAAoB,iBAAkB,SAAW,+BAAiC,kCAAkC,cACzI,SAAA,CAAC7B,EAAAA,IAAA,KAAA,CAAG,UAAU,iDACX,WAAA8B,GAAAtD,GAAA,YAAAA,EAAU,WAAV,YAAAsD,GAAoB,iBAAkB,SAAW,oBAAsB,kBAC1E,CAAA,EACC9B,EAAA,IAAA,MAAA,CAAI,UAAU,YACZ,SAASxB,EAAA,QAAQ,IAAI,CAACuD,EAAQC,IAAA,QAC5BlC,OAAAA,OAAA,MAAA,CAAgB,UAAU,kCACzB,SAAA,CAACE,EAAAA,IAAA,OAAA,CAAK,YAAWuB,GAAA/C,GAAA,YAAAA,EAAU,WAAV,YAAA+C,GAAoB,iBAAkB,SAAW,eAAiB,iBAAkB,SAAC,GAAA,CAAA,EACtGvB,EAAAA,IAAC,QAAM,SAAO+B,CAAA,CAAA,CAAA,CAFN,EAAAC,CAGV,EACD,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CAAA,EACF,EAGCvD,GACCqB,EAAA,KAACoB,EAAK,CAAA,UAAU,gCACd,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAiC,GAAA,CAAW,UAAU,wBAAyB,CAAA,EAAE,qBAAA,CAAA,CAEnD,CACF,CAAA,EACCjC,MAAAsB,EAAA,CACC,SAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,YAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,wCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACE,EAAAA,IAAAiC,GAAA,CAAW,UAAU,wBAAyB,CAAA,EAC9CjC,EAAA,IAAA,OAAA,CAAK,UAAU,gCAAgC,SAAmB,qBAAA,CAAA,CAAA,EACrE,EACAA,EAAAA,IAAC,MAAI,CAAA,UAAU,oCACZ,SAAAW,IAAqB,EAAI,oBAAsB,IAAIA,EAAiB,eAAe,CAAC,EACvF,CAAA,CAAA,EACF,EAEAb,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACE,EAAAA,IAAA5B,GAAA,CAAQ,UAAU,uBAAwB,CAAA,EAC1C4B,EAAA,IAAA,OAAA,CAAK,UAAU,gCAAgC,SAAa,eAAA,CAAA,CAAA,EAC/D,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,mCACZ,SAAA,CAAAc,EAAe,QAAQ,CAAC,EAAE,GAAA,CAC7B,CAAA,CAAA,EACF,EAEAd,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACE,EAAAA,IAAAkC,GAAA,CAAS,UAAU,yBAA0B,CAAA,EAC7ClC,EAAA,IAAA,OAAA,CAAK,UAAU,gCAAgC,SAAa,eAAA,CAAA,CAAA,EAC/D,EACAA,EAAAA,IAAC,OAAI,UAAU,qCACZ,WAAiB,EAAI,GAAGa,CAAc,UAAY,KACrD,CAAA,CAAA,EACF,EAEAf,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACE,EAAAA,IAAAmC,GAAA,CAAW,UAAU,yBAA0B,CAAA,EAC/CnC,EAAA,IAAA,OAAA,CAAK,UAAU,gCAAgC,SAAyB,2BAAA,CAAA,CAAA,EAC3E,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,qCAAqC,SAAA,CAAA,IAChDgB,EAAe,QAAQ,CAAC,CAAA,CAC5B,CAAA,CAAA,CACF,CAAA,CAAA,EACF,QAGCsB,GAAU,EAAA,EACXtC,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,6CACb,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,gCAAgC,SAAG,MAAA,EAClDF,EAAAA,KAAC,MAAI,CAAA,UAAU,wBACX,SAAA,EAAiBc,EAAA,IAAK,QAAQ,CAAC,EAAE,GAAA,CACrC,CAAA,CAAA,EACF,EACAd,EAAAA,KAAC,MAAI,CAAA,UAAU,6CACb,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,gCAAgC,SAAc,iBAAA,EAC7DF,EAAAA,KAAC,MAAI,CAAA,UAAU,wBAAwB,SAAA,CAAA,KACjCgB,EAAiBD,EAAkBF,GAAkB,QAAQ,CAAC,CAAA,CACpE,CAAA,CAAA,EACF,EACAb,EAAAA,KAAC,MAAI,CAAA,UAAU,6CACb,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,gCAAgC,SAAe,kBAAA,EAC7DA,EAAA,IAAA,MAAA,CAAI,UAAU,wBACZ,SAAiBa,EAAA,EAAI,KAAKC,EAAiBD,GAAgB,QAAQ,CAAC,CAAC,GAAK,KAC7E,CAAA,CAAA,CACF,CAAA,CAAA,EACF,GAGCpC,GAAA,YAAAA,EAAW,eACTqB,OAAA,MAAA,CAAI,UAAU,yDACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,iDAAiD,SAAuB,0BAAA,EACtFF,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAU,YAAA,CAAA,EAChBF,EAAAA,KAAC,OAAK,CAAA,UAAU,cAAe,SAAA,GAAAuC,GAAA5D,EAAU,aAAa,WAAvB,YAAA4D,GAAiC,QAAQ,KAAM,MAAM,GAAA,CAAC,CAAA,CAAA,EACvF,EACAvC,EAAAA,KAAC,MAAI,CAAA,UAAU,+BACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,QACpB,OAAK,CAAA,UAAU,cACb,UAAAsC,GAAA7D,EAAU,aAAa,cAAvB,MAAA6D,GAAoC,cACpC,IAAI7D,EAAU,aAAa,YAAY,cAAc,QAAQ,CAAC,CAAC,IAAM,KACxE,CAAA,CAAA,EACF,EACAqB,EAAAA,KAAC,MAAI,CAAA,UAAU,+BACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAsB,wBAAA,CAAA,QAC3B,OAAK,CAAA,UAAU,cACb,UAAAuC,GAAA9D,EAAU,aAAa,cAAvB,MAAA8D,GAAoC,oBACpC,IAAI9D,EAAU,aAAa,YAAY,oBAAoB,QAAQ,CAAC,CAAC,IAAM,KAC9E,CAAA,CAAA,EACF,EACAqB,EAAAA,KAAC,MAAI,CAAA,UAAU,+BACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAqB,uBAAA,CAAA,QAC1B,OAAK,CAAA,UAAU,cACb,UAAAwC,GAAA/D,EAAU,aAAa,cAAvB,MAAA+D,GAAoC,oBACpC,IAAI/D,EAAU,aAAa,YAAY,oBAAoB,QAAQ,CAAC,CAAC,IAAM,KAC9E,CAAA,CAAA,EACF,EACAqB,EAAAA,KAAC,MAAI,CAAA,UAAU,+BACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAmB,qBAAA,CAAA,QACxB,OAAK,CAAA,UAAU,cACb,UAAAyC,GAAAhE,EAAU,aAAa,cAAvB,MAAAgE,GAAoC,kBACpC,IAAIhE,EAAU,aAAa,YAAY,kBAAkB,QAAQ,CAAC,CAAC,IAAM,KAC5E,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EACAqB,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,2DACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,EACjBF,EAAAA,KAAC,OAAK,CAAA,UAAU,kBAAmB,SAAA,GAAA4C,GAAAjE,EAAU,aAAa,YAAvB,YAAAiE,GAAkC,QAAQ,KAAM,MAAM,GAAA,CAAC,CAAA,CAAA,EAC5F,EACA5C,EAAAA,KAAC,MAAI,CAAA,UAAU,qCACb,SAAA,CAAAE,EAAAA,IAAC,KAAE,SAAmC,qCAAA,CAAA,EACtCA,EAAAA,IAAC,KAAE,SAAsC,wCAAA,CAAA,EACzCA,EAAAA,IAAC,KAAE,SAA6B,+BAAA,CAAA,CAAA,CAClC,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,GAIDvB,GAAA,YAAAA,EAAW,iBAAkBA,EAAU,eAAe,OAAS,GAC9DqB,EAAA,KAAC,MAAI,CAAA,UAAU,yDACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,iDAAiD,SAAe,kBAAA,EAC7EA,MAAA,MAAA,CAAI,UAAU,uBACZ,WAAU,eAAe,IAAI,CAACS,EAAMuB,IAClClC,EAAAA,KAAAC,EAAA,CAAkB,QAAQ,UAAU,UAAU,oCAC5C,SAAA,CAAAU,EAAK,SAAA,CADI,EAAAuB,CAEZ,CACD,CACH,CAAA,CAAA,EACF,EAIDvD,EAAU,gBACRuB,EAAAA,IAAA,MAAA,CAAI,UAAU,oGACb,SAAAF,EAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAACE,EAAAA,IAAA/B,GAAA,CAAa,UAAU,yBAA0B,CAAA,EAClD6B,EAAAA,KAAC,OAAK,CAAA,UAAU,2DAA2D,SAAA,CAAA,0BACjD,IAAI,KAAKrB,EAAU,cAAc,EAAE,mBAAmB,CAAA,CAChF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CAAA,EACF,EAIFqB,EAAAA,KAACoB,EAAK,CAAA,UAAU,iCACd,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAqB,GAAA,CAAS,UAAU,yBAA0B,CAAA,EAAE,mBAAA,CAAA,CAElD,CACF,CAAA,EACArB,EAAA,IAACsB,EACC,CAAA,SAAAtB,EAAAA,IAAC,MAAI,CAAA,UAAU,YACZ,SACCX,EAAAS,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAE,EAAA,IAAC2C,GAAA,CACC,YAAY,wEACZ,MAAOzD,EACP,SAAW0D,GAAMzD,EAAiByD,EAAE,OAAO,MAAM,MAAM,EAAG,GAAI,CAAC,EAC/D,UAAU,gBACV,UAAW,GAAA,CACb,EACA9C,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,gCACb,SAAA,CAAcZ,EAAA,OAAO,kBAAA,EACxB,EACAY,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAA,EAAA,KAAC+C,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,CACI1D,GAAAX,GAAA,YAAAA,EAAU,gBAAiB,EAAE,EAC9Cc,EAAkB,EAAK,CACzB,EAEA,SAAA,CAACU,EAAAA,IAAA8C,GAAA,CAAE,UAAU,cAAe,CAAA,EAAE,QAAA,CAAA,CAEhC,EACAhD,EAAA,KAAC+C,EAAA,CACC,KAAK,KACL,QAASxC,EACT,SAAUd,EAEV,SAAA,CAACS,EAAAA,IAAA+C,GAAA,CAAK,UAAU,cAAe,CAAA,EAC9BxD,EAAgB,YAAc,YAAA,CAAA,CAAA,CACjC,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAEAO,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAE,MAAC,MAAI,CAAA,UAAU,2DACZ,SAAAd,QACE,IAAE,CAAA,UAAU,8BAA+B,SAAAA,CAAc,CAAA,EAEzDc,EAAA,IAAA,IAAA,CAAE,UAAU,uCAAuC,uFAEpD,CAAA,EAEJ,EACCjB,GACCe,EAAA,KAAC+C,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMvD,EAAkB,EAAI,EAErC,SAAA,CAACU,EAAAA,IAAAgD,GAAA,CAAK,UAAU,cAAe,CAAA,EAAE,YAAA,CAAA,CAAA,CAEnC,CAEJ,CAAA,CAEJ,CAAA,CACF,CAAA,CAAA,EACF,GAGCxE,GAAA,YAAAA,EAAU,YAAaA,EAAS,UAAU,OAAS,GAClDsB,EAAA,KAACoB,EAAK,CAAA,UAAU,8BACd,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAiD,GAAA,CAAc,UAAU,sBAAuB,CAAA,EAAE,uBAAA,CAAA,CAEpD,CACF,CAAA,EACCjD,MAAAsB,EAAA,CACC,SAACtB,EAAAA,IAAA,MAAA,CAAI,UAAU,YACZ,SAAAxB,EAAS,UAAU,IAAI,CAAC0E,EAAMlB,IAC5BlC,EAAAA,KAAA,MAAA,CAAgB,UAAU,sEACzB,SAAA,CAACE,EAAAA,IAAAiD,GAAA,CAAc,UAAU,sBAAuB,CAAA,EAC/CjD,EAAA,IAAA,OAAA,CAAK,UAAU,yCAA0C,SAAKkD,CAAA,CAAA,CAAA,GAFvDlB,CAGV,CACD,CAAA,CACH,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EAEJ,CAEJ,ECzjBMmB,GAAc,CAAC,CAAE,OAAAC,CAAO,WAC3BlC,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAAAE,EAAAA,IAACoB,GAAU,SAAmB,qBAAA,CAAA,EAC9BpB,EAAAA,IAAC6C,EAAO,CAAA,QAAQ,QAAQ,KAAK,OAC3B,SAAC7C,EAAA,IAAAqD,GAAA,CAAK,UAAU,SAAU,CAAA,CAC5B,CAAA,CAAA,CAAA,CACF,CACF,CAAA,QACC/B,EACC,CAAA,SAAAtB,EAAA,IAAC,MAAI,CAAA,UAAU,YACZ,SAAOoD,EAAA,OAAS,EAAIA,EAAO,IAAI,CAACE,EAAOtB,IACrClC,OAAA,MAAA,CAAgB,UAAU,yBACzB,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAW,yBAAyBsD,EAAM,OAAS,WAAa,aAAe,eAAe,GACjG,eAACL,GAAc,CAAA,UAAW,WAAWK,EAAM,OAAS,WAAa,eAAiB,iBAAiB,GAAI,CACzG,CAAA,SACC,MACC,CAAA,SAAA,CAAAtD,EAAA,IAAC,KAAG,CAAA,UAAU,cAAe,SAAAsD,EAAM,MAAM,EACxCtD,EAAA,IAAA,IAAA,CAAE,UAAU,gCAAiC,WAAM,YAAY,EAC/DA,EAAA,IAAA,IAAA,CAAE,UAAU,qCAAsC,WAAM,IAAK,CAAA,CAAA,CAChE,CAAA,CARQ,CAAA,EAAAgC,CASV,CACD,EACChC,EAAAA,IAAC,OAAI,UAAU,yCAAyC,SAExD,wBAAA,CAAA,CAEJ,CAAA,CACF,CAAA,CAAA,EACF,EChCIuD,GAAgB,CAAC,CAAE,SAAA/E,EAAU,KAAAgF,EAAO,aAAgB,CACxD,MAAM3D,EAAc,4DACd4D,EAAcD,IAAS,QAAU,oBAAsB,wBACvDE,EAAWF,IAAS,QAAU,UAAY,UAEvC,QAAAhF,GAAY,IAAI,YAAe,EAAA,CACtC,IAAK,UACH,cACG,OAAK,CAAA,UAAW,GAAGqB,CAAW,IAAI4D,CAAW,+BAC5C,SAAA,CAAAzD,EAAA,IAACC,GAAa,CAAA,UAAW,GAAGyD,CAAQ,QAAS,EAAE,UAAA,EAEjD,EAEJ,IAAK,SACH,cACG,OAAK,CAAA,UAAW,GAAG7D,CAAW,IAAI4D,CAAW,2BAC5C,SAAA,CAAAzD,EAAA,IAACE,GAAQ,CAAA,UAAW,GAAGwD,CAAQ,QAAS,EAAE,UAAA,EAE5C,EAEJ,IAAK,OACH,cACG,OAAK,CAAA,UAAW,GAAG7D,CAAW,IAAI4D,CAAW,iCAC5C,SAAA,CAAAzD,EAAA,IAACG,GAAM,CAAA,UAAW,GAAGuD,CAAQ,QAAS,EAAE,MAAA,EAE1C,EAEJ,IAAK,SACL,QACE,cACG,OAAK,CAAA,UAAW,GAAG7D,CAAW,IAAI4D,CAAW,iCAC5C,SAAA,CAAAzD,EAAA,IAACI,GAAY,CAAA,UAAW,GAAGsD,CAAQ,QAAS,EAAE,QAAA,EAEhD,CAAA,CAGR,ECnCMC,GAAuB,CAAC,CAAE,gBAAAC,CAAgB,WAC7C1C,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAAnB,EAAA,IAACoB,EAAU,CAAA,SAAA,kBAAgB,CAAA,EAC7B,QACCE,EACC,CAAA,SAAAtB,EAAA,IAAC,MAAI,CAAA,UAAU,YACZ,SAAgB4D,EAAA,OAAS,EAAIA,EAAgB,IAAI,CAACpF,EAAUwD,eAC1DlC,OAAAA,OAAA,MAAA,CAAgB,UAAU,0DACzB,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAAAE,MAAC,MAAG,UAAU,cAAe,WAASuB,EAAA/C,EAAA,OAAA,YAAA+C,EAAM,OAAQ,eAAe,QAClE,IAAE,CAAA,UAAU,gCACV,WAASC,EAAAhD,EAAA,OAAA,YAAAgD,EAAM,QAAS,UAC3B,CAAA,CAAA,EACF,EACAxB,EAAAA,IAAC,MAAI,CAAA,UAAU,0BACb,SAAAA,EAAA,IAACuD,GAAc,CAAA,WAAU9B,EAAAjD,EAAS,kBAAT,YAAAiD,EAA0B,WAAY,QAAU,CAAA,CAC3E,CAAA,CATQ,CAAA,EAAAO,CAUV,EACD,EACChC,EAAAA,IAAC,OAAI,UAAU,yCAAyC,SAExD,qBAAA,CAAA,CAEJ,CAAA,CACF,CAAA,CAAA,EACF,ECxBI6D,GAAS,CAAC,CACd,SAAAC,EACA,eAAAC,EACA,WAAAC,EACA,aAAAC,EACA,UAAAC,EACA,kBAAAC,EACA,eAAAC,CACF,IACEtE,EAAA,KAAC,MAAI,CAAA,UAAU,0EACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,YACb,SAACF,EAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,2EACb,eAACqE,GAAU,CAAA,UAAU,qBAAqB,CAC5C,CAAA,SACC,MACC,CAAA,SAAA,CAACrE,EAAA,IAAA,KAAA,CAAG,UAAU,qCAAqC,SAAgB,mBAAA,EAClEA,EAAA,IAAA,IAAA,CAAE,UAAU,gCAAgC,SAA+B,iCAAA,CAAA,CAAA,CAC9E,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAEAF,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAA,EAAA,KAAC+C,EAAA,CACC,QAASqB,EACT,QAAQ,UACR,KAAK,KACL,UAAU,yEACV,UAAUD,GAAA,YAAAA,EAAc,oBAAqB,GAE7C,SAAA,CAAAjE,MAACsE,IAAU,UAAW,WAAWN,EAAa,eAAiB,uBAAuB,qCAAsC,EAAE,WAE7HC,GAAA,YAAAA,EAAc,mBAAoB,GAChCjE,EAAA,IAAAD,EAAA,CAAM,QAAQ,cAAc,UAAU,eACpC,SAAAkE,EAAa,iBAChB,CAAA,CAAA,CAAA,CAEJ,EAEAnE,EAAA,KAAC+C,EAAA,CACC,QAASsB,EACT,QAAQ,UACR,KAAK,KACL,UAAU,mEAEV,SAAA,CAACnE,EAAAA,IAAAuE,GAAA,CAAO,UAAU,SAAU,CAAA,EAAE,cAAA,CAAA,CAEhC,EAEAzE,EAAA,KAAC+C,EAAA,CACC,QAASuB,EACT,KAAK,KACL,UAAU,+FAEV,SAAA,CAACpE,EAAAA,IAAAwE,GAAA,CAAS,UAAU,SAAU,CAAA,EAAE,eAAA,CAAA,CAElC,EAEAxE,EAAA,IAACyE,GACC,CAAA,SAAA3E,EAAAA,KAAC4E,GACC,CAAA,SAAA,CAAC1E,EAAAA,IAAA2E,GAAA,CAAe,QAAO,GACrB,SAAA3E,EAAA,IAAC6C,EAAA,CACC,QAASkB,EACT,QAAQ,UACR,KAAK,KACL,UAAU,mEAET,SAAAD,QACEzF,GAAS,CAAA,UAAU,wBAAyB,CAAA,EAE7C2B,EAAAA,IAACjC,GAAS,CAAA,UAAU,yBAA0B,CAAA,CAAA,CAAA,EAGpD,SACC6G,GAAe,CAAA,SAAA,CAAA,UACNd,EAAW,QAAU,OAAO,OAAA,CACtC,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EChFIe,GAAe,CAAC,CAAE,MAAAC,EAAO,iBAAAC,EAAkB,oBAAApF,CAAoB,WAClEqF,GACC,CAAA,SAAA,CAAChF,EAAA,IAAAiF,GAAA,CACC,gBAACC,GACC,CAAA,SAAA,CAAAlF,EAAAA,IAACmF,IAAU,SAAQ,UAAA,CAAA,EACnBnF,EAAAA,IAACmF,IAAU,SAAM,QAAA,CAAA,EACjBnF,EAAAA,IAACmF,IAAU,SAAY,cAAA,CAAA,EACvBnF,EAAAA,IAACmF,IAAU,SAAU,YAAA,CAAA,EACrBnF,EAAAA,IAACmF,IAAU,SAAQ,UAAA,CAAA,EACnBnF,EAAAA,IAACmF,IAAU,SAAO,SAAA,CAAA,CAAA,CAAA,CACpB,CACF,CAAA,QACCC,GACE,CAAA,SAAAN,EAAM,IAAKO,gDACTH,GACC,CAAA,SAAA,CAAApF,OAACwF,GACC,CAAA,SAAA,CAAAtF,MAAC,MAAI,CAAA,UAAU,cAAe,SAAAqF,EAAK,MAAQ,MAAM,QAChD,MAAI,CAAA,UAAU,gCAAiC,SAAAA,EAAK,OAAS,KAAM,CAAA,CAAA,EACtE,EACArF,EAAAA,IAACsF,IACC,SAACtF,EAAA,IAAAD,EAAA,CAAM,QAAQ,UACZ,SAAAsF,EAAK,QAAU,UAAA,CAClB,CACF,CAAA,EACCrF,MAAAsF,GAAA,CACC,SAACxF,EAAAA,KAAA,MAAA,CAAI,UAAU,oBACb,SAAA,CAACE,EAAAA,IAAAuF,GAAA,CAAW,UAAU,oCAAqC,CAAA,EAC1DF,EAAK,aAAe,KAAA,CAAA,CACvB,CACF,CAAA,EACCrF,MAAAsF,GAAA,CACC,SAACtF,EAAAA,IAAAD,EAAA,CAAM,SACLyB,GAAAD,EAAA8D,EAAK,kBAAL,YAAA9D,EAAsB,YAAtB,MAAAC,EAAiC,UACjCE,GAAAD,EAAA4D,EAAK,kBAAL,YAAA5D,EAAsB,YAAtB,MAAAC,EAAiC,YAAc,eAC/CE,GAAAD,EAAA0D,EAAK,kBAAL,YAAA1D,EAAsB,YAAtB,MAAAC,EAAiC,kBAAoB,UAAY,UAEhE,UAAKE,GAAAD,EAAAwD,EAAA,kBAAA,YAAAxD,EAAiB,YAAjB,MAAAC,EAA4B,UACjCQ,GAAAD,EAAAgD,EAAK,kBAAL,YAAAhD,EAAsB,YAAtB,MAAAC,EAAiC,YAAc,aAC/CE,GAAAD,EAAA8C,EAAK,kBAAL,YAAA9C,EAAsB,YAAtB,MAAAC,EAAiC,kBAAoB,cAAgB,UACxE,CAAA,EACF,EACCxC,EAAA,IAAAsF,GAAA,CACC,SAACtF,EAAAA,IAAA,MAAA,CAAI,UAAU,oBACZ,SAAoBL,IAAA8C,EAAA4C,EAAK,kBAAL,YAAA5C,EAAsB,WAAY,QAAQ,CACjE,CAAA,EACF,EACCzC,EAAA,IAAAsF,GAAA,CACC,SAACtF,EAAAA,IAAA6C,EAAA,CAAO,KAAK,KAAK,QAAS,IAAMkC,EAAiBM,CAAI,EAAG,SAAA,QAAA,CAAM,CACjE,CAAA,CAAA,GAlCaA,EAAK,GAmCpB,EACD,CACH,CAAA,CAAA,EACF,EClDIG,GAAc,CAAC,CAAE,YAAAC,EAAa,eAAAC,EAAgB,MAAAZ,EAAO,QAAAa,EAAS,aAAAC,CAClE,IAAA9F,EAAA,KAACoB,EAAK,CAAA,UAAU,8FACd,SAAA,CAAAlB,EAAAA,IAACmB,GAAW,UAAU,iDACpB,SAACrB,EAAA,KAAA,MAAA,CAAI,UAAU,kDACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,SACb,SAACF,EAAA,KAAA,MAAA,CAAI,UAAU,WACb,SAAA,CAACE,EAAAA,IAAA6F,GAAA,CAAO,UAAU,wEAAyE,CAAA,EAC3F7F,EAAA,IAAC8F,EAAA,CACC,KAAK,OACL,YAAY,+CACZ,UAAU,8HACV,MAAOL,EACP,SAAUC,CAAA,CAAA,CACZ,CAAA,CACF,CACF,CAAA,EACA5F,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAA,EAAA,KAAC+C,EAAA,CACC,QAAQ,UACR,QAAS,IAAM6C,EAAe,CAAE,OAAQ,CAAE,MAAO,EAAG,EAAG,EACvD,SAAU,CAACD,EACX,UAAU,oEAEV,SAAA,CAACzF,EAAAA,IAAAE,GAAA,CAAQ,UAAU,cAAe,CAAA,EAAE,OAAA,CAAA,CAEtC,EACAJ,EAAA,KAAC+C,EAAA,CACC,UAAU,oGACV,QAAS,IAAM6C,EAAe,CAAE,OAAQ,CAAE,MAAOD,CAAY,EAAG,EAEhE,SAAA,CAACzF,EAAAA,IAAA6F,GAAA,CAAO,UAAU,cAAe,CAAA,EAAE,QAAA,CAAA,CAAA,CAErC,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAEA7F,EAAA,IAACsB,EAAY,CAAA,UAAU,MACpB,SAAAwD,EAAM,OAAS,EACd9E,EAAAA,IAAC,MAAI,CAAA,UAAU,kBACb,SAAAA,EAAA,IAAC6E,GAAA,CACC,MAAAC,EACA,iBAAkBc,EAClB,oBAAqBrC,EAAA,CACvB,CAAA,CACF,EAEAvD,EAAA,IAAC,MAAI,CAAA,UAAU,6DACZ,SACC2F,EAAA7F,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACE,EAAAA,IAAA+F,GAAA,CAAQ,UAAU,sCAAuC,CAAA,EACzD/F,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAwB,SAAsB,wBAAA,CAAA,CAAA,CAC7D,CAAA,EAEAF,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,4BACb,eAACgG,GAAM,CAAA,UAAU,gCAAgC,CACnD,CAAA,SACC,MACC,CAAA,SAAA,CAAChG,EAAA,IAAA,KAAA,CAAG,UAAU,gCAAgC,SAAkB,qBAAA,EAC/DA,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAwB,SAAoC,sCAAA,CAAA,CAAA,CAC3E,CAAA,CAAA,CACF,CAAA,CAEJ,CAAA,CAEJ,CAAA,CAAA,EACF,ECnEIiG,GAAwB,CAAC,CAAE,eAAAC,EAAgB,kBAAAC,EAAmB,eAAAC,EAAgB,qBAAAC,EAAsB,KAAAhB,KAAW,mBACnH,cACGnE,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACA,EAAAA,KAAAsB,EAAA,CAAU,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAsG,GAAA,CAAO,UAAU,uBAAwB,CAAA,EAAE,oBAAA,EAE9C,GACEjB,GAAA,YAAAA,EAAM,QAAS,UAAWA,GAAA,YAAAA,EAAM,QAAS,SACzCrF,EAAAA,IAACD,GAAM,QAAQ,UAAU,UAAU,0CAA0C,SAAA,2BAAA,CAE7E,EAECC,EAAAA,IAAAD,EAAA,CAAM,QAAQ,UAAU,UAAU,wBAAwB,SAE3D,yBAAA,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,EACCC,MAAAsB,EAAA,CACC,SAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,YAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,8DACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAA,OAAA,CAAK,UAAU,oCAAoC,SAAkB,qBAAA,EACtEF,EAAAA,KAAC,MAAI,CAAA,UAAU,+BACb,SAAA,CAAAE,EAAAA,IAACD,GAAM,UAASwB,EAAA2E,GAAA,YAAAA,EAAgB,kBAAhB,YAAA3E,EAAiC,YAAa,MAAQ,YACvDC,EAAA0E,GAAA,YAAAA,EAAgB,kBAAhB,YAAA1E,EAAiC,YAAa,SAAW,YAAc,cACnF,WAAgBC,EAAAyE,GAAA,YAAAA,EAAA,kBAAA,YAAAzE,EAAiB,kBAAiBC,EAAAwE,GAAA,YAAAA,EAAgB,kBAAhB,YAAAxE,EAAiC,WAAY,cAClG,CAAA,IACCC,EAAAuE,GAAA,YAAAA,EAAgB,kBAAhB,YAAAvE,EAAiC,mBAChC3B,EAAAA,IAACD,GAAM,QAAQ,UAAU,UAAU,oCAAoC,SAEvE,YAAA,CAAA,CAAA,CAEJ,CAAA,CAAA,EACF,EACAD,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAACE,EAAA,IAAA,OAAA,CAAK,UAAU,wBAAwB,SAAM,SAAA,QAC7C,MAAI,CAAA,UAAU,oBAAqB,WAAgB4B,EAAAsE,GAAA,YAAAA,EAAA,kBAAA,YAAAtE,EAAiB,QAAS,KAAM,CAAA,CAAA,CACtF,CAAA,CAAA,EACF,EAGCuE,KAAsBd,GAAA,YAAAA,EAAM,QAAS,UAAWA,GAAA,YAAAA,EAAM,QAAS,WAC9DvF,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,qBAAqB,SAAkB,qBAAA,EACtDzG,EAAA,KAAC0G,GAAA,CACC,MAAOJ,EAAe,iBACtB,cAAgBK,GAAUJ,EAAqB,mBAAoBI,CAAK,EAExE,SAAA,CAAAzG,EAAAA,IAAC0G,IAAc,UAAU,SACvB,eAACC,GAAY,CAAA,YAAY,4BAA4B,CACvD,CAAA,SACCC,GACC,CAAA,SAAA,CAAC5G,EAAA,IAAA6G,EAAA,CAAW,MAAM,MAAM,SAAQ,WAAA,EAC/B7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,SAAS,SAAW,cAAA,EACrC7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,OAAO,SAAS,YAAA,EACjC7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,OAAO,SAAW,aAAA,CAAA,CAAA,CACtC,CAAA,CAAA,CAAA,CAAA,CACF,EACF,EAECT,EAAe,kBACdtG,EAAAA,KAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,yBAAyB,SAAsB,yBAAA,EAC9DvG,EAAA,IAAC2C,GAAA,CACC,GAAG,yBACH,YAAY,oDACZ,MAAOyD,EAAe,sBACtB,SAAWxD,GAAMyD,EAAqB,wBAAyBzD,EAAE,OAAO,KAAK,EAC7E,UAAU,MAAA,CAAA,CACZ,CACF,CAAA,CAAA,EAEJ,IAIDf,EAAAqE,GAAA,YAAAA,EAAgB,kBAAhB,YAAArE,EAAiC,wBAC/B7B,EAAAA,IAAA,MAAA,CAAI,UAAU,uDACb,SAAAF,EAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAACE,EAAAA,IAAAiD,GAAA,CAAc,UAAU,gCAAiC,CAAA,SACzD,MACC,CAAA,SAAA,CAACjD,EAAA,IAAA,MAAA,CAAI,UAAU,sBAAsB,SAA0B,6BAAA,QAC9D,MAAI,CAAA,UAAU,6BACZ,SAAAkG,EAAe,gBAAgB,qBAClC,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CAAA,EACF,CAEJ,EC1FMY,GAAyB,CAAC,CAAE,gBAAAC,KAAsB,aAClD,GAAA,CAACA,EAAwB,OAAA,KAGvB,MAAAC,EAAcD,EAAgB,SAAW,yBAA2BA,EAAgB,SAAWA,EAAgB,UAAY,MAAM,QAAQA,EAAgB,UAAU,EAGnKE,EAAcvH,GACbA,EACE,IAAI,KAAKA,CAAS,EAAE,eAAe,EADnB,MAKnBwH,EAAoBC,GACxBnH,EAAA,IAAC,OAAI,UAAU,YACZ,SAAOmH,EAAA,IAAI,CAACC,EAAOC,IACjBvH,EAAA,KAAAoB,EAAA,CAAgC,UAAU,iCACzC,SAAA,CAAClB,EAAA,IAAAmB,EAAA,CACC,gBAACC,EAAU,CAAA,SAAA,CAAA,cAAYgG,EAAM,QAAU,IAAIA,EAAM,OAAO,GAAK,IAAIC,EAAI,CAAC,EAAA,CAAA,CAAG,CAC3E,CAAA,EACCrH,MAAAsB,EAAA,CACC,SAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAA,OAAC,MAAI,CAAA,SAAA,CAAAE,EAAAA,IAAC,KAAE,SAAK,OAAA,CAAA,EAAI,IAAEoH,EAAM,SAAA,EAAU,SAClC,MAAI,CAAA,SAAA,CAAApH,EAAAA,IAAC,KAAE,SAAO,SAAA,CAAA,EAAI,IAAEoH,EAAM,OAAO,IAAEA,EAAM,QAAA,EAAS,SAClD,MAAI,CAAA,SAAA,CAAApH,EAAAA,IAAC,KAAE,SAAK,OAAA,CAAA,EAAI,IAAEoH,EAAM,KAAK,SAAA,EAAO,SACpC,MAAI,CAAA,SAAA,CAAApH,EAAAA,IAAC,KAAE,SAAc,gBAAA,CAAA,EAAI,IAAEoH,EAAM,aAAa,GAAA,EAAC,SAC/C,MAAI,CAAA,SAAA,CAAApH,EAAAA,IAAC,KAAE,SAAI,MAAA,CAAA,EAAI,IAAEoH,EAAM,IAAI,GAAA,EAAC,SAC5B,MAAI,CAAA,SAAA,CAAApH,EAAAA,IAAC,KAAE,SAAgB,kBAAA,CAAA,EAAI,IAAEoH,EAAM,cAAA,EAAe,SAClD,MAAI,CAAA,SAAA,CAAApH,EAAAA,IAAC,KAAE,SAAc,gBAAA,CAAA,EAAI,IAAEoH,EAAM,YAAA,EAAa,EAE9CA,EAAM,MAAStH,OAAA,MAAA,CAAI,UAAU,aAAa,SAAA,CAAAE,EAAAA,IAAC,KAAE,SAAK,OAAA,CAAA,EAAI,IAAE,KAAK,UAAUoH,EAAM,IAAI,CAAA,EAAE,EACnFA,EAAM,sBAAyBtH,OAAA,MAAA,CAAI,UAAU,aAAa,SAAA,CAAAE,EAAAA,IAAC,KAAE,SAAsB,wBAAA,CAAA,EAAI,IAACA,EAAAA,IAAC,MAAI,CAAA,UAAU,sBAAuB,SAAA,KAAK,UAAUoH,EAAM,qBAAsB,KAAM,CAAC,CAAE,CAAA,CAAA,EAAM,EACxLA,EAAM,aAAgBtH,OAAA,MAAA,CAAI,UAAU,aAAa,SAAA,CAAAE,EAAAA,IAAC,KAAE,SAAY,cAAA,CAAA,EAAI,IAACA,EAAAA,IAAC,MAAI,CAAA,UAAU,sBAAuB,SAAA,KAAK,UAAUoH,EAAM,YAAa,KAAM,CAAC,CAAE,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAC/J,CACF,CAAA,CAAA,CAAA,EAlBSA,EAAM,SAAWC,CAmB5B,CACD,CACH,CAAA,EAII,CAACC,EAAkBC,CAAmB,EAAIC,GAAM,SAAS,EAAK,EAC9D,CAACC,EAAiBC,CAAkB,EAAIF,GAAM,SAAS,EAAK,EAElE,GAAIR,EAAa,CACT,KAAA,CAAE,OAAAW,EAAQ,QAAAC,EAAS,UAAAlI,EAAW,SAAAlB,EAAU,WAAAqJ,EAAY,aAAAC,EAAc,mBAAAC,GAAuBhB,EAE7F,OAAAjH,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAA,OAACoB,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAqB,GAAA,CAAS,UAAU,uBAAwB,CAAA,EAAE,gCAAA,CAAA,CAEhD,CACF,CAAA,EACCrB,MAAAsB,EAAA,CACC,SAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,uDACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAA,OAAC,MAAI,CAAA,SAAA,CAAAE,EAAAA,IAAC,KAAE,SAAO,SAAA,CAAA,EAAI,IAAE2H,CAAA,EAAO,SAC3B,MAAI,CAAA,SAAA,CAAA3H,EAAAA,IAAC,KAAE,SAAQ,UAAA,CAAA,EAAI,IAAE4H,CAAA,EAAQ,SAC7B,MAAI,CAAA,SAAA,CAAA5H,EAAAA,IAAC,KAAE,SAAU,YAAA,CAAA,EAAI,IAAEiH,EAAWvH,CAAS,CAAA,CAAE,CAAA,CAAA,EAChD,EACAI,EAAAA,KAAC,MAAI,CAAA,UAAU,+BACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,4CAA4C,SAAQ,WAAA,SACjE,MAAI,CAAA,SAAA,CAAAA,EAAAA,IAAC,KAAE,SAAO,SAAA,CAAA,EAAI,IAAExB,EAAS,MAAA,EAAO,SACpC,MAAI,CAAA,SAAA,CAAAwB,EAAAA,IAAC,KAAE,SAAO,SAAA,CAAA,EAAI,IAAExB,EAAS,MAAA,EAAO,SACpC,MAAI,CAAA,SAAA,CAAAwB,EAAAA,IAAC,KAAE,SAAgB,kBAAA,CAAA,EAAI,IAAExB,EAAS,cAAA,EAAe,SACrD,MAAI,CAAA,SAAA,CAAAwB,EAAAA,IAAC,KAAE,SAAc,gBAAA,CAAA,EAAI,IAAExB,EAAS,YAAA,EAAa,SACjD,MAAI,CAAA,SAAA,CAAAwB,EAAAA,IAAC,KAAE,SAAW,aAAA,CAAA,EAAI,IAAExB,EAAS,SAAA,EAAU,SAC3C,MAAI,CAAA,SAAA,CAAAwB,EAAAA,IAAC,KAAE,SAAc,gBAAA,CAAA,EAAI,IAAExB,EAAS,WAAA,EAAY,SAChD,MAAI,CAAA,SAAA,CAAAwB,EAAAA,IAAC,KAAE,SAA4B,8BAAA,CAAA,EAAI,IAAExB,EAAS,wBAAA,EAAyB,EAC3EA,EAAS,mBAAqBA,EAAS,kBAAkB,OAAS,UAChE,MAAI,CAAA,SAAA,CAAAwB,EAAAA,IAAC,KAAE,SAAmB,qBAAA,CAAA,EAAI,IAAExB,EAAS,kBAAkB,KAAK,IAAI,CAAA,CAAE,CAAA,CAAA,CAE3E,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,EAECqJ,GAAcA,EAAW,OAAS,UAChC3G,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAAnB,EAAA,IAACoB,EAAU,CAAA,SAAA,aAAW,CAAA,EACxB,EACCpB,EAAAA,IAAAsB,EAAA,CACE,SAAiB4F,EAAAW,CAAU,CAC9B,CAAA,CAAA,EACF,EAGDC,UACE5G,EACC,CAAA,SAAA,CAAClB,EAAA,IAAAmB,EAAA,CACC,SAACrB,EAAAA,KAAAsB,EAAA,CAAU,UAAU,yCAAyC,QAAS,IAAMmG,EAAoBS,GAAK,CAACA,CAAC,EACtG,SAAA,CAAChI,EAAAA,IAAAmC,GAAA,CAAW,UAAU,yBAA0B,CAAA,EAChDnC,EAAAA,IAAC,QAAK,SAAa,eAAA,CAAA,EACnBF,EAAAA,KAAC,OAAK,CAAA,UAAU,6BAA6B,SAAA,CAAA,IAAEwH,EAAmB,OAAS,OAAO,GAAA,CAAC,CAAA,CAAA,CAAA,CACrF,CACF,CAAA,EACCA,GACCtH,EAAA,IAACsB,EACC,CAAA,SAAAtB,EAAA,IAAC,MAAI,CAAA,UAAU,qEAAsE,SAAA,KAAK,UAAU8H,EAAc,KAAM,CAAC,EAAE,CAC7H,CAAA,CAAA,EAEJ,EAGDC,UACE7G,EACC,CAAA,SAAA,CAAClB,EAAA,IAAAmB,EAAA,CACC,SAACrB,EAAAA,KAAAsB,EAAA,CAAU,UAAU,yCAAyC,QAAS,IAAMsG,EAAmBM,GAAK,CAACA,CAAC,EACrG,SAAA,CAAChI,EAAAA,IAAAiI,GAAA,CAAW,UAAU,wBAAyB,CAAA,EAC/CjI,EAAAA,IAAC,QAAK,SAAmB,qBAAA,CAAA,EACzBF,EAAAA,KAAC,OAAK,CAAA,UAAU,6BAA6B,SAAA,CAAA,IAAE2H,EAAkB,OAAS,OAAO,GAAA,CAAC,CAAA,CAAA,CAAA,CACpF,CACF,CAAA,EACCA,GACCzH,EAAA,IAACsB,EACC,CAAA,SAAAtB,EAAA,IAAC,MAAI,CAAA,UAAU,qEAAsE,SAAA,KAAK,UAAU+H,EAAoB,KAAM,CAAC,EAAE,CACnI,CAAA,CAAA,CAEJ,CAAA,CAAA,EAEJ,CAAA,CAKJ,MAAMG,EAAiB,CACrB,cAAe,qBACf,UAAW,iBACX,YAAa,yBACb,MAAO,qCACP,aAAc,oBACd,QAAS,eACT,SAAU,gBACV,eAAgB,iBAChB,aAAc,oBACd,gBAAiB,uBACjB,gBAAiB,uBACjB,kBAAmB,yBACnB,YAAa,cACb,WAAY,oBACZ,YAAa,cACb,aAAc,sBACd,mBAAoB,0BACpB,iBAAkB,wBAClB,mBAAoB,qBACpB,aAAc,eACd,aAAc,2BACd,eAAgB,iBAChB,cAAe,qBACf,cAAe,iBACf,SAAU,gCACV,kBAAmB,sBACnB,gBAAiB,oBACjB,aAAc,oBACd,KAAM,4BACN,mBAAoB,4BACpB,YAAa,cACb,UAAW,YACX,eAAgB,iBAChB,eAAgB,8BAChB,cAAe,0BACjB,EAGE,OAAApI,EAAA,KAAC,MAAI,CAAA,UAAU,YAEb,SAAA,CAAAA,OAACoB,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAqB,GAAA,CAAS,UAAU,uBAAwB,CAAA,EAAE,oCAAA,CAAA,CAEhD,CACF,CAAA,EACCrB,MAAAsB,EAAA,CACC,SAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,uDAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,4CAA4C,SAAgB,mBAAA,EAC1EF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAS,WAAA,CAAA,EACdA,EAAA,IAAAD,EAAA,CAAM,QACLgH,EAAgB,WAAa,UAAY,UACzCA,EAAgB,WAAa,SAAW,cAAgB,YAEvD,SAAAA,EAAgB,UAAY,KAC/B,CAAA,CAAA,EACF,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAM,QAAA,CAAA,QACX,OAAK,CAAA,UAAU,cAAe,SAAA+G,EAAgB,OAAS,KAAM,CAAA,CAAA,EAChE,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,QACpB,OAAK,CAAA,UAAU,cAAe,SAAA+G,EAAgB,gBAAkB,KAAM,CAAA,CAAA,EACzE,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,QACpB,OAAK,CAAA,UAAU,cAAe,SAAA+G,EAAgB,eAAiB,KAAM,CAAA,CAAA,EACxE,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAU,YAAA,CAAA,QACf,OAAK,CAAA,UAAU,sBAAuB,SAAWiH,EAAAF,EAAgB,SAAS,CAAE,CAAA,CAAA,EAC/E,EACCA,EAAgB,UACdjH,OAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAU,YAAA,CAAA,EAChBA,EAAAA,IAAC,QAAK,UAAU,cAAe,WAAe+G,EAAgB,QAAQ,GAAKA,EAAgB,QAAS,CAAA,CAAA,CACtG,CAAA,CAAA,CAEJ,CAAA,CAAA,EACF,EAGAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,4CAA4C,SAAe,kBAAA,EACzEF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAU,YAAA,CAAA,QACf,OAAK,CAAA,UAAU,cAAe,SAAA+G,EAAgB,UAAY,KAAM,CAAA,CAAA,EACnE,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,QAChB,OAAK,CAAA,UAAU,cAAe,SAAA+G,EAAgB,eAAiB,KAAM,CAAA,CAAA,EACxE,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAa,eAAA,CAAA,QAClB,OAAK,CAAA,UAAU,cAAe,SAAA+G,EAAgB,qBAAuB,KAAM,CAAA,CAAA,EAC9E,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAU,YAAA,CAAA,QACf,OAAK,CAAA,UAAU,cACb,SAAA,OAAO+G,EAAgB,KAAQ,SAC/B,IAAIA,EAAgB,IAAM,KAAK,QAAQ,CAAC,CAAC,IAAM,KAClD,CAAA,CAAA,EACF,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,QAChB,OAAK,CAAA,UAAU,cAAe,SAAA+G,EAAgB,WAAa,KAAM,CAAA,CAAA,CACpE,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAGAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,4CAA4C,SAAgB,mBAAA,EAC1EF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,QAChB,OAAK,CAAA,UAAU,cAAe,WAAgBuB,EAAAwF,EAAA,kBAAA,YAAAxF,EAAiB,mBAAoB,KAAM,CAAA,CAAA,EAC5F,EACAzB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAa,eAAA,CAAA,QAClB,OAAK,CAAA,UAAU,cAAe,WAAgBwB,EAAAuF,EAAA,kBAAA,YAAAvF,EAAiB,cAAe,KAAM,CAAA,CAAA,EACvF,EACA1B,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAiB,mBAAA,CAAA,EACtBA,EAAA,IAAA,OAAA,CAAK,UAAU,cACb,WAAgByB,EAAAsF,EAAA,kBAAA,YAAAtF,EAAiB,mBAAoB,MAAQ,MAC7D,IAAGC,EAAAqF,EAAgB,kBAAhB,YAAArF,EAAiC,eAAe,aACtD,CAAA,CAAA,EACF,EACA5B,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAgB,kBAAA,CAAA,QACrB,OAAK,CAAA,UAAU,cAAe,SAAgB+G,EAAA,SAAW,MAAQ,IAAK,CAAA,CAAA,EACzE,EACCA,EAAgB,eACdjH,OAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,EACpBA,EAAA,IAAA,OAAA,CAAK,UAAU,2BAA4B,WAAgB,aAAc,CAAA,CAAA,CAC5E,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,EAGC+G,EAAgB,gBACfjH,EAAAA,KAACoB,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAmC,GAAA,CAAW,UAAU,yBAA0B,CAAA,EAAE,8BAAA,CAAA,CAEpD,CACF,CAAA,EACCnC,MAAAsB,EAAA,CACC,SAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,wCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,4CAA4C,SAAe,kBAAA,EACzEF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,EACpBA,EAAA,IAAAD,EAAA,CAAM,QAASgH,EAAgB,eAAe,cAAgB,cAAgB,UAC5E,SAAgBA,EAAA,eAAe,cAAgB,UAAY,UAC9D,CAAA,CAAA,EACF,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,EAChBA,EAAA,IAAAD,EAAA,CAAM,QAASgH,EAAgB,eAAe,UAAY,UAAY,YACpE,SAAgBA,EAAA,eAAe,UAAY,MAAQ,IACtD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EACAjH,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,4CAA4C,SAAU,aAAA,EACnEA,EAAA,IAAA,MAAA,CAAI,UAAU,uBACZ,SAAgB+G,EAAA,WAAaA,EAAgB,UAAU,OAAS,EAC/DA,EAAgB,UAAU,IAAI,CAAC7D,EAAMlB,IACnChC,EAAAA,IAACD,EAAkB,CAAA,QAAQ,UAAU,UAAU,8BAC5C,SADSmD,GAAAlB,CAEZ,CACD,EAEAhC,EAAAA,IAAA,OAAA,CAAK,UAAU,gCAAgC,yBAAa,CAEjE,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,EAID+G,EAAgB,SAAWA,EAAgB,QAAQ,OAAS,UAC1D7F,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAiI,GAAA,CAAW,UAAU,wBAAyB,CAAA,EAAE,oBAAA,CAAA,CAEnD,CACF,CAAA,EACCjI,MAAAsB,EAAA,CACC,SAACtB,EAAAA,IAAA,MAAA,CAAI,UAAU,YACZ,SAAA+G,EAAgB,QAAQ,IAAI,CAAChF,EAAQC,IACnClC,EAAAA,KAAA,MAAA,CAAgB,UAAU,yEACzB,SAAA,CAACE,EAAA,IAAA,OAAA,CAAK,UAAU,wBAAwB,SAAC,IAAA,EACxCA,EAAA,IAAA,OAAA,CAAK,UAAU,UAAW,SAAO+B,CAAA,CAAA,CAAA,GAF1BC,CAGV,CACD,CAAA,CACH,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EAEJ,CAEJ,ECrVMmG,GAAsB,IAAM,mFAChC,KAAM,CAACC,EAAQC,CAAS,EAAIjJ,EAAAA,SAAS,IAAI,EACnC,CAACuG,EAAS2C,CAAU,EAAIlJ,EAAAA,SAAS,EAAI,EACrC,CAACmJ,EAAQC,CAAS,EAAIpJ,EAAAA,SAAS,EAAK,EACpC,CAACqJ,EAAWC,CAAY,EAAItJ,EAAAA,SAAS,SAAS,EAC9C,CAACuJ,EAAkBC,CAAmB,EAAIxJ,EAAAA,SAAS,CAAA,CAAE,EACrD,CAAE,MAAAJ,CAAM,EAAIC,GAAS,EAE3B4J,EAAAA,UAAU,IAAM,CACCC,EAAA,CACjB,EAAG,EAAE,EAEL,MAAMA,EAAiB,SAAY,CAC7B,GAAA,CACFR,EAAW,EAAI,EACf,MAAMS,EAAW,MAAMC,EAAI,IAAI,mCAAmC,EACxDX,EAAAU,EAAS,KAAK,MAAM,EAC9BH,EAAoB,CAAA,CAAE,QACfK,EAAO,CACN,QAAA,MAAM,8BAA+BA,CAAK,EAC5CjK,EAAA,CACJ,MAAO,QACP,YAAa,oCACb,QAAS,aAAA,CACV,CAAA,QACD,CACAsJ,EAAW,EAAK,CAAA,CAEpB,EAEMY,EAAa,SAAY,CACzB,GAAA,CACFV,EAAU,EAAI,EAGR,MAAAW,EAASC,EAAsBhB,CAAM,EACvC,GAAAe,EAAO,OAAS,EAAG,CACrBP,EAAoBO,CAAM,EACpBnK,EAAA,CACJ,MAAO,mBACP,YAAa,qBAAqBmK,EAAO,MAAM,qBAC/C,QAAS,aAAA,CACV,EACD,MAAA,CAIF,MAAME,EAAe,CAAC,EAElBjB,EAAO,cACIiB,EAAA,KACXL,EAAI,MAAM,kCAAmC,CAC3C,aAAcZ,EAAO,YACtB,CAAA,CACH,EAGEA,EAAO,eACIiB,EAAA,KACXL,EAAI,MAAM,mCAAoC,CAC5C,cAAeZ,EAAO,aACvB,CAAA,CACH,EAGEA,EAAO,gBACIiB,EAAA,KACXL,EAAI,MAAM,oCAAqC,CAC7C,eAAgBZ,EAAO,cACxB,CAAA,CACH,EAGEA,EAAO,UACIiB,EAAA,KACXL,EAAI,MAAM,6BAA8B,CACtC,SAAUZ,EAAO,QAClB,CAAA,CACH,EAGI,MAAA,QAAQ,IAAIiB,CAAY,EAExBrK,EAAA,CACJ,MAAO,UACP,YAAa,uCAAA,CACd,EACD4J,EAAoB,CAAA,CAAE,QACfK,EAAO,CACN,QAAA,MAAM,yBAA0BA,CAAK,EACvCjK,EAAA,CACJ,MAAO,QACP,YAAa,oCACb,QAAS,aAAA,CACV,CAAA,QACD,CACAwJ,EAAU,EAAK,CAAA,CAEnB,EAEMY,EAAyBhB,GAAW,oBACxC,MAAMe,EAAS,CAAC,EAGZf,IAAAA,IAAAA,GAAAA,EAAO,eAAPA,YAAAA,GAAqB,UAArBA,MAAAA,GAA8B,eAAgB,CAC1C,MAAAkB,GAAUlB,EAAO,aAAa,QAAQ,eACtCmB,GAAY,OAAO,OAAOD,EAAO,EAAE,OAAO,CAACE,GAAKC,KAAWD,GAAMC,GAAQ,CAAC,EAC5E,KAAK,IAAIF,GAAY,GAAG,EAAI,GACvBJ,EAAA,KAAK,qDAAqDI,EAAS,GAAG,CAC/E,CAIEnB,IAAAA,IAAAA,GAAAA,EAAO,eAAPA,YAAAA,GAAqB,UAArBA,MAAAA,GAA8B,QAAS,CACnC,MAAAkB,GAAUlB,EAAO,aAAa,QAAQ,QACtCmB,GAAY,OAAO,OAAOD,EAAO,EAAE,OAAO,CAACE,GAAKC,KAAWD,GAAMC,GAAQ,CAAC,EAC5E,KAAK,IAAIF,GAAY,GAAG,EAAI,GACvBJ,EAAA,KAAK,6CAA6CI,EAAS,GAAG,CACvE,CAIEnB,IAAAA,GAAAA,EAAO,gBAAPA,MAAAA,GAAsB,kBAAmB,CACrC,MAAAsB,GAAQtB,EAAO,cAAc,kBAC/BsB,GAAM,SAAWA,GAAM,SACzBP,EAAO,KAAK,0CAA0C,CACxD,CAGK,OAAAA,CACT,EAEMQ,EAAe,CAACC,EAASC,EAAYC,GAAOrD,KAAU,CAC1D4B,EAAmB0B,IAAA,QAAA,OACjB,GAAGA,GACH,CAACH,CAAO,EAAG,CACT,GAAGG,GAAKH,CAAO,EACf,CAACC,CAAU,EAAG,CACZ,IAAGtI,GAAAwI,GAAKH,CAAO,IAAZ,YAAArI,GAAgBsI,GACnB,CAACC,EAAK,EAAGrD,EAAA,CACX,CACF,EACA,CACJ,EAiBA,OAAId,EAEC3F,EAAA,IAAAkB,EAAA,CACC,SAACpB,EAAAA,KAAAwB,EAAA,CAAY,UAAU,uCACrB,SAAA,CAACtB,EAAAA,IAAAsE,GAAA,CAAU,UAAU,sBAAuB,CAAA,EAC3CtE,EAAA,IAAA,OAAA,CAAK,UAAU,OAAO,SAA6B,+BAAA,CAAA,CAAA,CAAA,CACtD,CACF,CAAA,EAICoI,EAgBHtI,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,qBAAqB,SAAkB,qBAAA,EACpDA,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAwB,SAErC,8EAAA,CAAA,CAAA,EACF,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAA,OAAC+C,GAAO,QAAQ,UAAU,QAASiG,EAAgB,SAAUP,EAC3D,SAAA,CAACvI,EAAAA,IAAAsE,GAAA,CAAU,UAAU,cAAe,CAAA,EAAE,SAAA,EAExC,EACCxE,EAAA,KAAA+C,EAAA,CAAO,QAASqG,EAAY,SAAUX,EACpC,SAAA,CACCA,EAAAvI,EAAA,IAACsE,IAAU,UAAU,2BAAA,CAA4B,EAEhDtE,EAAAA,IAAA+C,GAAA,CAAK,UAAU,cAAe,CAAA,EAC/B,cAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAEC4F,EAAiB,OAAS,GACxB7I,EAAA,KAAAkK,GAAA,CAAM,QAAQ,cACb,SAAA,CAAChK,EAAAA,IAAAI,GAAA,CAAY,UAAU,SAAU,CAAA,SAChC6J,GACC,CAAA,SAAA,CAACjK,EAAA,IAAA,MAAA,CAAI,UAAU,qBAAqB,SAAgC,mCAAA,EACnEA,EAAA,IAAA,KAAA,CAAG,UAAU,kCACX,WAAiB,IAAI,CAACiJ,EAAOjH,IAC3BhC,EAAA,IAAA,KAAA,CAAgB,SAARiJ,CAAA,EAAAjH,CAAc,CACxB,CACH,CAAA,CAAA,CACF,CAAA,CAAA,EACF,SAGDkI,GAAK,CAAA,MAAOzB,EAAW,cAAeC,EAAc,UAAU,YAC7D,SAAA,CAAC5I,EAAAA,KAAAqK,GAAA,CAAS,UAAU,0BAClB,SAAA,CAAArK,EAAA,KAACsK,GAAY,CAAA,MAAM,UAAU,UAAU,0BACrC,SAAA,CAACpK,EAAAA,IAAAqK,GAAA,CAAM,UAAU,SAAU,CAAA,EAAE,SAAA,EAE/B,EACCvK,EAAA,KAAAsK,GAAA,CAAY,MAAM,UAAU,UAAU,0BACrC,SAAA,CAACpK,EAAAA,IAAAiC,GAAA,CAAW,UAAU,SAAU,CAAA,EAAE,SAAA,EAEpC,EACCnC,EAAA,KAAAsK,GAAA,CAAY,MAAM,SAAS,UAAU,0BACpC,SAAA,CAACpK,EAAAA,IAAAsG,GAAA,CAAO,UAAU,SAAU,CAAA,EAAE,QAAA,EAEhC,EACCxG,EAAA,KAAAsK,GAAA,CAAY,MAAM,WAAW,UAAU,0BACtC,SAAA,CAACpK,EAAAA,IAAA7B,GAAA,CAAQ,UAAU,SAAU,CAAA,EAAE,UAAA,EAEjC,EACC2B,EAAA,KAAAsK,GAAA,CAAY,MAAM,SAAS,UAAU,0BACpC,SAAA,CAACpK,EAAAA,IAAAsK,GAAA,CAAS,UAAU,SAAU,CAAA,EAAE,QAAA,CAElC,CAAA,CAAA,EACF,EAGAtK,EAAAA,IAACuK,IAAY,MAAM,UAAU,UAAU,YACrC,SAAAzK,EAAA,KAAC,MAAI,CAAA,UAAU,wCAEb,SAAA,CAAAA,OAACoB,EACC,CAAA,SAAA,CAAApB,OAACqB,EACC,CAAA,SAAA,CAACrB,EAAAA,KAAAsB,EAAA,CAAU,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAqK,GAAA,CAAM,UAAU,SAAU,CAAA,EAAE,gCAAA,EAE/B,EACArK,EAAAA,IAACwK,IAAgB,SAEjB,oEAAA,CAAA,CAAA,EACF,EACA1K,EAAAA,KAACwB,EAAY,CAAA,UAAU,YACrB,SAAA,CAAAxB,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,sBAAsB,SAAmB,sBAAA,EAC1DvG,EAAAA,IAAC,OAAI,UAAU,8BACZ,gBAAO,UAAQwB,GAAAD,EAAA6G,EAAO,eAAP,YAAA7G,EAAqB,UAArB,YAAAC,EAA8B,iBAAkB,CAAE,CAAA,EAAE,IAAI,CAAC,CAACiJ,EAAKhE,CAAK,IAClF3G,EAAA,KAAC,MAAc,CAAA,UAAU,YACvB,SAAA,CAACE,EAAAA,IAAAuG,EAAA,CAAM,UAAU,qBAAsB,SAAAkE,EAAI,QAAQ,WAAY,KAAK,EAAE,KAAO,CAAA,CAAA,EAC7EzK,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,MAAAW,EACA,SAAW7D,IAAM+G,EAAa,eAAgB,UAAW,iBAAkB,CACzE,GAAGvB,EAAO,aAAa,QAAQ,eAC/B,CAACqC,CAAG,EAAG,WAAW7H,GAAE,OAAO,KAAK,CAAA,CACjC,EACD,IAAI,IACJ,IAAI,KAAA,CAAA,CACN,CAXQ,EAAA6H,CAYV,CACD,CACH,CAAA,CAAA,EACF,QAECrI,GAAU,EAAA,SAEV,MACC,CAAA,SAAA,CAACpC,EAAA,IAAAuG,EAAA,CAAM,UAAU,sBAAsB,SAAS,YAAA,QAC/C,MAAI,CAAA,UAAU,iBACb,SAACzG,EAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAe,kBAAA,EAC1CvG,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,QAAOnE,GAAAD,GAAAD,EAAA2G,EAAO,eAAP,YAAA3G,EAAqB,UAArB,YAAAC,EAA8B,YAA9B,YAAAC,EAAyC,iBAAkB,EAClE,SAAWiB,GAAM+G,EAAa,eAAgB,UAAW,YAAa,CACpE,GAAGvB,EAAO,aAAa,QAAQ,UAC/B,eAAgB,WAAWxF,EAAE,OAAO,KAAK,CAAA,CAC1C,EACD,UAAU,MAAA,CAAA,CACZ,CAAA,CACF,CACF,CAAA,CAAA,EACF,QAECR,GAAU,EAAA,SAEV,MACC,CAAA,SAAA,CAACpC,EAAA,IAAAuG,EAAA,CAAM,UAAU,sBAAsB,SAAe,kBAAA,QACrD,MAAI,CAAA,UAAU,iBACb,SAACzG,EAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAiC,oCAAA,EAC5DvG,EAAA,IAAC0K,GAAA,CACC,UAAS5I,GAAAD,GAAAD,EAAAwG,EAAO,eAAP,YAAAxG,EAAqB,UAArB,YAAAC,EAA8B,iBAA9B,YAAAC,EAA8C,iCAAkC,GACzF,gBAAkB6I,GAAYhB,EAAa,eAAgB,UAAW,iBAAkB,CACtF,GAAGvB,EAAO,aAAa,QAAQ,eAC/B,+BAAgCuC,CACjC,CAAA,CAAA,CAAA,CACH,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,SAGCzJ,EACC,CAAA,SAAA,CAAApB,OAACqB,EACC,CAAA,SAAA,CAACrB,EAAAA,KAAAsB,EAAA,CAAU,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAqK,GAAA,CAAM,UAAU,SAAU,CAAA,EAAE,iCAAA,EAE/B,EACArK,EAAAA,IAACwK,IAAgB,SAEjB,gFAAA,CAAA,CAAA,EACF,EACA1K,EAAAA,KAACwB,EAAY,CAAA,UAAU,YACrB,SAAA,CAAAxB,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,sBAAsB,SAAgB,mBAAA,EACvDvG,EAAAA,IAAC,OAAI,UAAU,8BACZ,gBAAO,UAAQsC,GAAAD,EAAA+F,EAAO,eAAP,YAAA/F,EAAqB,UAArB,YAAAC,EAA8B,UAAW,CAAE,CAAA,EAAE,IAAI,CAAC,CAACmI,EAAKhE,CAAK,IAC3E3G,EAAA,KAAC,MAAc,CAAA,UAAU,YACvB,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,qBAAsB,SAAIkE,EAAA,EAC3CzK,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,MAAAW,EACA,SAAW7D,IAAM+G,EAAa,eAAgB,UAAW,UAAW,CAClE,GAAGvB,EAAO,aAAa,QAAQ,QAC/B,CAACqC,CAAG,EAAG,WAAW7H,GAAE,OAAO,KAAK,CAAA,CACjC,EACD,IAAI,IACJ,IAAI,KAAA,CAAA,CACN,CAXQ,EAAA6H,CAYV,CACD,CACH,CAAA,CAAA,EACF,QAECrI,GAAU,EAAA,SAEV,MACC,CAAA,SAAA,CAACpC,EAAA,IAAAuG,EAAA,CAAM,UAAU,sBAAsB,SAAqB,wBAAA,EAC5DzG,EAAAA,KAAC,MAAI,CAAA,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAO,UAAA,EAClCvG,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,KAAK,OACL,QAAOrD,GAAAD,GAAAD,EAAA6F,EAAO,eAAP,YAAA7F,EAAqB,UAArB,YAAAC,EAA8B,uBAA9B,YAAAC,EAAoD,SAAU,IACrE,SAAWG,GAAM+G,EAAa,eAAgB,UAAW,uBAAwB,CAC/E,GAAGvB,EAAO,aAAa,QAAQ,qBAC/B,OAAQ,WAAWxF,EAAE,OAAO,KAAK,CAAA,CAClC,EACD,UAAU,MAAA,CAAA,CACZ,EACF,EACA9C,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAA0B,6BAAA,EACrDvG,EAAA,IAAC0K,GAAA,CACC,UAASE,GAAAC,GAAAnI,EAAA0F,EAAO,eAAP,YAAA1F,EAAqB,UAArB,YAAAmI,EAA8B,uBAA9B,YAAAD,EAAoD,2BAA4B,GACzF,gBAAkBD,GAAYhB,EAAa,eAAgB,UAAW,uBAAwB,CAC5F,GAAGvB,EAAO,aAAa,QAAQ,qBAC/B,yBAA0BuC,CAC3B,CAAA,CAAA,CAAA,CACH,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAGC7K,EAAA,KAAAyK,GAAA,CAAY,MAAM,UAAU,UAAU,YACrC,SAAA,CAACzK,EAAAA,KAAA,MAAA,CAAI,UAAU,wCAEb,SAAA,CAAAA,OAACoB,EACC,CAAA,SAAA,CAAApB,OAACqB,EACC,CAAA,SAAA,CAAAnB,EAAAA,IAACoB,GAAU,SAAiB,mBAAA,CAAA,EAC5BpB,EAAAA,IAACwK,IAAgB,SAEjB,+CAAA,CAAA,CAAA,EACF,EACAxK,MAACsB,GAAY,UAAU,YACpB,gBAAO,UAAQwJ,GAAA1C,EAAO,gBAAP,YAAA0C,GAAsB,kBAAmB,EAAE,EAAE,IAAI,CAAC,CAACC,EAAgBxK,CAAM,IACvFT,OAAC,MAAyB,CAAA,UAAU,oCAClC,SAAA,CAAAE,EAAAA,IAACuG,GAAM,UAAU,qBAAsB,WAAe,QAAQ,KAAM,GAAG,EAAE,EACzEvG,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,MAAOvF,EACP,SAAWqC,IAAM+G,EAAa,gBAAiB,kBAAmBoB,EAAgB,WAAWnI,GAAE,OAAO,KAAK,CAAC,EAC5G,UAAU,MAAA,CAAA,CACZ,CAPQ,EAAAmI,CAQV,CACD,CACH,CAAA,CAAA,EACF,SAGC7J,EACC,CAAA,SAAA,CAAApB,OAACqB,EACC,CAAA,SAAA,CAAAnB,EAAAA,IAACoB,GAAU,SAAmB,qBAAA,CAAA,EAC9BpB,EAAAA,IAACwK,IAAgB,SAEjB,uDAAA,CAAA,CAAA,EACF,EACA1K,EAAAA,KAACwB,EAAY,CAAA,UAAU,YACrB,SAAA,CAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAa,gBAAA,EACxCvG,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,KAAK,MACL,QAAOkF,IAAAC,GAAA7C,EAAO,gBAAP,YAAA6C,GAAsB,oBAAtB,YAAAD,GAAyC,WAAY,KAC5D,SAAWpI,GAAM+G,EAAa,gBAAiB,oBAAqB,WAAY,WAAW/G,EAAE,OAAO,KAAK,CAAC,EAC1G,UAAU,MAAA,CAAA,CACZ,EACF,EACA9C,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAY,eAAA,EACvCvG,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,KAAK,MACL,QAAOoF,IAAAC,GAAA/C,EAAO,gBAAP,YAAA+C,GAAsB,oBAAtB,YAAAD,GAAyC,UAAW,MAC3D,SAAWtI,GAAM+G,EAAa,gBAAiB,oBAAqB,UAAW,WAAW/G,EAAE,OAAO,KAAK,CAAC,EACzG,UAAU,MAAA,CAAA,CACZ,EACF,QACCR,GAAU,EAAA,EACVpC,EAAA,IAAAuG,EAAA,CAAM,UAAU,sBAAsB,SAAoB,uBAAA,EAC1D,OAAO,UAAQ6E,IAAAC,GAAAjD,EAAO,gBAAP,YAAAiD,GAAsB,oBAAtB,YAAAD,GAAyC,cAAe,CAAE,CAAA,EAAE,IAAI,CAAC,CAACE,EAAQC,CAAU,IACjGzL,EAAA,KAAA,MAAA,CAAiB,UAAU,oCAC1B,SAAA,CAAAE,EAAAA,IAACuG,GAAM,UAAU,qBAAsB,WAAO,QAAQ,KAAM,GAAG,EAAE,EACjEvG,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,MAAOyF,EACP,SAAW3I,IAAM+G,EAAa,gBAAiB,oBAAqB,cAAe,CACjF,GAAGvB,EAAO,cAAc,kBAAkB,YAC1C,CAACkD,CAAM,EAAG,WAAW1I,GAAE,OAAO,KAAK,CAAA,CACpC,EACD,UAAU,MAAA,CAAA,CACZ,CAAA,EAVQ0I,CAWV,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,EACF,SAGCpK,EACC,CAAA,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAAnB,EAAA,IAACoB,EAAU,CAAA,SAAA,qBAAmB,CAAA,EAChC,EACAtB,EAAAA,KAACwB,EAAY,CAAA,UAAU,YACrB,SAAA,CAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAc,iBAAA,EACzCvG,EAAA,IAAC0K,GAAA,CACC,UAASc,EAAApD,EAAO,gBAAP,YAAAoD,EAAsB,gBAAiB,GAChD,gBAAkBb,GAAYhB,EAAa,gBAAiB,gBAAiBgB,CAAO,CAAA,CAAA,CACtF,EACF,EACA7K,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAyB,4BAAA,EACpDvG,EAAA,IAAC0K,GAAA,CACC,UAASe,EAAArD,EAAO,gBAAP,YAAAqD,EAAsB,0BAA2B,GAC1D,gBAAkBd,GAAYhB,EAAa,gBAAiB,0BAA2BgB,CAAO,CAAA,CAAA,CAChG,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,QAGCJ,GAAY,CAAA,MAAM,SAAS,UAAU,YACpC,gBAACrJ,EACC,CAAA,SAAA,CAAApB,OAACqB,EACC,CAAA,SAAA,CAAAnB,EAAAA,IAACoB,GAAU,SAAe,iBAAA,CAAA,EAC1BpB,EAAAA,IAACwK,IAAgB,SAEjB,yCAAA,CAAA,CAAA,EACF,EACA1K,EAAAA,KAACwB,EAAY,CAAA,UAAU,YACrB,SAAA,CAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAe,kBAAA,EAC1CvG,EAAA,IAAC0K,GAAA,CACC,UAASgB,GAAAtD,EAAO,iBAAP,YAAAsD,GAAuB,gBAAiB,GACjD,gBAAkBf,GAAYhB,EAAa,iBAAkB,gBAAiBgB,CAAO,CAAA,CAAA,CACvF,EACF,EACA7K,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAkB,qBAAA,EAC7CvG,EAAA,IAAC0K,GAAA,CACC,UAASiB,GAAAvD,EAAO,iBAAP,YAAAuD,GAAuB,mBAAoB,GACpD,gBAAkBhB,GAAYhB,EAAa,iBAAkB,mBAAoBgB,CAAO,CAAA,CAAA,CAC1F,EACF,EACA7K,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAkB,qBAAA,EAC7CvG,EAAA,IAAC8F,EAAA,CACC,KAAK,SACL,QAAO8F,GAAAxD,EAAO,iBAAP,YAAAwD,GAAuB,gBAAiB,EAC/C,SAAWhJ,GAAM+G,EAAa,iBAAkB,gBAAiB,SAAS/G,EAAE,OAAO,KAAK,CAAC,EACzF,UAAU,MAAA,CAAA,CACZ,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,QAGC2H,GAAY,CAAA,MAAM,WAAW,UAAU,YACtC,gBAACrJ,EACC,CAAA,SAAA,CAAApB,OAACqB,EACC,CAAA,SAAA,CAAAnB,EAAAA,IAACoB,GAAU,SAAsB,wBAAA,CAAA,EACjCpB,EAAAA,IAACwK,IAAgB,SAEjB,2CAAA,CAAA,CAAA,EACF,EACA1K,EAAAA,KAACwB,EAAY,CAAA,UAAU,YACrB,SAAA,CAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAa,gBAAA,EACxCvG,EAAA,IAAC8F,EAAA,CACC,KAAK,QACL,QAAO+F,GAAAzD,EAAO,WAAP,YAAAyD,GAAiB,eAAgB,UACxC,SAAWjJ,GAAM+G,EAAa,WAAY,eAAgB/G,EAAE,OAAO,KAAK,EACxE,UAAU,MAAA,CAAA,CACZ,EACF,EACA9C,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAK,QAAA,EAChCzG,EAAA,KAAC0G,GAAA,CACC,QAAOsF,GAAA1D,EAAO,WAAP,YAAA0D,GAAiB,QAAS,QACjC,cAAgBrF,GAAUkD,EAAa,WAAY,QAASlD,CAAK,EAEjE,SAAA,CAAAzG,MAAC0G,GAAc,CAAA,UAAU,OACvB,SAAA1G,MAAC2G,IAAY,CAAA,EACf,SACCC,GACC,CAAA,SAAA,CAAC5G,EAAA,IAAA6G,EAAA,CAAW,MAAM,QAAQ,SAAK,QAAA,EAC9B7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,OAAO,SAAI,OAAA,EAC5B7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,OAAO,SAAI,MAAA,CAAA,CAAA,CAC/B,CAAA,CAAA,CAAA,CAAA,CACF,EACF,EACA/G,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAQ,WAAA,EACnCzG,EAAA,KAAC0G,GAAA,CACC,QAAOuF,GAAA3D,EAAO,WAAP,YAAA2D,GAAiB,WAAY,MACpC,cAAgBtF,GAAUkD,EAAa,WAAY,WAAYlD,CAAK,EAEpE,SAAA,CAAAzG,MAAC0G,GAAc,CAAA,UAAU,OACvB,SAAA1G,MAAC2G,IAAY,CAAA,EACf,SACCC,GACC,CAAA,SAAA,CAAC5G,EAAA,IAAA6G,EAAA,CAAW,MAAM,MAAM,SAAG,MAAA,EAC1B7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,MAAM,SAAG,MAAA,EAC1B7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,MAAM,SAAG,KAAA,CAAA,CAAA,CAC7B,CAAA,CAAA,CAAA,CAAA,CACF,EACF,EACA/G,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,UAAU,UAAU,SAAQ,WAAA,EACnCzG,EAAA,KAAC0G,GAAA,CACC,QAAOwF,GAAA5D,EAAO,WAAP,YAAA4D,GAAiB,WAAY,KACpC,cAAgBvF,GAAUkD,EAAa,WAAY,WAAYlD,CAAK,EAEpE,SAAA,CAAAzG,MAAC0G,GAAc,CAAA,UAAU,OACvB,SAAA1G,MAAC2G,IAAY,CAAA,EACf,SACCC,GACC,CAAA,SAAA,CAAC5G,EAAA,IAAA6G,EAAA,CAAW,MAAM,KAAK,SAAO,UAAA,EAC7B7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,KAAK,SAAO,SAAA,CAAA,CAAA,CAChC,CAAA,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAGC/G,EAAA,KAAAyK,GAAA,CAAY,MAAM,SAAS,UAAU,YACpC,SAAA,CAAAzK,OAACkK,GACC,CAAA,SAAA,CAAChK,EAAAA,IAAAiM,GAAA,CAAK,UAAU,SAAU,CAAA,EAC1BjM,EAAAA,IAACiK,IAAiB,SAGlB,6IAAA,CAAA,CAAA,EACF,SAEC/I,EACC,CAAA,SAAA,CAAApB,OAACqB,EACC,CAAA,SAAA,CAAAnB,EAAAA,IAACoB,GAAU,SAA4B,8BAAA,CAAA,EACvCpB,EAAAA,IAACwK,IAAgB,SAEjB,4CAAA,CAAA,CAAA,EACF,EACCxK,EAAA,IAAAsB,EAAA,CACC,SAACtB,EAAA,IAAA,MAAA,CAAI,UAAU,sDACZ,SAAK,KAAA,UAAUoI,EAAO,aAAc,KAAM,CAAC,EAC9C,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,QAncGlH,EACC,CAAA,SAAAlB,EAAA,IAACsB,GAAY,UAAU,MACrB,gBAAC0I,GACC,CAAA,SAAA,CAAChK,EAAAA,IAAAI,GAAA,CAAY,UAAU,SAAU,CAAA,EACjCJ,EAAAA,IAACiK,IAAiB,SAElB,kEAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CA4bN,ECjoBMiC,GAAqB,CAAC,CAC1B,eAAA9F,EACA,qBAAAC,EACA,qBAAA8F,EACA,mBAAAC,EACA,cAAAC,EACA,cAAAC,EACA,iBAAAC,EACA,gBAAAC,EACA,mBAAAC,EACA,0BAAAC,EACA,cAAAC,CACF,IAAM,SACE,MAAAC,EAAY,OAAOxG,EAAe,MAAM,EACxCyG,EAAkBzG,EAAe,WAAa,WAAauG,GAAiBC,EAAYD,EAE5F,OAAA7M,EAAA,KAAC,MAAI,CAAA,UAAU,YAEb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,gBAAgB,SAAa,gBAAA,EAC5CzG,EAAA,KAAC0G,GAAA,CACC,MAAOJ,EAAe,SACtB,cAAgBK,GAAUJ,EAAqB,WAAYI,CAAK,EAEhE,SAAA,CAAAzG,EAAAA,IAAC0G,IAAc,UAAU,SACvB,eAACC,GAAY,CAAA,YAAY,uBAAuB,CAClD,CAAA,SACCC,GACC,CAAA,SAAA,CAAC5G,EAAA,IAAA6G,EAAA,CAAW,MAAM,UAAU,SAAO,UAAA,EAClC7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,SAAS,SAAM,SAAA,EAChC7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,OAAO,SAAI,OAAA,EAC5B7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,SAAS,SAAM,QAAA,CAAA,CAAA,CACnC,CAAA,CAAA,CAAA,CAAA,CACF,EACF,EAGA7G,EAAAA,IAAC,MAAI,CAAA,UAAU,8BACb,SAAAF,EAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMuG,EAAqB,gBAAiB,CAACD,EAAe,aAAa,EAClF,UAAU,8DAET,SAAA,CAAeA,EAAA,oBACb0G,GAAY,CAAA,UAAU,wBAAwB,EAE/C9M,EAAA,IAAC1B,GAAO,CAAA,UAAU,uBAAwB,CAAA,EAE3C0B,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAsB,wBAAA,CAAA,CAAA,CAAA,CAAA,EAEpD,EAGCoG,EAAe,eACdtG,EAAAA,KAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,cAAc,SAAW,cAAA,EACxCvG,EAAA,IAAC2C,GAAA,CACC,GAAG,cACH,YAAY,oCACZ,MAAOyD,EAAe,WACtB,SAAWxD,GAAMyD,EAAqB,aAAczD,EAAE,OAAO,KAAK,EAClE,UAAU,MAAA,CAAA,CACZ,EACF,EAIDwD,EAAe,WAAa,UAC3BtG,EAAA,KAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,mBAAmB,SAAuB,0BAAA,EACzDvG,EAAA,IAAC2C,GAAA,CACC,GAAG,mBACH,YAAY,mCACZ,MAAOyD,EAAe,gBACtB,SAAWxD,GAAMyD,EAAqB,kBAAmBzD,EAAE,OAAO,KAAK,EACvE,UAAU,MAAA,CAAA,CACZ,EACF,EAIDwD,EAAe,WAAa,WAC3BtG,EAAA,KAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,YAAY,SAAS,YAAA,EACpCzG,EAAA,KAAC0G,GAAA,CACC,MAAOJ,EAAe,UAAY,GAClC,cAAgBK,GAAUJ,EAAqB,WAAYI,CAAK,EAEhE,SAAA,CAAAzG,EAAAA,IAAC0G,IAAc,UAAU,SACvB,eAACC,GAAY,CAAA,YAAY,mBAAmB,CAC9C,CAAA,EACA7G,EAAAA,KAAC8G,GAAc,CAAA,UAAU,2BACvB,SAAA,CAAA9G,OAACiN,GACC,CAAA,SAAA,CAAA/M,EAAAA,IAACgN,IAAY,SAAiB,mBAAA,CAAA,EAC7BhN,EAAA,IAAA6G,EAAA,CAAW,MAAM,gBAAgB,SAAkB,qBAAA,EACnD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,YAAY,SAAc,iBAAA,EAC3C7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,cAAc,SAAsB,yBAAA,EACrD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,QAAQ,SAAkC,qCAAA,EAC3D7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,eAAe,SAAiB,mBAAA,CAAA,CAAA,EACpD,SACCkG,GACC,CAAA,SAAA,CAAA/M,EAAAA,IAACgN,IAAY,SAAa,eAAA,CAAA,EACzBhN,EAAA,IAAA6G,EAAA,CAAW,MAAM,UAAU,SAAY,eAAA,EACvC7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,WAAW,SAAa,gBAAA,EACzC7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,iBAAiB,SAAc,iBAAA,EAChD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,eAAe,SAAiB,mBAAA,CAAA,CAAA,EACpD,SACCkG,GACC,CAAA,SAAA,CAAA/M,EAAAA,IAACgN,IAAY,SAAgB,kBAAA,CAAA,EAC5BhN,EAAA,IAAA6G,EAAA,CAAW,MAAM,kBAAkB,SAAoB,uBAAA,EACvD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,kBAAkB,SAAoB,uBAAA,EACvD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,oBAAoB,SAAsB,wBAAA,CAAA,CAAA,EAC9D,SACCkG,GACC,CAAA,SAAA,CAAA/M,EAAAA,IAACgN,IAAY,SAAqB,uBAAA,CAAA,EACjChN,EAAA,IAAA6G,EAAA,CAAW,MAAM,cAAc,SAAW,cAAA,EAC1C7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,aAAa,SAAiB,oBAAA,EAC/C7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,cAAc,SAAW,cAAA,EAC1C7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,eAAe,SAAmB,qBAAA,CAAA,CAAA,EACtD,SACCkG,GACC,CAAA,SAAA,CAAA/M,EAAAA,IAACgN,IAAY,SAAiB,mBAAA,CAAA,EAC7BhN,EAAA,IAAA6G,EAAA,CAAW,MAAM,qBAAqB,SAAuB,0BAAA,EAC7D7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,mBAAmB,SAAqB,wBAAA,EACzD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,qBAAqB,SAAkB,qBAAA,EACxD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,eAAe,SAAY,eAAA,EAC5C7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,eAAe,SAAwB,2BAAA,EACxD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,iBAAiB,SAAc,gBAAA,CAAA,CAAA,EACnD,SACCkG,GACC,CAAA,SAAA,CAAA/M,EAAAA,IAACgN,IAAY,SAAiB,mBAAA,CAAA,EAC7BhN,EAAA,IAAA6G,EAAA,CAAW,MAAM,gBAAgB,SAAkB,qBAAA,EACnD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,gBAAgB,SAAc,iBAAA,EAC/C7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,WAAW,SAA6B,gCAAA,EACzD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,oBAAoB,SAAmB,sBAAA,EACxD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,kBAAkB,SAAiB,mBAAA,CAAA,CAAA,EACvD,SACCkG,GACC,CAAA,SAAA,CAAA/M,EAAAA,IAACgN,IAAY,SAA0B,4BAAA,CAAA,EACtChN,EAAA,IAAA6G,EAAA,CAAW,MAAM,eAAe,SAAiB,oBAAA,EACjD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,OAAO,SAAyB,4BAAA,EACjD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,qBAAqB,SAAyB,4BAAA,EAC/D7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,cAAc,SAAW,aAAA,CAAA,CAAA,EAC7C,SACCkG,GACC,CAAA,SAAA,CAAA/M,EAAAA,IAACgN,IAAY,SAAwB,0BAAA,CAAA,EACpChN,EAAA,IAAA6G,EAAA,CAAW,MAAM,YAAY,SAAS,YAAA,EACtC7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,iBAAiB,SAAc,iBAAA,EAChD7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,iBAAiB,SAA2B,8BAAA,EAC7D7G,EAAA,IAAA6G,EAAA,CAAW,MAAM,gBAAgB,SAAwB,0BAAA,CAAA,CAAA,CAC5D,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CAAA,CACF,EACF,EAIDT,EAAe,WAAa,WAC1BtG,EAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,cAAc,SAAY,eAAA,EACxCF,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,cAAc,SAAW,cAAA,EACxCvG,EAAA,IAAC8F,EAAA,CACC,GAAG,cACH,KAAK,SACL,YAAY,eACZ,MAAOM,EAAe,OACtB,SAAWxD,GAAMyD,EAAqB,SAAUzD,EAAE,OAAO,KAAK,EAC9D,UAAU,MAAA,CAAA,CACZ,EACF,SACC,MACC,CAAA,SAAA,CAAC5C,EAAA,IAAAuG,EAAA,CAAM,QAAQ,YAAY,SAAa,gBAAA,EACxCvG,EAAA,IAAC8F,EAAA,CACC,GAAG,YACH,KAAK,SACL,YAAY,aACZ,MAAOM,EAAe,KACtB,SAAWxD,GAAMyD,EAAqB,OAAQzD,EAAE,OAAO,KAAK,EAC5D,UAAU,MAAA,CAAA,CACZ,EACF,SACC,MACC,CAAA,SAAA,CAAC5C,EAAA,IAAAuG,EAAA,CAAM,QAAQ,gBAAgB,SAAiB,oBAAA,EAChDvG,EAAA,IAAC8F,EAAA,CACC,GAAG,gBACH,KAAK,SACL,KAAK,MACL,YAAY,aACZ,MAAOM,EAAe,aACtB,SAAWxD,GAAMyD,EAAqB,eAAgBzD,EAAE,OAAO,KAAK,EACpE,UAAU,MAAA,CAAA,CACZ,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAIF9C,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,cAAc,SAAkB,qBAAA,EAC9CF,EAAAA,KAAC,MAAI,CAAA,UAAU,YAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAE,EAAA,IAAC0K,GAAA,CACC,GAAG,oBACH,QAAS4B,EACT,gBAAiBC,CAAA,CACnB,EACCvM,EAAA,IAAAuG,EAAA,CAAM,QAAQ,oBAAoB,SAAuB,yBAAA,CAAA,CAAA,EAC5D,EAGC+F,GACCxM,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,mBAAmB,SAAoB,uBAAA,EACtDvG,EAAA,IAAC8F,EAAA,CACC,GAAG,mBACH,KAAK,SACL,YAAY,yBACZ,MAAO0G,EACP,SAAW5J,GAAM6J,EAAmB,OAAO7J,EAAE,OAAO,KAAK,CAAC,EAC1D,UAAU,MAAA,CACZ,EACC5C,EAAA,IAAA,IAAA,CAAE,UAAU,gCAAgC,SAE7C,4EAAA,CAAA,CAAA,EACF,EAIFF,EAAA,KAAC+C,EAAA,CACC,KAAK,SACL,QAAQ,UACR,QAAS6J,EACT,SAAUL,EACV,UAAU,0BAET,SAAA,CACCA,EAAArM,EAAA,IAAC+F,IAAQ,UAAU,sBAAA,CAAuB,EAEzC/F,EAAAA,IAAAsE,GAAA,CAAU,UAAU,SAAU,CAAA,EAC/B,6BAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CAAA,EACF,SAGC,MACC,CAAA,SAAA,CAACtE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,iBAAiB,SAAc,iBAAA,EAC9CvG,EAAA,IAAC2C,GAAA,CACC,GAAG,iBACH,YAAY,gDACZ,MAAOyD,EAAe,MACtB,SAAWxD,GAAMyD,EAAqB,QAASzD,EAAE,OAAO,KAAK,EAC7D,UAAU,MAAA,CAAA,CACZ,EACF,EAGCwD,EAAe,WAAa,WAC1BtG,EAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,KAAA,CAAG,UAAU,sCAAsC,SAAA,CAAA,iBAAcA,EAAAA,KAAC,OAAK,CAAA,UAAU,gCAAgC,SAAA,CAAA,YAAQyB,EAAAoL,GAAA,YAAAA,EAAe,iBAAf,YAAApL,EAAA,KAAAoL,KAAqC,MAAM,GAAA,CAAC,CAAA,CAAA,EAAO,EAC7K7M,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAAuG,EAAA,CAAM,QAAQ,cAAc,SAAW,cAAA,EACxCvG,EAAA,IAAC8F,EAAA,CACC,GAAG,cACH,KAAK,SACL,YAAY,eACZ,MAAOM,EAAe,OACtB,SAAWxD,GAAMyD,EAAqB,SAAUzD,EAAE,OAAO,KAAK,EAC9D,UAAU,OACV,IAAK,EACL,IAAK+J,GAAiB,MAAA,CACxB,EACCE,GACC/M,EAAA,KAAC,IAAE,CAAA,UAAU,4BAA4B,SAAA,CAAA,2BAAuB0B,EAAAmL,GAAA,YAAAA,EAAe,iBAAf,YAAAnL,EAAA,KAAAmL,KAAqC,MAAM,cAAA,CAAY,CAAA,CAAA,EAE3H,SACC,MACC,CAAA,SAAA,CAAC3M,EAAA,IAAAuG,EAAA,CAAM,QAAQ,YAAY,SAAa,gBAAA,EACxCvG,EAAA,IAAC8F,EAAA,CACC,GAAG,YACH,KAAK,SACL,YAAY,aACZ,MAAOM,EAAe,KACtB,SAAWxD,GAAMyD,EAAqB,OAAQzD,EAAE,OAAO,KAAK,EAC5D,UAAU,MAAA,CAAA,CACZ,EACF,SACC,MACC,CAAA,SAAA,CAAC5C,EAAA,IAAAuG,EAAA,CAAM,QAAQ,gBAAgB,SAAiB,oBAAA,EAChDvG,EAAA,IAAC8F,EAAA,CACC,GAAG,gBACH,KAAK,SACL,KAAK,MACL,YAAY,aACZ,MAAOM,EAAe,aACtB,SAAWxD,GAAMyD,EAAqB,eAAgBzD,EAAE,OAAO,KAAK,EACpE,UAAU,MAAA,CAAA,CACZ,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAIF9C,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAAAE,EAAA,IAAC6C,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMsJ,EAAqB,EAAK,EAC1C,SAAA,QAAA,CAED,EACArM,EAAA,KAAC+C,EAAA,CACC,KAAK,KACL,QAASuJ,EACT,UAAU,0BACV,SAAUS,EAEV,SAAA,CAAC7M,EAAAA,IAAA+C,GAAA,CAAK,UAAU,SAAU,CAAA,EAAE,eAAA,CAAA,CAAA,CAE9B,CACF,CAAA,CAAA,EACF,CAEJ,EChVMkK,GAAqB,CAAC,CAAE,aAAAC,EAAc,gBAAAC,EAAiB,MAAAnO,CAC3D,IAAAgB,EAAA,IAACoN,GAAA,CACC,KAAMF,EACN,SAAU,IAAMC,EAAgB,EAAK,EACrC,OAAQ,KACR,MACErN,EAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAACE,EAAAA,IAAAwE,GAAA,CAAS,UAAU,wBAAyB,CAAA,EAC7CxE,EAAAA,IAAC,QAAK,SAAiB,mBAAA,CAAA,CAAA,EACzB,EAEF,MAAO,IACP,gBAAe,GACf,UAAU,iBAEV,SAAAA,EAAA,IAACqN,GAAA,CACC,UAAYC,GAAa,CACvBH,EAAgB,EAAK,EACrBnO,GAASA,EAAM,CACb,MAAO,+BACP,YAAa,aAAYsO,GAAA,YAAAA,EAAU,QAAS,kBAAkB,uCAC9D,QAAS,UACT,SAAU,GAAA,CACX,CACH,EACA,QAAS,IAAMH,EAAgB,EAAK,EACpC,QAAS,EAAA,CAAA,CACX,CACF,EC7BF,IAAII,GAA0B,KAEvB,MAAMC,GAAc,MAAOC,EAAOC,EAAUpF,EAAYtJ,EAAO2O,EAAQC,IAAa,SACzF,GAAI,CAACH,EAAM,OAAQ,CACjBC,EAAS,CAAA,CAAE,EACX,MACJ,CACE,GAAI,CACFpF,EAAW,EAAI,EAEXiF,IACFA,GAAwB,MAAO,EAEjCA,GAA0B,IAAI,gBAC9B,MAAMxE,EAAW,MAAMC,EAAI,IACzB,oCAAoC,mBAAmByE,CAAK,CAAC,GAC7D,CAAE,OAAQF,GAAwB,MAAM,CACzC,EACKM,EAAY,MAAM,QAAQ9E,EAAS,KAAK,IAAI,EAAIA,EAAS,KAAK,KAAO,CAAE,EAC7E2E,EAASG,CAAS,CACnB,OAAQC,EAAK,CAEZ,IAAIA,GAAA,YAAAA,EAAK,QAAS,iBAAkBA,GAAA,YAAAA,EAAK,QAAS,kBAAmBA,GAAA,YAAAA,EAAK,WAAY,WACpF,OAEF,QAAQ,MAAM,yBAA0BA,CAAG,IACvCvM,EAAAuM,EAAI,WAAJ,YAAAvM,EAAc,UAAW,OAAOC,EAAAsM,EAAI,WAAJ,YAAAtM,EAAc,UAAW,KAC3DxC,EAAM,CACJ,MAAO,kBACP,YAAa,sBACb,QAAS,aACjB,CAAO,EACD2O,EAAQ,EACRC,EAAS,QAAQ,GAEjB5O,EAAM,CACJ,MAAO,QACP,YAAa,yBACb,QAAS,aACjB,CAAO,CAEP,QAAY,CACRsJ,EAAW,EAAK,CACpB,CACA,EAqCayF,GAAwB,MAAOC,EAAqBhP,IAAU,OACzE,GAAI,CAEF,MAAMiP,IAAY1M,GADD,MAAMyH,EAAI,IAAI,qCAAqC,GACzC,KAAK,OAAd,YAAAzH,EAAoB,YAAa,CAAE,EAC/C2M,EAAgBD,EAAU,OAAOE,GAAC,OAAI,QAAA5M,EAAA4M,EAAE,kBAAF,YAAA5M,EAAmB,YAAa,UAAS,EAAE,OACjF6M,EAAeH,EAAU,OAAOE,GAAC,OAAI,QAAA5M,EAAA4M,EAAE,kBAAF,YAAA5M,EAAmB,YAAa,SAAQ,EAAE,OAC/E8M,EAAgBJ,EAAU,OAAOE,GAAC,OAAI,QAAA5M,EAAA4M,EAAE,kBAAF,YAAA5M,EAAmB,YAAa,SAAQ,EAAE,OAEhF+M,EAAgB,CACpB,IAAKL,EAAU,OAAOE,GAAK,SAAC,SAAA3M,GAAAD,EAAA4M,EAAE,cAAF,YAAA5M,EAAe,OAAf,YAAAC,EAAqB,QAAS,IAAM,IAAG,EAAE,OACrE,OAAQyM,EAAU,OAAOE,GAAK,aAAC,SAAA3M,GAAAD,EAAA4M,EAAE,cAAF,YAAA5M,EAAe,OAAf,YAAAC,EAAqB,QAAS,IAAM,QAAQE,GAAAD,EAAA0M,EAAE,cAAF,YAAA1M,EAAe,OAAf,YAAAC,EAAqB,QAAS,GAAK,IAAG,EAAE,OACnH,KAAMuM,EAAU,OAAOE,YAAM,SAAA3M,GAAAD,EAAA4M,EAAE,cAAF,YAAA5M,EAAe,OAAf,YAAAC,EAAqB,QAAS,GAAK,IAAG,EAAE,MACtE,EAEDwM,EAAoB,CAClB,cAAeE,EACf,aAAcE,EACd,cAAeC,EACf,gBAAiB,IACjB,cAAAC,CACN,CAAK,CACF,MAAe,CACdN,EAAoB,CAClB,cAAe,EACf,aAAc,EACd,cAAe,EACf,gBAAiB,KACjB,cAAe,CAAE,IAAK,EAAG,OAAQ,EAAG,KAAM,CAAC,CACjD,CAAK,EACDhP,GAASA,EAAM,CACb,MAAO,QACP,YAAa,oCACb,QAAS,aACf,CAAK,CACL,CACA,EAEauP,GAAuB,SAAY,OAC9C,GAAI,CAEF,QAAOhN,GADU,MAAMyH,EAAI,IAAI,mCAAmC,GAClD,KAAK,OAAd,YAAAzH,EAAoB,YAAa,CAAE,CAC3C,MAAe,CACd,MAAO,CAAE,CACb,CACA,EAEaiN,GAAc,MAAO5K,EAAiB6K,IAAc,CAC/D,GAAI,CACF,MAAMrL,EAAS,CAAE,EACXsL,EAAgB9K,EAAgB,OAAOuK,GAAC,SAAK,SAAA3M,GAAAD,EAAA4M,EAAE,cAAF,YAAA5M,EAAe,OAAf,YAAAC,EAAqB,QAAS,GAAK,IAAG,EAAE,OACvFkN,EAAgB,GAClBtL,EAAO,KAAK,CACV,KAAM,WACN,MAAO,yBACP,YAAa,GAAGsL,CAAa,8CAC7B,KAAM,aACd,CAAO,EAEHD,EAAUrL,CAAM,CACjB,MAAe,CACdqL,EAAU,CAAA,CAAE,CAChB,CACA,ECpIA,IAAIE,GAAY,CAAC,SAAU,UAAU,EACjCC,GAAa,CAAC,UAAW,YAAa,YAAa,YAAY,EAC/DC,GAAY,CACd,YAAa,CAAC,OAAQ,WAAY,YAAa,WAAW,EAC1D,aAAc,CAAC,OAAQ,WAAY,YAAa,YAAY,EAC5D,cAAe,CAAC,OAAQ,WAAY,YAAa,WAAW,EAC5D,WAAY,CAAC,OAAQ,WAAY,UAAW,WAAW,CACzD,EACIC,GAAc,SACd,CAACC,GAAYC,GAAeC,EAAqB,EAAIC,GAAiBJ,EAAW,EACjF,CAACK,GAAqBC,EAAiB,EAAIC,GAAmBP,GAAa,CAC7EG,EACF,CAAC,EACG,CAACK,GAAgBC,EAAgB,EAAIJ,GAAoBL,EAAW,EACpEU,GAASC,EAAgB,WAC3B,CAACC,EAAOC,IAAiB,CACvB,KAAM,CACJ,KAAAC,EACA,IAAAC,EAAM,EACN,IAAAC,EAAM,IACN,KAAAC,EAAO,EACP,YAAAC,EAAc,aACd,SAAAC,EAAW,GACX,sBAAAC,EAAwB,EACxB,aAAAC,EAAe,CAACN,CAAG,EACnB,MAAApJ,EACA,cAAA2J,EAAgB,IAAM,CACrB,EACD,cAAAC,EAAgB,IAAM,CACrB,EACD,SAAAC,EAAW,GACX,KAAAC,EACA,GAAGC,CACT,EAAQd,EACEe,EAAYC,EAAAA,OAA6B,IAAI,GAAK,EAClDC,EAAwBD,EAAY,OAAC,CAAC,EAEtCE,EADeZ,IAAgB,aACIa,GAAmBC,GACtD,CAACC,EAAS,CAAA,EAAIC,CAAS,EAAIC,GAAqB,CACpD,KAAMxK,EACN,YAAa0J,EACb,SAAWe,GAAW,QAEpB3P,EADe,CAAC,GAAGkP,EAAU,OAAO,EAC7BE,EAAsB,OAAO,IAApC,MAAApP,EAAuC,QACvC6O,EAAcc,CAAM,CAC5B,CACA,CAAK,EACKC,EAA4BT,EAAY,OAACK,CAAM,EACrD,SAASK,EAAiBF,EAAQ,CAChC,MAAMG,EAAeC,GAAqBP,EAAQG,CAAM,EACxDK,EAAaL,EAAQG,CAAY,CACvC,CACI,SAASG,EAAgBN,EAAQ,CAC/BK,EAAaL,EAAQP,EAAsB,OAAO,CACxD,CACI,SAASc,GAAiB,CACxB,MAAMC,EAAYP,EAA0B,QAAQR,EAAsB,OAAO,EAC/DI,EAAOJ,EAAsB,OAAO,IACrBe,GACjBrB,EAAcU,CAAM,CAC1C,CACI,SAASQ,EAAaL,EAAQS,EAAS,CAAE,OAAAC,CAAM,EAAK,CAAE,OAAQ,IAAS,CACrE,MAAMC,EAAeC,GAAgB/B,CAAI,EACnCgC,GAAaC,GAAW,KAAK,OAAOd,EAASrB,GAAOE,CAAI,EAAIA,EAAOF,EAAKgC,CAAY,EACpFI,GAAYC,GAAMH,GAAY,CAAClC,EAAKC,CAAG,CAAC,EAC9CkB,EAAU,CAACmB,GAAa,KAAO,CAC7B,MAAMC,GAAaC,GAAoBF,GAAYF,GAAWN,CAAO,EACrE,GAAIW,GAAyBF,GAAYlC,EAAwBH,CAAI,EAAG,CACtEY,EAAsB,QAAUyB,GAAW,QAAQH,EAAS,EAC5D,MAAMM,GAAa,OAAOH,EAAU,IAAM,OAAOD,EAAU,EAC3D,OAAII,IAAcX,GAAQvB,EAAc+B,EAAU,EAC3CG,GAAaH,GAAaD,EAC3C,KACU,QAAOA,EAEjB,CAAO,CACP,CACI,OAAuBnS,EAAG,IACxBsP,GACA,CACE,MAAOI,EAAM,cACb,KAAAE,EACA,SAAAK,EACA,IAAAJ,EACA,IAAAC,EACA,sBAAAa,EACA,OAAQF,EAAU,QAClB,OAAAM,EACA,YAAAf,EACA,KAAAO,EACA,SAA0BvQ,EAAG,IAAC+O,GAAW,SAAU,CAAE,MAAOW,EAAM,cAAe,SAA0B1P,EAAAA,IAAI+O,GAAW,KAAM,CAAE,MAAOW,EAAM,cAAe,SAA0B1P,EAAG,IACzL4Q,EACA,CACE,gBAAiBX,EACjB,gBAAiBA,EAAW,GAAK,OACjC,GAAGO,EACH,IAAKb,EACL,cAAe6C,GAAqBhC,EAAY,cAAe,IAAM,CAC9DP,IAAUkB,EAA0B,QAAUJ,EACjE,CAAa,EACD,IAAAlB,EACA,IAAAC,EACA,SAAAQ,EACA,aAAcL,EAAW,OAASmB,EAClC,YAAanB,EAAW,OAASuB,EACjC,WAAYvB,EAAW,OAASwB,EAChC,cAAe,IAAM,CAACxB,GAAYsB,EAAa1B,EAAK,EAAG,CAAE,OAAQ,GAAM,EACvE,aAAc,IAAM,CAACI,GAAYsB,EAAazB,EAAKiB,EAAO,OAAS,EAAG,CAAE,OAAQ,EAAI,CAAE,EACtF,cAAe,CAAC,CAAE,MAAA0B,EAAO,UAAWC,CAAa,IAAO,CACtD,GAAI,CAACzC,EAAU,CAGb,MAAM0C,GAFYhE,GAAU,SAAS8D,EAAM,GAAG,GACfA,EAAM,UAAY7D,GAAW,SAAS6D,EAAM,GAAG,EAC/C,GAAK,EAC9Bd,GAAUhB,EAAsB,QAChCO,GAASH,EAAOY,EAAO,EACvBiB,GAAkB7C,EAAO4C,GAAaD,EAC5CnB,EAAaL,GAAS0B,GAAiBjB,GAAS,CAAE,OAAQ,GAAM,CAChF,CACA,CACA,CACS,CAAA,CAAE,CAAG,CAAA,CACd,CACK,CACL,CACA,EACAnC,GAAO,YAAcV,GACrB,GAAI,CAAC+D,GAA2BC,EAA2B,EAAI3D,GAAoBL,GAAa,CAC9F,UAAW,OACX,QAAS,QACT,KAAM,QACN,UAAW,CACb,CAAC,EACG+B,GAAmBpB,EAAgB,WACrC,CAACC,EAAOC,IAAiB,CACvB,KAAM,CACJ,IAAAE,EACA,IAAAC,EACA,IAAAiD,EACA,SAAAzC,EACA,aAAA0C,EACA,YAAAC,EACA,WAAAC,EACA,cAAAC,EACA,GAAG3C,CACT,EAAQd,EACE,CAAC0D,EAAQC,CAAS,EAAIC,EAAAA,SAAe,IAAI,EACzCC,EAAeC,GAAgB7D,EAAe8D,GAASJ,EAAUI,CAAI,CAAC,EACtEC,EAAUhD,EAAY,OAAC,MAAM,EAC7BiD,EAAYC,GAAab,CAAG,EAC5Bc,EAAiBF,IAAc,MAC/BG,EAAoBD,GAAkB,CAACvD,GAAY,CAACuD,GAAkBvD,EAC5E,SAASyD,EAAoBC,EAAiB,CAC5C,MAAMC,EAAOP,EAAQ,SAAWN,EAAO,sBAAuB,EACxDc,EAAQ,CAAC,EAAGD,EAAK,KAAK,EAEtBxN,EAAQ0N,GAAYD,EADXJ,EAAoB,CAACjE,EAAKC,CAAG,EAAI,CAACA,EAAKD,CAAG,CAClB,EACvC,OAAA6D,EAAQ,QAAUO,EACXxN,EAAMuN,EAAkBC,EAAK,IAAI,CAC9C,CACI,OAAuBjU,EAAG,IACxB6S,GACA,CACE,MAAOnD,EAAM,cACb,UAAWoE,EAAoB,OAAS,QACxC,QAASA,EAAoB,QAAU,OACvC,UAAWA,EAAoB,EAAI,GACnC,KAAM,QACN,SAA0B9T,EAAG,IAC3BoU,GACA,CACE,IAAKT,EACL,mBAAoB,aACpB,GAAGnD,EACH,IAAK+C,EACL,MAAO,CACL,GAAG/C,EAAY,MACd,iCAAmC,kBACrC,EACD,aAAeiC,GAAU,CACvB,MAAMhM,EAAQsN,EAAoBtB,EAAM,OAAO,EAC/CO,GAAA,MAAAA,EAAevM,EAChB,EACD,YAAcgM,GAAU,CACtB,MAAMhM,EAAQsN,EAAoBtB,EAAM,OAAO,EAC/CQ,GAAA,MAAAA,EAAcxM,EACf,EACD,WAAY,IAAM,CAChBiN,EAAQ,QAAU,OAClBR,GAAA,MAAAA,GACD,EACD,cAAgBT,GAAU,CAExB,MAAM4B,EAAYxF,GADKiF,EAAoB,YAAc,YACf,EAAE,SAASrB,EAAM,GAAG,EAC9DU,GAAA,MAAAA,EAAgB,CAAE,MAAAV,EAAO,UAAW4B,EAAY,GAAK,GACnE,CACA,CACA,CACA,CACK,CACL,CACA,EACIvD,GAAiBrB,EAAgB,WACnC,CAACC,EAAOC,IAAiB,CACvB,KAAM,CACJ,IAAAE,EACA,IAAAC,EACA,SAAAQ,EACA,aAAA0C,EACA,YAAAC,EACA,WAAAC,EACA,cAAAC,EACA,GAAG3C,CACT,EAAQd,EACE4E,EAAY5D,EAAY,OAAC,IAAI,EAC7B6D,EAAMf,GAAgB7D,EAAc2E,CAAS,EAC7CZ,EAAUhD,EAAY,OAAC,MAAM,EAC7B8D,EAAsB,CAAClE,EAC7B,SAASyD,EAAoBC,EAAiB,CAC5C,MAAMC,EAAOP,EAAQ,SAAWY,EAAU,QAAQ,sBAAuB,EACnEJ,EAAQ,CAAC,EAAGD,EAAK,MAAM,EAEvBxN,EAAQ0N,GAAYD,EADXM,EAAsB,CAAC1E,EAAKD,CAAG,EAAI,CAACA,EAAKC,CAAG,CACpB,EACvC,OAAA4D,EAAQ,QAAUO,EACXxN,EAAMuN,EAAkBC,EAAK,GAAG,CAC7C,CACI,OAAuBjU,EAAG,IACxB6S,GACA,CACE,MAAOnD,EAAM,cACb,UAAW8E,EAAsB,SAAW,MAC5C,QAASA,EAAsB,MAAQ,SACvC,KAAM,SACN,UAAWA,EAAsB,EAAI,GACrC,SAA0BxU,EAAG,IAC3BoU,GACA,CACE,mBAAoB,WACpB,GAAG5D,EACH,IAAA+D,EACA,MAAO,CACL,GAAG/D,EAAY,MACd,iCAAmC,iBACrC,EACD,aAAeiC,GAAU,CACvB,MAAMhM,EAAQsN,EAAoBtB,EAAM,OAAO,EAC/CO,GAAA,MAAAA,EAAevM,EAChB,EACD,YAAcgM,GAAU,CACtB,MAAMhM,EAAQsN,EAAoBtB,EAAM,OAAO,EAC/CQ,GAAA,MAAAA,EAAcxM,EACf,EACD,WAAY,IAAM,CAChBiN,EAAQ,QAAU,OAClBR,GAAA,MAAAA,GACD,EACD,cAAgBT,GAAU,CAExB,MAAM4B,EAAYxF,GADK2F,EAAsB,cAAgB,UACnB,EAAE,SAAS/B,EAAM,GAAG,EAC9DU,GAAA,MAAAA,EAAgB,CAAE,MAAAV,EAAO,UAAW4B,EAAY,GAAK,GACnE,CACA,CACA,CACA,CACK,CACL,CACA,EACID,GAAa3E,EAAgB,WAC/B,CAACC,EAAOC,IAAiB,CACvB,KAAM,CACJ,cAAA8E,EACA,aAAAzB,EACA,YAAAC,EACA,WAAAC,EACA,cAAAwB,EACA,aAAAC,EACA,cAAAxB,EACA,GAAG3C,CACT,EAAQd,EACEkF,EAAUrF,GAAiBT,GAAa2F,CAAa,EAC3D,OAAuBzU,EAAG,IACxB6U,GAAU,KACV,CACE,GAAGrE,EACH,IAAKb,EACL,UAAW6C,GAAqB9C,EAAM,UAAY+C,GAAU,CACtDA,EAAM,MAAQ,QAChBiC,EAAcjC,CAAK,EACnBA,EAAM,eAAgB,GACbA,EAAM,MAAQ,OACvBkC,EAAalC,CAAK,EAClBA,EAAM,eAAgB,GACb9D,GAAU,OAAOC,EAAU,EAAE,SAAS6D,EAAM,GAAG,IACxDU,EAAcV,CAAK,EACnBA,EAAM,eAAgB,EAElC,CAAS,EACD,cAAeD,GAAqB9C,EAAM,cAAgB+C,GAAU,CAClE,MAAMqC,EAASrC,EAAM,OACrBqC,EAAO,kBAAkBrC,EAAM,SAAS,EACxCA,EAAM,eAAgB,EAClBmC,EAAQ,OAAO,IAAIE,CAAM,EAC3BA,EAAO,MAAO,EAEd9B,EAAaP,CAAK,CAE9B,CAAS,EACD,cAAeD,GAAqB9C,EAAM,cAAgB+C,GAAU,CACnDA,EAAM,OACV,kBAAkBA,EAAM,SAAS,GAAGQ,EAAYR,CAAK,CAC1E,CAAS,EACD,YAAaD,GAAqB9C,EAAM,YAAc+C,GAAU,CAC9D,MAAMqC,EAASrC,EAAM,OACjBqC,EAAO,kBAAkBrC,EAAM,SAAS,IAC1CqC,EAAO,sBAAsBrC,EAAM,SAAS,EAC5CS,EAAWT,CAAK,EAEnB,CAAA,CACT,CACK,CACL,CACA,EACIsC,GAAa,cACbC,GAAcvF,EAAgB,WAChC,CAACC,EAAOC,IAAiB,CACvB,KAAM,CAAE,cAAA8E,EAAe,GAAGQ,CAAU,EAAKvF,EACnCkF,EAAUrF,GAAiBwF,GAAYN,CAAa,EAC1D,OAAuBzU,EAAG,IACxB6U,GAAU,KACV,CACE,gBAAiBD,EAAQ,SAAW,GAAK,OACzC,mBAAoBA,EAAQ,YAC5B,GAAGK,EACH,IAAKtF,CACb,CACK,CACL,CACA,EACAqF,GAAY,YAAcD,GAC1B,IAAIG,GAAa,cACbC,GAAc1F,EAAgB,WAChC,CAACC,EAAOC,IAAiB,CACvB,KAAM,CAAE,cAAA8E,EAAe,GAAGW,CAAU,EAAK1F,EACnCkF,EAAUrF,GAAiB2F,GAAYT,CAAa,EACpDzE,EAAc8C,GAA4BoC,GAAYT,CAAa,EACnEF,EAAM7D,EAAY,OAAC,IAAI,EACvB6C,EAAeC,GAAgB7D,EAAc4E,CAAG,EAChDc,EAAcT,EAAQ,OAAO,OAC7BU,EAAcV,EAAQ,OAAO,IAChCnO,GAAU8O,GAAyB9O,EAAOmO,EAAQ,IAAKA,EAAQ,GAAG,CACpE,EACKY,EAAcH,EAAc,EAAI,KAAK,IAAI,GAAGC,CAAW,EAAI,EAC3DG,EAAY,IAAM,KAAK,IAAI,GAAGH,CAAW,EAC/C,OAAuBtV,EAAG,IACxB6U,GAAU,KACV,CACE,mBAAoBD,EAAQ,YAC5B,gBAAiBA,EAAQ,SAAW,GAAK,OACzC,GAAGQ,EACH,IAAK7B,EACL,MAAO,CACL,GAAG7D,EAAM,MACT,CAACM,EAAY,SAAS,EAAGwF,EAAc,IACvC,CAACxF,EAAY,OAAO,EAAGyF,EAAY,GAC7C,CACA,CACK,CACL,CACA,EACAN,GAAY,YAAcD,GAC1B,IAAIQ,GAAa,cACbC,GAAclG,EAAgB,WAChC,CAACC,EAAOC,IAAiB,CACvB,MAAMiG,EAAW5G,GAAcU,EAAM,aAAa,EAC5C,CAACmG,EAAOC,CAAQ,EAAIxC,EAAAA,SAAe,IAAI,EACvCC,EAAeC,GAAgB7D,EAAe8D,GAASqC,EAASrC,CAAI,CAAC,EACrEzR,EAAQ+T,EAAa,QACzB,IAAMF,EAAQD,IAAW,UAAWI,GAASA,EAAK,IAAI,UAAYH,CAAK,EAAI,GAC3E,CAACD,EAAUC,CAAK,CACjB,EACD,OAAuB7V,EAAAA,IAAIiW,GAAiB,CAAE,GAAGvG,EAAO,IAAK6D,EAAc,MAAAvR,EAAO,CACtF,CACA,EACIiU,GAAkBxG,EAAgB,WACpC,CAACC,EAAOC,IAAiB,CACvB,KAAM,CAAE,cAAA8E,EAAe,MAAAzS,EAAO,KAAA4N,EAAM,GAAGsG,CAAY,EAAGxG,EAChDkF,EAAUrF,GAAiBmG,GAAYjB,CAAa,EACpDzE,EAAc8C,GAA4B4C,GAAYjB,CAAa,EACnE,CAACoB,EAAOC,CAAQ,EAAIxC,EAAAA,SAAe,IAAI,EACvCC,EAAeC,GAAgB7D,EAAe8D,GAASqC,EAASrC,CAAI,CAAC,EACrE0C,EAAgBN,EAAQjB,EAAQ,MAAQ,CAAC,CAACiB,EAAM,QAAQ,MAAM,EAAI,GAClErS,EAAO4S,GAAQP,CAAK,EACpBpP,EAAQmO,EAAQ,OAAO5S,CAAK,EAC5BqU,EAAU5P,IAAU,OAAS,EAAI8O,GAAyB9O,EAAOmO,EAAQ,IAAKA,EAAQ,GAAG,EACzF0B,EAAQC,GAASvU,EAAO4S,EAAQ,OAAO,MAAM,EAC7C4B,EAAkBhT,GAAA,YAAAA,EAAOwM,EAAY,MACrCyG,EAAsBD,EAAkBE,GAAuBF,EAAiBH,EAASrG,EAAY,SAAS,EAAI,EACxH2G,OAAAA,EAAAA,UAAgB,IAAM,CACpB,GAAId,EACF,OAAAjB,EAAQ,OAAO,IAAIiB,CAAK,EACjB,IAAM,CACXjB,EAAQ,OAAO,OAAOiB,CAAK,CAC5B,CAEJ,EAAE,CAACA,EAAOjB,EAAQ,MAAM,CAAC,EACH9U,EAAI,KACzB,OACA,CACE,MAAO,CACL,UAAW,sCACX,SAAU,WACV,CAACkQ,EAAY,SAAS,EAAG,QAAQqG,CAAO,OAAOI,CAAmB,KACnE,EACD,SAAU,CACQzW,EAAG,IAAC+O,GAAW,SAAU,CAAE,MAAOW,EAAM,cAAe,SAA0B1P,EAAG,IAClG6U,GAAU,KACV,CACE,KAAM,SACN,aAAcnF,EAAM,YAAY,GAAK4G,EACrC,gBAAiB1B,EAAQ,IACzB,gBAAiBnO,EACjB,gBAAiBmO,EAAQ,IACzB,mBAAoBA,EAAQ,YAC5B,mBAAoBA,EAAQ,YAC5B,gBAAiBA,EAAQ,SAAW,GAAK,OACzC,SAAUA,EAAQ,SAAW,OAAS,EACtC,GAAGsB,EACH,IAAK3C,EACL,MAAO9M,IAAU,OAAS,CAAE,QAAS,MAAM,EAAKiJ,EAAM,MACtD,QAAS8C,GAAqB9C,EAAM,QAAS,IAAM,CACjDkF,EAAQ,sBAAsB,QAAU5S,CACzC,CAAA,CACf,CACA,EAAa,EACHmU,GAAiCnW,EAAG,IAClC4W,GACA,CACE,KAAMhH,IAASgF,EAAQ,KAAOA,EAAQ,MAAQA,EAAQ,OAAO,OAAS,EAAI,KAAO,IAAM,QACvF,KAAMA,EAAQ,KACd,MAAAnO,CACD,EACDzE,CACZ,CACA,CACA,CACK,CACL,CACA,EACA2T,GAAY,YAAcD,GAC1B,IAAImB,GAAoB,mBACpBD,GAAoBnH,EAAgB,WACtC,CAAC,CAAE,cAAAgF,EAAe,MAAAhO,EAAO,GAAGiJ,CAAK,EAAIC,IAAiB,CACpD,MAAM4E,EAAM7D,EAAY,OAAC,IAAI,EACvB6C,EAAeC,GAAgBe,EAAK5E,CAAY,EAChD+B,EAAYoF,GAAYrQ,CAAK,EACnCkQ,OAAAA,EAAAA,UAAgB,IAAM,CACpB,MAAMzC,EAAQK,EAAI,QAClB,GAAI,CAACL,EAAO,OACZ,MAAM6C,EAAa,OAAO,iBAAiB,UAErCC,EADa,OAAO,yBAAyBD,EAAY,OAAO,EAC1C,IAC5B,GAAIrF,IAAcjL,GAASuQ,EAAU,CACnC,MAAMvE,EAAQ,IAAI,MAAM,QAAS,CAAE,QAAS,GAAM,EAClDuE,EAAS,KAAK9C,EAAOzN,CAAK,EAC1ByN,EAAM,cAAczB,CAAK,CACjC,CACA,EAAO,CAACf,EAAWjL,CAAK,CAAC,EACEzG,EAAG,IACxB6U,GAAU,MACV,CACE,MAAO,CAAE,QAAS,MAAQ,EAC1B,GAAGnF,EACH,IAAK6D,EACL,aAAc9M,CACtB,CACK,CACL,CACA,EACAmQ,GAAkB,YAAcC,GAChC,SAASxE,GAAoBF,EAAa,GAAIF,EAAWN,EAAS,CAChE,MAAMS,EAAa,CAAC,GAAGD,CAAU,EACjC,OAAAC,EAAWT,CAAO,EAAIM,EACfG,EAAW,KAAK,CAAC6E,EAAGC,IAAMD,EAAIC,CAAC,CACxC,CACA,SAAS3B,GAAyB9O,EAAOoJ,EAAKC,EAAK,CAGjD,MAAMqH,EADiB,KADNrH,EAAMD,IAEcpJ,EAAQoJ,GAC7C,OAAOqC,GAAMiF,EAAY,CAAC,EAAG,GAAG,CAAC,CACnC,CACA,SAASZ,GAASvU,EAAOoV,EAAa,CACpC,OAAIA,EAAc,EACT,SAASpV,EAAQ,CAAC,OAAOoV,CAAW,GAClCA,IAAgB,EAClB,CAAC,UAAW,SAAS,EAAEpV,CAAK,EAEnC,MAEJ,CACA,SAASsP,GAAqBP,EAAQkB,EAAW,CAC/C,GAAIlB,EAAO,SAAW,EAAG,MAAO,GAChC,MAAMsG,EAAYtG,EAAO,IAAKtK,GAAU,KAAK,IAAIA,EAAQwL,CAAS,CAAC,EAC7DqF,EAAkB,KAAK,IAAI,GAAGD,CAAS,EAC7C,OAAOA,EAAU,QAAQC,CAAe,CAC1C,CACA,SAASZ,GAAuBa,EAAOC,EAAM7D,EAAW,CACtD,MAAM8D,EAAYF,EAAQ,EAEpBG,EAASvD,GAAY,CAAC,EADR,EACsB,EAAG,CAAC,EAAGsD,CAAS,CAAC,EAC3D,OAAQA,EAAYC,EAAOF,CAAI,EAAI7D,GAAaA,CAClD,CACA,SAASgE,GAAsB5G,EAAQ,CACrC,OAAOA,EAAO,MAAM,EAAG,EAAE,EAAE,IAAI,CAACtK,EAAOzE,IAAU+O,EAAO/O,EAAQ,CAAC,EAAIyE,CAAK,CAC5E,CACA,SAAS6L,GAAyBvB,EAAQ6G,EAAuB,CAC/D,GAAIA,EAAwB,EAAG,CAC7B,MAAMC,EAAqBF,GAAsB5G,CAAM,EAEvD,OADoC,KAAK,IAAI,GAAG8G,CAAkB,GAC5BD,CAC1C,CACE,MAAO,EACT,CACA,SAASzD,GAAYD,EAAO4D,EAAQ,CAClC,OAAQrR,GAAU,CAChB,GAAIyN,EAAM,CAAC,IAAMA,EAAM,CAAC,GAAK4D,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAG,OAAOA,EAAO,CAAC,EACrE,MAAMC,GAASD,EAAO,CAAC,EAAIA,EAAO,CAAC,IAAM5D,EAAM,CAAC,EAAIA,EAAM,CAAC,GAC3D,OAAO4D,EAAO,CAAC,EAAIC,GAAStR,EAAQyN,EAAM,CAAC,EAC5C,CACH,CACA,SAASpC,GAAgBrL,EAAO,CAC9B,OAAQ,OAAOA,CAAK,EAAE,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,MAC7C,CACA,SAASuL,GAAWvL,EAAOoL,EAAc,CACvC,MAAMmG,EAAU,KAAK,IAAI,GAAInG,CAAY,EACzC,OAAO,KAAK,MAAMpL,EAAQuR,CAAO,EAAIA,CACvC,CACA,IAAIC,GAAOzI,GACP0I,GAAQlD,GACRmD,GAAQhD,GACRiD,GAAQzC,GCliBZ,MAAMnG,GAASC,EAAiB,WAAA,CAAC,CAAE,UAAA4I,EAAW,GAAG3I,CAAM,EAAG6E,IACxDzU,EAAA,KAACwY,GAAA,CACC,IAAA/D,EACA,UAAWgE,GACT,2DACAF,CACF,EACC,GAAG3I,EAEJ,SAAA,CAAC1P,EAAAA,IAAAwY,GAAA,CAAsB,UAAU,qEAC/B,SAACxY,MAAAyY,GAAA,CAAsB,UAAU,4BAAA,CAA6B,CAChE,CAAA,EACAzY,EAAA,IAAC0Y,GAAA,CACC,UAAWH,GACT,4GACA,sGACA,kDAAA,CACF,CAAA,CACF,CAAA,CACF,CACD,EACD/I,GAAO,YAAc8I,GAAqB,YCtB1C,MAAMK,GAAmB,CAAC,CAAE,eAAAzS,EAAgB,aAAA0S,EAAc,kBAAAC,EAAmB,kBAAAC,EAAmB,mBAAAC,EAAoB,oBAAApZ,CAAoB,IAAA,iCACrIG,OAAAA,EAAA,KAAAoB,EAAA,CAAK,UAAU,2JACd,SAAA,CAAAlB,EAAAA,IAACmB,GAAW,UAAU,0GACpB,SAACrB,EAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,0EACb,eAACgZ,GAAK,CAAA,UAAU,kCAAkC,CACpD,CAAA,SACC,MACC,CAAA,SAAA,CAAChZ,EAAA,IAAAoB,EAAA,CAAU,UAAU,qGAAqG,SAE1H,oBAAA,EACCpB,EAAA,IAAA,IAAA,CAAE,UAAU,qCAAqC,SAAsC,wCAAA,CAAA,CAAA,CAC1F,CAAA,CAAA,EACF,EACAA,EAAA,IAAC6C,EAAA,CACC,QAAQ,UACR,QAASgW,EACT,UAAU,4HACX,SAAA,mBAAA,CAAA,CAED,CAAA,CACF,CACF,CAAA,EACA7Y,EAAAA,IAACsB,GAAY,UAAU,MACpB,WACExB,EAAAA,KAAA,MAAA,CAAI,UAAU,kDACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,WACb,SAAA,CAACE,EAAAA,IAAA+F,GAAA,CAAQ,UAAU,qCAAsC,CAAA,EACzD/F,EAAAA,IAAC,MAAI,CAAA,UAAU,qDAAsD,CAAA,CAAA,EACvE,EACCA,EAAA,IAAA,IAAA,CAAE,UAAU,yCAAyC,SAAwB,0BAAA,CAAA,CAChF,CAAA,CAAA,EACEkG,EAGApG,EAAA,KAAAmZ,EAAA,SAAA,CAAA,SAAA,CAAAjZ,EAAAA,IAAC,OAAI,UAAU,8FACb,SAACF,EAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,WACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,mHACb,eAACgZ,GAAK,CAAA,UAAU,oCAAoC,CACtD,CAAA,EACAhZ,EAAAA,IAAC,OAAI,UAAU,gJACb,eAACsG,GAAO,CAAA,UAAU,oBAAqB,CAAA,CACzC,CAAA,CAAA,EACF,EACAxG,EAAAA,KAAC,MAAI,CAAA,UAAU,SACb,SAAA,CAAAE,MAAC,KAAG,CAAA,UAAU,qCAAsC,UAAA4Y,GAAA,YAAAA,EAAc,OAAQ,MAAM,QAC/E,IAAE,CAAA,UAAU,gCAAiC,UAAAA,GAAA,YAAAA,EAAc,QAAS,MAAM,EAC3E5Y,EAAAA,IAAC,MAAI,CAAA,UAAU,OACZ,SAAAL,IAAoB4B,EAAA2E,EAAe,kBAAf,YAAA3E,EAAgC,WAAY,SAAU,OAAO,CACpF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAEAzB,EAAAA,KAAC,MAAI,CAAA,UAAU,yCAEb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,gBACb,SAACF,EAAA,KAAAoB,EAAA,CAAK,UAAU,uIACd,SAAA,CAAAlB,EAAAA,IAACmB,GAAW,UAAU,mBACpB,SAACrB,EAAA,KAAAsB,EAAA,CAAU,UAAU,iDACnB,SAAA,CAACpB,EAAAA,IAAAuF,GAAA,CAAW,UAAU,sBAAuB,CAAA,EAAE,cAAA,CAAA,CAEjD,CACF,CAAA,EACAvF,EAAAA,IAACsB,GAAY,UAAU,mBACrB,eAAC,MAAI,CAAA,UAAU,6BACX,UAAM,IAAA,SACN,MAAM4X,IAAQ1X,GAAAD,EAAA2E,EAAe,cAAf,YAAA3E,EAA4B,OAA5B,YAAAC,EAAkC,QAAS0E,EAAe,cAAgB,KACxF,IAAIiT,EAAU,2CACVC,EAAY,wBACZC,EAAS,MACTC,EAAY,gBAEZ,OAAA,OAAOJ,GAAU,WACfA,GAAS,KACDC,EAAA,oDACEC,EAAA,aACHC,EAAA,YACGC,EAAA,oBAELJ,GAAS,KACNC,EAAA,8CACEC,EAAA,aACHC,EAAA,OACGC,EAAA,iBAELJ,GAAS,KACNC,EAAA,gDACEC,EAAA,aACHC,EAAA,OACGC,EAAA,mBAGFH,EAAA,4CACEC,EAAA,aACHC,EAAA,OACGC,EAAA,iBAMZxZ,EAAA,KAAAmZ,WAAA,CAAA,SAAA,CAAAnZ,EAAAA,KAAC,OAAI,UAAW,sBAAsBqZ,CAAO,mEAAmEG,CAAS,yDACvH,SAAA,CAACtZ,EAAAA,IAAA,OAAA,CAAK,UAAW,sBAAsBoZ,CAAS,GAC7C,SAAUF,IAAA,KAAOA,EAAQ,KAC5B,CAAA,EACAlZ,EAAAA,IAAC,MAAI,CAAA,UAAU,mDAAoD,CAAA,CAAA,EACrE,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,iBACb,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,oCAAqC,SAAOqZ,EAAA,EAC3DvZ,EAAAA,KAAC,MAAI,CAAA,UAAU,oEAAoE,SAAA,CAAA,WACxEoG,EAAe,SAAW,UAAY,WAAaA,EAAe,SAAW,mBAAqB,WAAcA,EAAe,QAAU,UACjJA,EAAe,eACbpG,OAAA,OAAA,CAAK,UAAU,sEAAsE,SAAA,CAAA,IAClFoG,EAAe,aAAA,CACnB,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ,GAAA,CACF,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,QAGC,MAAI,CAAA,UAAU,gBACb,SAACpG,EAAA,KAAAoB,EAAA,CAAK,UAAU,8FACd,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAACsB,EAAU,CAAA,UAAU,0BACnB,SAAA,CAACpB,EAAAA,IAAAsG,GAAA,CAAO,UAAU,sBAAuB,CAAA,EAAE,iBAAA,CAAA,CAE7C,CACF,CAAA,EACCtG,MAAAsB,EAAA,CACC,SAACtB,EAAAA,IAAA,MAAA,CAAI,UAAU,yBACZ,SAAA,CACC,CACE,MAAO,YACP,QAAOwB,EAAA0E,EAAe,kBAAf,YAAA1E,EAAgC,kBAAiBC,EAAAyE,EAAe,kBAAf,YAAAzE,EAAgC,WAAY,MACpG,KAAM,MACR,EACA,CACE,MAAO,eACP,QAAOC,EAAAwE,EAAe,kBAAf,YAAAxE,EAAgC,sBAAuB,MAC9D,KAAM,MACR,EACA,CACE,MAAO,iBACP,QAAOC,EAAAuE,EAAe,kBAAf,YAAAvE,EAAgC,iBAAkB,MACzD,KAAM,gBACR,EACA,CACE,MAAO,YACP,OAAQ,IAAM,WACZ,MAAM4X,IAAOhY,EAAA2E,EAAe,kBAAf,YAAA3E,EAAgC,QAAOC,EAAA0E,EAAe,cAAf,YAAA1E,EAA4B,WAAY0E,EAAe,IACrGsT,EAAoBxR,GACpB,OAAOA,GAAM,SAAiB,MAC9BA,EAAI,IAAa,YACjBA,EAAI,IAAa,OACjBA,EAAI,IAAa,OACd,OAEHyR,IAAYhY,EAAAyE,EAAe,kBAAf,YAAAzE,EAAgC,YAAa+X,EAAiBD,CAAG,EAC/E,OAAA,OAAOA,GAAQ,SACV,IAAIA,EAAM,KAAK,QAAQ,CAAC,CAAC,MAAME,CAAS,IAE1C,KAAA,GACN,EACH,KAAM,KAAA,CACR,EACA,IAAI,CAACzD,EAAMhU,IACVlC,EAAAA,KAAA,MAAA,CAAgB,UAAU,sIACzB,SAAA,CAAAE,EAAA,IAAC,MAAI,CAAA,UAAU,iDAAkD,SAAAgW,EAAK,MAAM,EAC3EhW,EAAA,IAAA,MAAA,CAAI,UAAU,0BACX,UAAM,IAAA,CACN,IAAI0Z,EAAa,gEACbC,EAAO,KAEX,OAAI3D,EAAK,OAAS,QAAUA,EAAK,QAAU,YAC5B0D,EAAA,sDACNC,EAAA3Z,EAAAA,IAAC4Z,GAAa,CAAA,UAAU,SAAU,CAAA,GAChC5D,EAAK,OAAS,QAAUA,EAAK,QAAU,QACnC0D,EAAA,sDACNC,EAAA3Z,EAAAA,IAAC4Z,GAAa,CAAA,UAAU,SAAU,CAAA,GAChC5D,EAAK,OAAS,kBAAoBA,EAAK,QAAU,QAC7C0D,EAAA,8DACNC,EAAA3Z,EAAAA,IAACiI,GAAW,CAAA,UAAU,SAAU,CAAA,GAC9B+N,EAAK,OAAS,OAASA,EAAK,QAAU,QAClC0D,EAAA,8DACNC,EAAA3Z,EAAAA,IAAC6Z,GAAO,CAAA,UAAU,SAAU,CAAA,GAIlC/Z,EAAA,KAAA,OAAA,CAAK,UAAW,uFAAuF4Z,CAAU,GAC/G,SAAA,CAAAC,EACA3D,EAAK,KAAA,EACR,CAAA,IAGN,CAAA,CAAA,GA5BQhU,CA6BV,CACD,CAAA,CACH,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,EAGAlC,EAAAA,KAAC,MAAI,CAAA,UAAU,OACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+BACb,SAAA,CAACE,EAAAA,IAAAiC,GAAA,CAAW,UAAU,sBAAuB,CAAA,EAC5CjC,EAAA,IAAA,KAAA,CAAG,UAAU,oCAAoC,SAAiB,mBAAA,CAAA,CAAA,EACrE,EACAA,EAAAA,IAAC,MAAI,CAAA,UAAU,sEACZ,SAAA,CACC,CAAE,MAAO,iBAAkB,MAAOkG,EAAe,gBAAkB,QAAaA,EAAe,gBAAkB,KAAO,IAAIA,EAAe,cAAc,eAAA,CAAgB,GAAK,MAAO,SAAU,GAAM,KAAMjE,GAAY,MAAO,SAAU,EACxO,CAAE,MAAO,aAAc,MAAOiE,EAAe,YAAc,QAAaA,EAAe,YAAc,KAAO,IAAIA,EAAe,UAAU,gBAAgB,GAAK,MAAO,KAAMX,GAAY,MAAO,KAAM,EACpM,CAAE,MAAO,YAAa,MAAO,OAAOW,EAAe,KAAQ,UAAY,CAAC,MAAMA,EAAe,GAAG,EAAI,IAAIA,EAAe,IAAM,KAAK,QAAQ,CAAC,CAAC,IAAM,MAAO,KAAM2T,GAAQ,MAAO,MAAO,EACrL,CAAE,MAAO,kBAAmB,QAAOjY,EAAAsE,EAAe,kBAAf,YAAAtE,EAAgC,iBAAkB,UAAaC,EAAAqE,EAAe,kBAAf,YAAArE,EAAgC,iBAAkB,KAAQqE,EAAe,gBAAgB,cAAgB,EAAI,IAAIA,EAAe,gBAAgB,cAAc,eAAA,CAAgB,GAAK,eAAkB,MAAO,UAAW,GAAM,KAAM2T,GAAQ,MAAO,SAAU,EAC9V,CAAE,MAAO,iBAAkB,QAAO/X,EAAAoE,EAAe,kBAAf,YAAApE,EAAgC,yBAA0B,UAAaO,EAAA6D,EAAe,kBAAf,YAAA7D,EAAgC,yBAA0B,KAAO6D,EAAe,gBAAgB,sBAAwB,MAAO,UAAW,GAAM,KAAM+B,GAAY,MAAO,SAAU,EAC5R,CAAE,MAAO,kBAAmB,MAAO/B,EAAe,uBAAyB,QAAaA,EAAe,uBAAyB,KAAOA,EAAe,qBAAuB,EAAG,KAAM0T,GAAc,MAAO,OAAQ,EACnN,CAAE,MAAO,kBAAmB,MAAO1T,EAAe,iBAAmB,QAAaA,EAAe,iBAAmB,KAAOA,EAAe,eAAiB,EAAG,KAAM0T,GAAc,MAAO,KAAM,EAC/L,CAAE,MAAO,qBAAsB,QAAOtX,EAAA4D,EAAe,oBAAf,YAAA5D,EAAkC,WAAY,UAAaC,EAAA2D,EAAe,oBAAf,YAAA3D,EAAkC,WAAY,KAAO,IAAI2D,EAAe,kBAAkB,QAAU,KAAK,QAAQ,CAAC,CAAC,IAAM,MAAO,KAAMX,GAAY,MAAO,MAAO,EACjQ,CAAE,MAAO,aAAc,MAAOW,EAAe,YAAc,QAAaA,EAAe,YAAc,KAAO,IAAIA,EAAe,UAAY,KAAK,QAAQ,CAAC,CAAC,IAAM,MAAO,KAAMI,GAAQ,MAAO,QAAS,EACrM,CAAE,MAAO,sBAAuB,MAAOJ,EAAe,kBAAoB,QAAaA,EAAe,kBAAoB,KAAOA,EAAe,gBAAkB,MAAO,KAAMhE,GAAU,MAAO,MAAO,EACvM,CAAE,MAAO,iBAAkB,MAAOgE,EAAe,gBAAkB,QAAaA,EAAe,gBAAkB,KAAOA,EAAe,cAAgB,MAAO,KAAMX,GAAY,MAAO,MAAO,EAC9L,CAAE,MAAO,gBAAiB,MAAOW,EAAe,eAAiB,QAAaA,EAAe,eAAiB,KAAOA,EAAe,aAAe,MAAO,KAAMX,GAAY,MAAO,SAAU,EAC7L,CAAE,MAAO,mBAAoB,QAAO/C,EAAA0D,EAAe,kBAAf,YAAA1D,EAAgC,mBAAoB,UAAaC,EAAAyD,EAAe,kBAAf,YAAAzD,EAAgC,mBAAoB,KAAQyD,EAAe,gBAAgB,gBAAkB,EAAI,IAAIA,EAAe,gBAAgB,gBAAgB,eAAe,CAAC,GAAK,OAAU,MAAO,YAAWxD,EAAAwD,EAAe,kBAAf,YAAAxD,EAAgC,iBAAkB,EAAG,KAAM4D,GAAQ,MAAO,SAAU,CAC9Y,EAAA,IAAI,CAACwT,EAAQ9X,IACbhC,EAAA,IAACkB,EAAA,CAEC,UAAW,oFACT4Y,EAAO,UACH,oGACA,uEACN,GAEA,SAAAha,EAAA,KAACwB,EAAY,CAAA,UAAU,MACrB,SAAA,CAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAE,EAAA,IAAC,MAAI,CAAA,UAAW,4BACd8Z,EAAO,QAAU,UAAY,8EAC7BA,EAAO,QAAU,MAAQ,kEACzBA,EAAO,QAAU,OAAS,qEAC1BA,EAAO,QAAU,QAAU,wEAC3BA,EAAO,QAAU,SAAW,2EAC5BA,EAAO,QAAU,UAAY,2EAC7B,+DACF,GACE,SAAA9Z,EAAAA,IAAC8Z,EAAO,KAAP,CAAY,UAAW,WACtBA,EAAO,QAAU,UAAY,mBAC7BA,EAAO,QAAU,MAAQ,eACzBA,EAAO,QAAU,OAAS,gBAC1BA,EAAO,QAAU,QAAU,iBAC3BA,EAAO,QAAU,SAAW,kBAC5BA,EAAO,QAAU,UAAY,eAC7B,uBACF,EAAI,CAAA,EACN,EACCA,EAAO,UACN9Z,EAAA,IAAC6C,EAAA,CACC,QAAQ,QACR,KAAK,KACL,QAASkW,EACT,UAAU,mHAEV,SAAA/Y,EAAAA,IAACgD,GAAK,CAAA,UAAU,SAAU,CAAA,CAAA,CAAA,CAC5B,EAEJ,EAEAlD,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAE,EAAA,IAAC,KAAG,CAAA,UAAU,4CAA6C,SAAA8Z,EAAO,MAAM,EACxE9Z,EAAAA,IAAC,IAAE,CAAA,UAAW,qBACZ8Z,EAAO,UACH,eACA,iBACN,GACG,SAAAA,EAAO,KACV,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EAlDK9X,CAAA,CAoDR,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,QAEC,MAAI,CAAA,UAAU,oBACb,SAAClC,EAAAA,KAAA,MAAA,CAAI,UAAU,mGACb,SAAA,CAACE,EAAAA,IAAAgZ,GAAA,CAAK,UAAU,8CAA+C,CAAA,EAC9DhZ,EAAA,IAAA,IAAA,CAAE,UAAU,4CAA4C,SAAwB,2BAAA,EAChFA,EAAA,IAAA,IAAA,CAAE,UAAU,wCAAwC,SAAkD,oDAAA,CAAA,CAAA,CACzG,CAAA,CACF,CAAA,CAEJ,CAAA,CAAA,EACF,GCpOI+Z,GAAkB,CAAC,CAAE,SAAAjW,EAAU,eAAAC,KAAqB,oBACxD,MAAM6J,EAAWoM,GAAY,EACvB,CAAE,MAAAhb,CAAM,EAAIC,GAAS,EACrB,CAAE,OAAA0O,EAAQ,KAAAtI,CAAK,EAAI4U,GAAQ,EAG3B,CAACxU,EAAayU,CAAc,EAAI9a,EAAAA,SAAS,EAAE,EAC3C,CAAC0F,EAAO4I,CAAQ,EAAItO,EAAAA,SAAS,CAAA,CAAE,EAC/B,CAACuG,EAAS2C,CAAU,EAAIlJ,EAAAA,SAAS,EAAK,EACtC,CAACwZ,EAAcuB,CAAe,EAAI/a,EAAAA,SAAS,IAAI,EAC/C,CAAC8G,EAAgBkU,CAAiB,EAAIhb,EAAAA,SAAS,IAAI,EACnD,CAAC0Z,EAAmBuB,CAAoB,EAAIjb,EAAAA,SAAS,EAAK,EAC1D,CAACkb,EAAiBC,CAAkB,EAAInb,EAAAA,SAAS,IAAI,EACrD,CAAC+G,EAAmBgG,CAAoB,EAAI/M,EAAAA,SAAS,EAAK,EAC1D,CAACgH,EAAgBoU,CAAiB,EAAIpb,WAAS,CACnD,SAAU,GACV,MAAO,GACP,OAAQ,GACR,KAAM,GACN,aAAc,GACd,gBAAiB,GACjB,cAAe,GACf,WAAY,GACZ,iBAAkB,GAClB,sBAAuB,GACvB,SAAU,EAAA,CACX,EAEK,CAACqb,EAAkBzM,CAAmB,EAAI5O,WAAS,CACvD,cAAe,EACf,aAAc,EACd,cAAe,EACf,gBAAiB,KACjB,cAAe,CAAE,IAAK,EAAG,OAAQ,EAAG,KAAM,CAAE,CAAA,CAC7C,EACK,CAACgE,EAAQqL,CAAS,EAAIrP,EAAAA,SAAS,CAAA,CAAE,EACjC,CAACwE,EAAiB8W,CAAkB,EAAItb,EAAAA,SAAS,CAAA,CAAE,EACnD,CAACX,EAAWkc,EAAY,EAAIvb,EAAAA,SAAS,IAAI,EACzC,CAACwb,GAAcC,EAAe,EAAIzb,EAAAA,SAAS,EAAK,EAChD,CAAC0b,GAAgBC,EAAiB,EAAI3b,EAAAA,SAAS,EAAK,EACpD,CAAC4b,GAAeC,EAAgB,EAAI7b,EAAAA,SAAS,EAAK,EAClD,CAAC8b,EAAWC,CAAY,EAAI/b,EAAAA,SAAS,EAAE,EACvC,CAACiN,GAAe+O,EAAgB,EAAIhc,EAAAA,SAAS,EAAK,EAClD,CAACkN,GAAeC,EAAgB,EAAInN,EAAAA,SAAS,EAAK,EAClD,CAACoN,GAAiBC,EAAkB,EAAIrN,EAAAA,SAAS,CAAC,EAElD,CAACic,GAAiBC,CAAkB,EAAIlc,EAAAA,SAAS,EAAK,EACtD,CAACmc,EAAcC,EAAe,EAAIpc,EAAAA,SAAS,IAAI,EAC/C,CAAC8N,GAAcC,EAAe,EAAI/N,EAAAA,SAAS,EAAK,EAEhDqc,GAAmBC,SAAO,IAAI,EAC9BC,GAAcD,SAAO,IAAI,EAEzB,CAAC1X,GAAY4X,EAAa,EAAIxc,EAAAA,SAAS,EAAK,EAG5C,CAAC6E,GAAc4X,EAAe,EAAIzc,WAAS,CAC/C,SAAU,GACV,UAAW,KACX,kBAAmB,EACnB,aAAc,IACd,YAAa,IACb,gBAAiB,GAAA,CAClB,EAGDyJ,EAAAA,UAAU,IACD,IAAM,CACP4S,GAAiB,SACnB,aAAaA,GAAiB,OAAO,CAEzC,EACC,EAAE,EAGC,MAAAK,GAAeC,cAAanZ,GAAM,CAChC,MAAA6K,EAAQ7K,EAAE,OAAO,MACvBsX,EAAezM,CAAK,EAEhBgO,GAAiB,SAAsB,aAAAA,GAAiB,OAAO,EAElDA,GAAA,QAAU,WAAW,IAAM,CAC1CjO,GAAYC,EAAOC,EAAUpF,EAAYtJ,EAAO2O,EAAQC,CAAQ,GAC/D,GAAG,CACL,EAAA,CAAC5O,EAAO2O,EAAQC,CAAQ,CAAC,EAGtBoO,GAAqBD,EAAAA,YAAY,IAAM,CACvCN,GAAiB,SACnB,aAAaA,GAAiB,OAAO,EAEvC,MAAMhO,EAAQhI,EACd,GAAI,CAACgI,EAAO,CACVC,EAAS,CAAA,CAAE,EACX,MAAA,CAEFF,GAAYC,EAAOC,EAAUpF,EAAYtJ,EAAO2O,EAAQC,CAAQ,GAC/D,CAACnI,EAAazG,EAAO2O,EAAQC,CAAQ,CAAC,EAGnCqO,GAA4BF,cAAY,MAAOG,GAAW,kDAC9D,GAAKA,EACD,GAAA,CACF7B,EAAqB,EAAI,EACzBE,EAAmB,IAAI,EACvB,MAAMxR,GAAW,MAAMC,EAAI,IAAI,SAASkT,CAAM,cAAc,EACtDC,EAAepT,GAAS,KAAK,MAAQA,GAAS,KACpD,GAAI,CAACoT,EAAoB,MAAA,IAAI,MAAM,8BAA8B,EAEjE,MAAMC,GAAmBjO,GAAM,CAAC,EAAEA,IAAMA,EAAE,UAAYA,EAAE,eAAiBA,EAAE,uBAAyBA,EAAE,cACtG,IAAIkO,EAASF,EAAa,gBACrBC,GAAgBC,CAAM,IAEhBA,EAAA,CAAC,GADM,MAAM,QAAQF,EAAa,sBAAsB,EAAIA,EAAa,uBAAyB,CAAC,CACxF,EAAE,UAAU,KAAKC,EAAe,GAAKC,GAG3D,MAAMC,GAAuB,IAAM,CAC3B,MAAAC,EAAKJ,EAAa,aAAe,CAAC,EACxC,GAAI,OAAOI,EAAG,UAAa,gBAAiBA,EAAG,SAC/C,GAAI,OAAOA,EAAG,KAAQ,gBAAiBA,EAAG,IACtC,GAAA,OAAOA,EAAG,KAAQ,SAAU,CACxB,MAAAC,GAAM,WAAWD,EAAG,GAAG,EACzB,GAAA,CAAC,MAAMC,EAAG,SAAUA,GAAM,EAAIA,GAAM,IAAMA,EAAA,CAEhD,OAAI,OAAOL,EAAa,KAAQ,SAAiBA,EAAa,IACvD,OAAOE,GAAA,YAAAA,EAAQ,MAAQ,SAAWA,EAAO,IAAM,MACxD,EAEMI,GAAqB,CACzB,GAAGJ,EACH,gBAAgBA,GAAA,YAAAA,EAAQ,mBAAkB9a,EAAA4a,EAAa,cAAb,YAAA5a,EAA0B,kBAAkB8a,GAAA,YAAAA,EAAQ,WAC9F,IAAKC,GAAqB,EAC1B,OAAOD,GAAA,YAAAA,EAAQ,UAAS7a,EAAA2a,EAAa,cAAb,YAAA3a,EAA0B,QAAS2a,EAAa,aACxE,eAAeE,GAAA,YAAAA,EAAQ,kBAAiB5a,EAAA0a,EAAa,cAAb,YAAA1a,EAA0B,SAElE,IAAK,IAAM,QACT,MAAMyX,GAASmD,GAAA,YAAAA,EAAQ,UAAS9a,GAAA4a,EAAa,cAAb,YAAA5a,GAA0B,QAAS4a,EAAa,aAChF,IAAIO,GAAU,CAAC,EACX,OAAA,EAACL,GAAA,MAAAA,EAAQ,WAAY,EAACA,GAAA,MAAAA,EAAQ,gBAAiB,EAACA,GAAA,MAAAA,EAAQ,uBACtD,OAAOnD,GAAU,WACfA,GAAS,IAAewD,GAAA,CAAE,SAAU,WAAY,cAAe,QAAS,oBAAqB,UAAW,EACnGxD,GAAS,IAAewD,GAAA,CAAE,SAAU,WAAY,cAAe,QAAS,oBAAqB,KAAM,EACnGxD,GAAS,IAAewD,GAAA,CAAE,SAAU,gBAAiB,cAAe,aAAc,oBAAqB,UAAW,EAClHxD,GAAS,IAAewD,GAAA,CAAE,SAAU,YAAa,cAAe,WAAY,oBAAqB,MAAO,KAClG,CAAE,SAAU,iBAAkB,cAAe,gBAAiB,oBAAqB,WAAY,GAG3GA,EAAA,GACN,EAEH,IAAK,IAAM,CACT,MAAMC,EAASL,GAAqB,EACpC,MAAI,EAACD,GAAA,MAAAA,EAAQ,YAAa,OAAOM,GAAW,SAEnC,CAAE,UADMA,GAAU,IAAO,MAAQA,GAAU,IAAO,SAAW,MACzC,EAEtB,CAAC,CAAA,GACP,EACH,gBAAiB,CACf,IAAIN,GAAA,YAAAA,EAAQ,kBAAmB,CAAC,EAChC,kBAAmBA,GAAA,YAAAA,EAAQ,kBAAmBA,EAAO,gBAAgB,oBAChE1a,IAAAD,GAAAya,EAAa,cAAb,YAAAza,GAA0B,kBAA1B,YAAAC,GAA2C,iBAAA,CAEpD,EAEMib,GAAkBP,EAAS,CAC/B,OACGA,EAAO,aAAe,WAAWA,EAAO,YAAY,MAAM,GAC3DA,EAAO,iBACPza,GAAAya,EAAO,QAAP,YAAAza,GAAc,YACd,KAEF,aACGya,EAAO,aAAe,WAAWA,EAAO,YAAY,YAAY,GACjEA,EAAO,yBACPxa,GAAAwa,EAAO,QAAP,YAAAxa,GAAc,eACd,KAEF,WACGwa,EAAO,aAAe,SAASA,EAAO,YAAY,IAAI,GACvDA,EAAO,YACPA,EAAO,QACPva,GAAAua,EAAO,QAAP,YAAAva,GAAc,aACd,KAEF,eAAgBua,EAAO,kBAAkBha,GAAAga,EAAO,QAAP,YAAAha,GAAc,iBAAkB,KACzE,IAAKga,EAAO,OAAO/Z,GAAA+Z,EAAO,QAAP,YAAA/Z,GAAc,MAAO,KACxC,cAAe+Z,EAAO,iBAAiB9Z,GAAA8Z,EAAO,QAAP,YAAA9Z,GAAc,gBAAiB,KACtE,UAAW8Z,EAAO,iBAAiB7Z,GAAA6Z,EAAO,QAAP,YAAA7Z,GAAc,YAAa,KAC9D,aAAc6Z,EAAO,aACrB,eAAgBA,EAAO,kBAAkB5Z,GAAA4Z,EAAO,QAAP,YAAA5Z,GAAc,gBACvD,eAAgB4Z,EAAO,cAAA,EACrB,KAEcjC,EAAA,CAChB,OAAA8B,EACA,GAAGC,EACH,aAAcA,EAAa,aAC3B,gBAAiBM,GACjB,OAAQN,EAAa,QAAU,UAC/B,gBAAezZ,GAAAyZ,EAAa,cAAb,YAAAzZ,GAA0B,UAAWyZ,EAAa,cACjE,IAAKG,GAAqB,CAAA,CAC3B,EACGM,OAA8BA,EAAe,QAC1C9O,GAAK,CACZ,MAAM+O,IAAejS,IAAAC,GAAAiD,GAAI,WAAJ,YAAAjD,GAAc,OAAd,YAAAD,GAAoB,QAASkD,GAAI,SAAW,6BACjEyM,EAAmBsC,CAAY,EAC/B7d,EAAM,CAAE,MAAO,QAAS,YAAa6d,EAAc,QAAS,cAAe,CAAA,QAC3E,CACAxC,EAAqB,EAAK,CAAA,CAC5B,EACC,CAACrR,EAAKhK,CAAK,CAAC,EAGU+c,EAAY,YAAA,MAAO1W,GAAS,SACnD+U,EAAkB,IAAI,EACtBG,EAAmB,IAAI,EACvBI,GAAa,IAAI,EACjBR,EAAgB9U,CAAI,EAEhB,GAAA,CACI,MAAA4W,GAA0B5W,EAAK,GAAG,QACjCyI,EAAK,CACN9O,EAAA,CACJ,MAAO,QACP,cAAawC,GAAAD,EAAAuM,EAAI,WAAJ,YAAAvM,EAAc,OAAd,YAAAC,EAAoB,QAASsM,EAAI,SAAW,uBACzD,QAAS,aAAA,CACV,CAAA,CAGHpF,GAAa,UAAU,CAAA,EACtB,CAAC1J,EAAOid,EAAyB,CAAC,EAG/B,MAAApD,GAAoBkD,EAAAA,YAAY,IAAM,CAC1C5B,EAAgB,IAAI,EACpBC,EAAkB,IAAI,EACtBjO,EAAqB,EAAK,EACRqO,EAAA,CAChB,SAAU,GACV,MAAO,GACP,OAAQ,GACR,KAAM,GACN,aAAc,GACd,gBAAiB,GACjB,cAAe,GACf,WAAY,GACZ,iBAAkB,GAClB,sBAAuB,GACvB,SAAU,EAAA,CACX,EACD9R,GAAa,UAAU,CACzB,EAAG,EAAE,EAEC,CAACD,GAAWC,EAAY,EAAItJ,EAAAA,SAAS,UAAU,EAG/C0d,GAAgCf,EAAAA,YAAY,SAAY,CACxD,GAAA,CACI,MAAAhO,GAAsBC,EAAqBhP,CAAK,OACxC,CACMgP,EAAA,CAClB,cAAe,EACf,aAAc,EACd,cAAe,EACf,gBAAiB,KACjB,cAAe,CAAE,IAAK,EAAG,OAAQ,EAAG,KAAM,CAAE,CAAA,CAC7C,EACKhP,EAAA,CACJ,MAAO,QACP,YAAa,oCACb,QAAS,aAAA,CACV,CAAA,CACH,EACC,CAACA,CAAK,CAAC,EAGJ+d,GAA+BhB,EAAAA,YAAY,SAAY,CACvD,GAAA,CACI,MAAA9N,EAAY,MAAMM,GAAqB,EAC7C,OAAAmM,EAAmBzM,CAAS,EACrBA,OACO,CACd,OAAAyM,EAAmB,CAAA,CAAE,EACf1b,EAAA,CACJ,MAAO,QACP,YAAa,mCACb,QAAS,aAAA,CACV,EACM,CAAC,CAAA,CACV,EACC,CAACA,CAAK,CAAC,EAGJge,GAAsBjB,cAAY,MAAOnY,GAAoB,CAC7D,GAAA,CACI,MAAA4K,GAAY5K,EAAiB6K,CAAS,OAC9B,CACdA,EAAU,CAAA,CAAE,EACNzP,EAAA,CACJ,MAAO,QACP,YAAa,yBACb,QAAS,aAAA,CACV,CAAA,CACH,EACC,CAACA,CAAK,CAAC,EAGJie,GAAwBlB,EAAAA,YAAY,SAAY,SACpDH,GAAc,EAAI,EACd,GAAA,CACF,MAAMkB,GAA8B,EAC9BlZ,MAAAA,EAAkB,MAAMmZ,GAA6B,EAC3D,MAAMC,GAAoBpZ,CAAe,EACnC5E,EAAA,CACJ,MAAO,YACP,YAAa,iCACb,QAAS,SAAA,CACV,QACMiK,EAAO,CACRjK,EAAA,CACJ,MAAO,iBACP,cAAawC,GAAAD,EAAA0H,EAAM,WAAN,YAAA1H,EAAgB,OAAhB,YAAAC,EAAsB,QAAS,yBAC5C,QAAS,aAAA,CACV,CAAA,QACD,CACAoa,GAAc,EAAK,CAAA,GAEpB,CAACkB,GAA+BC,GAA8BC,GAAqBhe,CAAK,CAAC,EAGtFke,GAAOnB,EAAAA,YAAY,SAAY,CAC/B,GAAA,SAAS,kBAAoB,UAE7B,GAAA,CACF,MAAMe,GAA8B,EAC9BlZ,MAAAA,EAAkB,MAAMmZ,GAA6B,EAC3D,MAAMC,GAAoBpZ,CAAe,EACrCiY,GAAyB9R,IAAA,CACvB,GAAGA,EACH,kBAAmB,EACnB,gBAAiBA,EAAK,aACtB,UAAW,IAAA,EACX,QACGd,EAAO,CACN,QAAA,KAAK,iBAAkBA,CAAK,EACpC4S,GAAwB9R,GAAA,QAChB,MAAAoT,EAAgBpT,EAAK,kBAAoB,EAEzCqT,KADc7b,GAAA0H,EAAM,WAAN,YAAA1H,GAAgB,UAAW,IACP,KAAK,IAAI,EAAG4b,CAAa,EAAIA,EAC/DE,GAAc,KAAK,IACvBtT,EAAK,aAAeqT,GACpBrT,EAAK,WACP,EACO,MAAA,CACL,GAAGA,EACH,kBAAmBoT,EACnB,gBAAiBE,GACjB,UAAWpU,EACX,SAAUkU,EAAgB,EAC5B,CAAA,CACD,CAAA,CAEJ,EAAA,CAACL,GAA+BC,GAA8BC,EAAmB,CAAC,EAE/EM,GAAevB,EAAAA,YAAY,IAAM,CACrCF,GAAyB9R,IAAA,CACvB,GAAGA,EACH,SAAU,GACV,kBAAmB,EACnB,UAAW,KACX,gBAAiBA,EAAK,YAAA,EACtB,CACJ,EAAG,EAAE,EAGLlB,EAAAA,UAAU,IAAM,CACd,MAAM0U,EAAyB,IAAM,CAC/B,SAAS,kBAAoB,WAAa,CAACtZ,GAAa,UAC3CqZ,GAAA,CAEnB,EAES,gBAAA,iBAAiB,mBAAoBC,CAAsB,EAC7D,IAAM,SAAS,oBAAoB,mBAAoBA,CAAsB,CACnF,EAAA,CAACtZ,GAAa,SAAUqZ,EAAY,CAAC,EAGxCzU,EAAAA,UAAU,IAAM,CACV,GAAA,CAAC5E,GAAa,SAAU,CACtB0X,GAAY,UACd,cAAcA,GAAY,OAAO,EACjCA,GAAY,QAAU,MAExB,MAAA,CAGG,OAAAuB,GAAA,EACLvB,GAAY,QAAU,YAAY,IAAMuB,GAAK,EAAGjZ,GAAa,eAAe,EAErE,IAAM,CACP0X,GAAY,UACd,cAAcA,GAAY,OAAO,EACjCA,GAAY,QAAU,KAE1B,CAAA,EACC,CAAC1X,GAAa,SAAUA,GAAa,gBAAiBiZ,EAAI,CAAC,EAG9DrU,EAAAA,UAAU,KACKyU,GAAA,EACN,IAAM,CACXzB,OAAyB,CAAE,GAAG9R,EAAM,SAAU,IAAQ,CACxD,GACC,CAACuT,EAAY,CAAC,EAGX,MAAAlR,GAAqB2P,EAAAA,YAAY,SAAY,aAC7C,GAAA,EAAC7V,GAAA,MAAAA,EAAgB,QAAQ,CACrBlH,EAAA,CACJ,MAAO,QACP,YAAa,gCACb,QAAS,aAAA,CACV,EACD,MAAA,CAGE,GAAA,CACF,MAAMgK,EAAI,KAAK,0BAA0B9C,EAAe,MAAM,GAAI,CAChE,SAAUE,EAAe,SACzB,MAAOA,EAAe,MACtB,SAAU,GACV,UAAS7E,EAAA2E,GAAA,YAAAA,EAAgB,kBAAhB,YAAA3E,EAAiC,UAAW,CAAC,EACtD,kBAAiBC,EAAA0E,GAAA,YAAAA,EAAgB,kBAAhB,YAAA1E,EAAiC,kBAAmB,CAAC,EACtE,YAAa,CACX,OAAQ4E,EAAe,OACvB,KAAMA,EAAe,KACrB,aAAcA,EAAe,YAC/B,EACA,SAAUA,EAAe,SACzB,gBAAiBA,EAAe,gBAChC,cAAeA,EAAe,cAC9B,WAAYA,EAAe,WAC3B,iBAAkBA,EAAe,iBACjC,sBAAuBA,EAAe,qBAAA,CACvC,EAEDgU,EAA2BrQ,KAAA,CACzB,GAAGA,GACH,gBAAiB,CACf,GAAGA,GAAK,gBACR,SAAU3D,EAAe,SACzB,SAAU,GACV,YAAaA,EAAe,MAC5B,YAAa,CACX,OAAQA,EAAe,OACvB,KAAMA,EAAe,KACrB,aAAcA,EAAe,YAC/B,EACA,SAAUA,EAAe,SACzB,gBAAiBA,EAAe,gBAChC,cAAeA,EAAe,cAC9B,WAAYA,EAAe,WAC3B,iBAAkBA,EAAe,iBACjC,sBAAuBA,EAAe,qBAAA,CACxC,EACA,EAEF+F,EAAqB,EAAK,EACpBnN,EAAA,CACJ,MAAO,UACP,YAAa,yBACb,QAAS,SAAA,CACV,EACD,MAAM+d,GAA6B,QAC5B9T,GAAO,CACRjK,EAAA,CACJ,MAAO,QACP,cAAa0C,GAAAD,EAAAwH,GAAM,WAAN,YAAAxH,EAAgB,OAAhB,YAAAC,EAAsB,QAAS,0BAC5C,QAAS,aAAA,CACV,CAAA,GAEF,CAAC0E,EAAgBF,EAAgBlH,EAAO+d,EAA4B,CAAC,EAGlES,GAAuBzB,EAAAA,YAAY,IAAM,2CAC3BvB,EAAA,CAChB,WAAUjZ,EAAA2E,GAAA,YAAAA,EAAgB,kBAAhB,YAAA3E,EAAiC,WAAY,SACvD,QAAOC,EAAA0E,GAAA,YAAAA,EAAgB,kBAAhB,YAAA1E,EAAiC,cAAe,GACvD,SAAQE,GAAAD,EAAAyE,GAAA,YAAAA,EAAgB,kBAAhB,YAAAzE,EAAiC,cAAjC,YAAAC,EAA8C,SAAU,GAChE,OAAME,IAAAD,GAAAuE,GAAA,YAAAA,EAAgB,kBAAhB,YAAAvE,GAAiC,cAAjC,YAAAC,GAA8C,OAAQ,GAC5D,eAAcE,IAAAD,GAAAqE,GAAA,YAAAA,EAAgB,kBAAhB,YAAArE,GAAiC,cAAjC,YAAAC,GAA8C,eAAgB,GAC5E,kBAAiBO,GAAA6D,GAAA,YAAAA,EAAgB,kBAAhB,YAAA7D,GAAiC,kBAAmB,GACrE,gBAAeC,GAAA4D,GAAA,YAAAA,EAAgB,kBAAhB,YAAA5D,GAAiC,gBAAiB,GACjE,aAAYC,GAAA2D,GAAA,YAAAA,EAAgB,kBAAhB,YAAA3D,GAAiC,aAAc,GAC3D,mBAAkBC,GAAA0D,GAAA,YAAAA,EAAgB,kBAAhB,YAAA1D,GAAiC,mBAAoB,GACvE,wBAAuBC,GAAAyD,GAAA,YAAAA,EAAgB,kBAAhB,YAAAzD,GAAiC,wBAAyB,GACjF,WAAUC,GAAAwD,GAAA,YAAAA,EAAgB,kBAAhB,YAAAxD,GAAiC,WAAY,EAAA,CACxD,EACDyJ,EAAqB,EAAI,CAAA,EACxB,CAACjG,CAAc,CAAC,EAGK6V,EAAAA,YAAY,SAAY,WAC9C,GAAKnD,EACL,CAAAwC,GAAiB,EAAI,EACjB,GAAA,CACF,MAAMqC,EAAM,MAAMzU,EAAI,KAAK,6BAA6B4P,EAAa,GAAG,eAAgB,CACtF,cAAe,OAAOsC,CAAS,CAAA,CAChC,GACG3Z,EAAAkc,EAAI,OAAJ,MAAAlc,EAAU,QACCoZ,GAAA8C,EAAI,KAAK,KAAK,EAC3Bze,EAAM,CAAE,MAAO,0BAA2B,YAAa,8BAA8Bkc,CAAS,GAAI,SAE7FpN,EAAK,CACN9O,EAAA,CACJ,MAAO,QACP,cAAayC,GAAAD,EAAAsM,EAAI,WAAJ,YAAAtM,EAAc,OAAd,YAAAC,EAAoB,QAASqM,EAAI,QAC9C,QAAS,aAAA,CACV,CAAA,QACD,CACAsN,GAAiB,EAAK,EACtBH,GAAiB,EAAK,CAAA,EACxB,EACC,CAACrC,EAAcsC,EAAWlc,CAAK,CAAC,EAG7B,MAAA0N,GAA4BqP,EAAAA,YAAY,SAAY,WACxD,GAAKnD,EACL,CAAAwC,GAAiB,EAAI,EACjB,GAAA,CACF,MAAMqC,EAAM,MAAMzU,EAAI,KAAK,6BAA6B4P,EAAa,GAAG,eAAgB,CACtF,gBAAiBtM,GAAgB,OAAOE,EAAe,EAAI,CAAA,CAC5D,GACGjL,EAAAkc,EAAI,OAAJ,MAAAlc,EAAU,QACCoZ,GAAA8C,EAAI,KAAK,KAAK,EACrBze,EAAA,CACJ,MAAO,0BACP,YAAasN,GACT,oCAAoCE,GAAgB,eAAgB,CAAA,GACpE,8BAAA,CACL,SAEIsB,EAAK,CACN9O,EAAA,CACJ,MAAO,QACP,cAAayC,GAAAD,EAAAsM,EAAI,WAAJ,YAAAtM,EAAc,OAAd,YAAAC,EAAoB,QAASqM,EAAI,QAC9C,QAAS,aAAA,CACV,CAAA,QACD,CACAsN,GAAiB,EAAK,CAAA,IAEvB,CAACxC,EAActM,GAAeE,GAAiBxN,CAAK,CAAC,EAGlD0e,GAAY3B,EAAAA,YAAY,SAAY,SACpC,GAAA,GAACnD,GAAgB,CAACna,GACtB,CAAAoc,GAAgB,EAAI,EAChB,GAAA,CACF,MAAM7R,EAAI,KAAK,0BAA0B4P,EAAa,GAAG,GAAI,CAC3D,SAAU,UACV,MAAO,yBACP,YAAa,CACX,OAAQna,EAAU,OAClB,KAAMA,EAAU,WAChB,aAAcA,EAAU,YAC1B,EACA,SAAU,EAAA,CACX,EACKO,EAAA,CACJ,MAAO,aACP,YAAa,8BAAA,CACd,QACM8O,EAAK,CACN9O,EAAA,CACJ,MAAO,QACP,cAAawC,GAAAD,EAAAuM,EAAI,WAAJ,YAAAvM,EAAc,OAAd,YAAAC,EAAoB,QAASsM,EAAI,QAC9C,QAAS,aAAA,CACV,CAAA,QACD,CACA+M,GAAgB,EAAK,CAAA,EAEtB,EAAA,CAACjC,EAAcna,EAAWO,CAAK,CAAC,EAG7B2e,GAAe5B,EAAAA,YAAY,SAAY,SACvC,GAAA,GAACnD,GAAgB,CAACna,GACtB,CAAAsc,GAAkB,EAAI,EAClB,GAAA,CACF,MAAM/R,EAAI,KAAK,0BAA0B4P,EAAa,GAAG,GAAI,CAC3D,SAAU,SACV,MAAO,2BACP,SAAU,EAAA,CACX,EACK5Z,EAAA,CACJ,MAAO,iBACP,YAAa,sBAAA,CACd,QACM8O,EAAK,CACN9O,EAAA,CACJ,MAAO,QACP,cAAawC,GAAAD,EAAAuM,EAAI,WAAJ,YAAAvM,EAAc,OAAd,YAAAC,EAAoB,QAASsM,EAAI,QAC9C,QAAS,aAAA,CACV,CAAA,QACD,CACAiN,GAAkB,EAAK,CAAA,EAExB,EAAA,CAACnC,EAAcna,EAAWO,CAAK,CAAC,EAG7B4e,GAAuB7B,cAAY,MAAO8B,GAAW,SACzD,GAAKjF,EAED,GAAA,CACF,OAAQiF,EAAQ,CACd,IAAK,UACH,MAAM7U,EAAI,KAAK,0BAA0B4P,EAAa,GAAG,GAAI,CAC3D,SAAU,UACV,MAAO,iCACP,SAAU,EAAA,CACX,EACK5Z,EAAA,CACJ,MAAO,iBACP,YAAa,gCAAA,CACd,EACD,MAEF,IAAK,OACHmN,EAAqB,EAAI,EACnBnN,EAAA,CACJ,MAAO,YACP,YAAa,wCAAA,CACd,EACD,MAEF,IAAK,WACGA,EAAA,CACJ,MAAO,mBACP,YAAa,mCAAA,CACd,EAED,MAEF,IAAK,OACH,MAAM0e,GAAU,EAChB,MAEF,IAAK,UACH,MAAMC,GAAa,EACnB,MAEF,IAAK,OACH,MAAM3U,EAAI,KAAK,0BAA0B4P,EAAa,GAAG,GAAI,CAC3D,SAAU,OACV,MAAO,oCACP,SAAU,EAAA,CACX,EACK5Z,EAAA,CACJ,MAAO,sBACP,YAAa,mCAAA,CACd,EACD,MAEF,QACE,KAAA,QAEGiK,EAAO,CACRjK,EAAA,CACJ,MAAO,QACP,cAAawC,GAAAD,EAAA0H,EAAM,WAAN,YAAA1H,EAAgB,OAAhB,YAAAC,EAAsB,QAASyH,EAAM,QAClD,QAAS,aAAA,CACV,CAAA,GAEF,CAAC2P,EAAc8E,GAAWC,GAAc3e,CAAK,CAAC,EAGjD6J,EAAAA,UAAU,IACD,IAAM,CACP4S,GAAiB,SAAsB,aAAAA,GAAiB,OAAO,EAC/DE,GAAY,SAAuB,cAAAA,GAAY,OAAO,CAC5D,EACC,EAAE,EAGL9S,EAAAA,UAAU,IAAM,CACd,IAAIiV,EAAY,GAChB,OAAC,SAAY,CACX,MAAMhB,GAA8B,EAC9B,MAAA7O,EAAY,MAAM8O,GAA6B,EAChDe,GACH,MAAMd,GAAoB/O,CAAS,CACrC,GACC,EACI,IAAM,CAAc6P,EAAA,EAAM,CAEnC,EAAG,EAAE,EAGL,MAAMzX,GAAuB0V,EAAAA,YAAY,CAACjS,EAAOrD,IAAU,CACvC+T,EAAAzQ,IAAS,CAAE,GAAGA,EAAM,CAACD,CAAK,EAAGrD,GAAQ,CACzD,EAAG,EAAE,EAECsS,GAAqBgD,EAAAA,YAAY,IAAMd,GAAiB,EAAI,EAAG,CAAA,CAAE,EAEjE8C,GAAwBhC,EAAAA,YAAY,IAAM,CAC9CT,EAAmB,EAAI,CACzB,EAAG,EAAE,EAEC0C,GAAyBjC,EAAAA,YAAY,IAAMT,EAAmB,EAAK,EAAG,CAAA,CAAE,EAExE2C,GAA4BlC,cAAY,MAAOmC,GAAY,CAG/D,GAFA5C,EAAmB,EAAK,EACxBE,GAAgB0C,CAAO,EACnBtF,EACE,GAAA,CACF,MAAM5P,EAAI,KAAK,UAAU4P,EAAa,GAAG,uBAAuB,EAC1D,MAAAqD,GAA0BrD,EAAa,GAAG,QACzC9K,EAAK,CACJ,QAAA,KAAK,+BAAgCA,CAAG,CAAA,CAGnD,EAAA,CAAC8K,EAAc5P,EAAKiT,EAAyB,CAAC,EAG3CkC,GAAa1D,EAAiB,cAAgBA,EAAiB,aAAeA,EAAiB,cAC/F2D,GAAeD,GAAa,GAAM1D,EAAiB,cAAgB0D,GAAc,KAAK,QAAQ,CAAC,EAAI,EAGnGE,GAAwB,IAAM,CAClC,MAAMC,EAAc,CAClB,CACE,MAAO,iBACP,MAAO7D,EAAiB,cACxB,KAAMxa,GACN,MAAO,UACP,SAAU,mDACV,MAAO,OACP,QAAS,GACT,YAAa,qBACf,EACA,CACE,MAAO,iBACP,MAAOwa,EAAiB,aACxB,KAAMta,GACN,MAAO,QACP,SAAU,+CACV,MAAO,MACP,QAAS,GACT,YAAa,mBACf,EACA,CACE,MAAO,wBACP,MAAOsa,EAAiB,cACxB,KAAMva,GACN,MAAO,MACP,SAAU,2CACV,MAAO,MACP,QAAS,GACT,YAAa,uBACf,EACA,CACE,MAAO,qBACP,MAAOua,EAAiB,gBACxB,KAAM1c,GACN,MAAO,OACP,SAAU,6CACV,MAAO,OACP,QAAS,GACT,YAAa,uBAAA,CAEjB,EAGE,OAAA+B,EAAA,KAAC,MAAI,CAAA,UAAU,4BAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+GACb,SAAA,CAACE,EAAAA,IAAA,MAAA,CAAI,UAAU,8BAA+B,CAAA,EAC9CF,EAAAA,KAAC,MAAI,CAAA,UAAU,gBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,qBAAqB,SAAkB,qBAAA,EACpDA,EAAA,IAAA,IAAA,CAAE,UAAU,gBAAgB,SAAyC,2CAAA,CAAA,CAAA,EACxE,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,8EACb,SAAA,CAACE,EAAAA,IAAA3B,GAAA,CAAS,UAAU,SAAU,CAAA,EAC7B2B,EAAA,IAAA,OAAA,CAAK,UAAU,sBAAsB,SAAI,MAAA,CAAA,CAAA,CAC5C,CAAA,CAAA,EACF,EAEAF,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,0BAA2B,SAAWme,GAAA,EACpDne,EAAA,IAAA,MAAA,CAAI,UAAU,wBAAwB,SAAkB,oBAAA,CAAA,CAAA,EAC3D,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BAA2B,SAAA,CAAAse,GAAa,GAAA,EAAC,EACvDpe,EAAA,IAAA,MAAA,CAAI,UAAU,wBAAwB,SAAa,eAAA,CAAA,CAAA,EACtD,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,0BAA0B,SAAC,IAAA,EACzCA,EAAA,IAAA,MAAA,CAAI,UAAU,wBAAwB,SAAY,cAAA,CAAA,CAAA,EACrD,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,0BAA0B,SAAC,IAAA,EACzCA,EAAA,IAAA,MAAA,CAAI,UAAU,wBAAwB,SAAc,gBAAA,CAAA,CAAA,CACvD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAGAA,EAAAA,IAAC,OAAI,UAAU,uDACZ,WAAY,IAAI,CAAC8Z,EAAQ9X,IACxBlC,EAAA,KAACoB,EAAA,CAEC,UAAU,wHAEV,SAAA,CAAAlB,MAAC,MAAI,CAAA,UAAW,oBAAoB8Z,EAAO,QAAQ,oEAAqE,EAExHha,EAAAA,KAACwB,EAAY,CAAA,UAAU,eACrB,SAAA,CAACxB,EAAAA,KAAA,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAE,EAAA,IAAC,MAAI,CAAA,UAAW,mBAAmB8Z,EAAO,QAAQ,aAChD,SAAC9Z,EAAAA,IAAA8Z,EAAO,KAAP,CAAY,UAAU,oBAAqB,CAAA,EAC9C,EACC9Z,EAAA,IAAA,MAAA,CAAI,UAAU,aACb,SAACF,EAAA,KAAA,MAAA,CAAI,UAAW,iDACdga,EAAO,QAAU,mBAAqB,cACxC,GACG,SAAA,CAAOA,EAAA,cAAW7R,GAAW,CAAA,UAAU,UAAU,EAAKjI,EAAA,IAAC4Z,GAAa,CAAA,UAAU,SAAU,CAAA,EACxFE,EAAO,KAAA,CAAA,CACV,CACF,CAAA,CAAA,EACF,EAEAha,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAE,EAAA,IAAC,MAAI,CAAA,UAAU,qCACZ,SAAA8Z,EAAO,MACV,EACC9Z,EAAA,IAAA,MAAA,CAAI,UAAU,4CACZ,WAAO,MACV,EACCA,EAAA,IAAA,MAAA,CAAI,UAAU,gCACZ,WAAO,WACV,CAAA,CAAA,EACF,EAEC8Z,EAAO,MAAM,SAAS,OAAO,GAAKqE,GAAa,GAC9Cre,EAAAA,KAAC,MAAI,CAAA,UAAU,OACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0DACb,SAAA,CAAAE,EAAAA,IAAC,QAAK,SAAW,aAAA,CAAA,SAChB,OAAQ,CAAA,SAAA,EAAA8Z,EAAO,MAAQqE,GAAc,KAAK,QAAQ,CAAC,EAAE,GAAA,CAAC,CAAA,CAAA,EACzD,EACAne,EAAAA,IAAC,MAAI,CAAA,UAAU,mDACb,SAAAA,EAAA,IAAC,MAAA,CACC,UAAW,gDAAgD8Z,EAAO,QAAQ,GAC1E,MAAO,CACL,MAAO,GAAKA,EAAO,MAAQqE,GAAc,GAAI,IAC7C,eAAgB,GAAGnc,EAAQ,GAAG,IAAA,CAChC,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,CAAA,EAjDKA,CAmDR,CAAA,EACH,EAGAlC,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAACE,EAAA,IAAAkB,EAAA,CAAK,UAAU,6HACd,SAAClB,EAAA,IAAAsB,EAAA,CAAY,UAAU,MACrB,SAAAxB,OAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,iCAAiC,SAAkB,qBAAA,EAClEF,EAAAA,KAAC,MAAI,CAAA,UAAU,qBAAsB,SAAA,CAAA2a,EAAiB,cAAc,IAAI,GAAA,CAAC,CAAA,CAAA,EAC3E,EACAza,EAAAA,IAAC,OAAI,UAAU,+BACb,eAACsG,GAAO,CAAA,UAAU,SAAU,CAAA,CAC9B,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAEAtG,EAAA,IAACkB,EAAK,CAAA,UAAU,uHACd,SAAAlB,EAAA,IAACsB,EAAY,CAAA,UAAU,MACrB,SAAAxB,OAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,iCAAiC,SAAqB,wBAAA,EACrEF,EAAAA,KAAC,MAAI,CAAA,UAAU,qBAAsB,SAAA,CAAA2a,EAAiB,cAAc,OAAO,GAAA,CAAC,CAAA,CAAA,EAC9E,EACAza,EAAAA,IAAC,OAAI,UAAU,+BACb,eAAC6Z,GAAO,CAAA,UAAU,SAAU,CAAA,CAC9B,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAEA7Z,EAAA,IAACkB,EAAK,CAAA,UAAU,2HACd,SAAAlB,EAAA,IAACsB,EAAY,CAAA,UAAU,MACrB,SAAAxB,OAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,UAAU,iCAAiC,SAAmB,sBAAA,EACnEF,EAAAA,KAAC,MAAI,CAAA,UAAU,qBAAsB,SAAA,CAAA2a,EAAiB,cAAc,KAAK,GAAA,CAAC,CAAA,CAAA,EAC5E,EACAza,EAAAA,IAAC,OAAI,UAAU,+BACb,eAACue,GAAa,CAAA,UAAU,SAAU,CAAA,CACpC,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ,EAGE,OAAAve,EAAAA,IAACyE,IACC,SAACzE,EAAA,IAAA,MAAA,CAAI,UAAU,4DACb,SAAAF,EAAAA,KAAC,MAAI,CAAA,UAAU,8BAEX,SAAA,CAAAE,EAAA,IAAC6D,GAAA,CACC,SAAAC,EACA,eAAAC,EACA,WAAAC,GACA,aAAAC,GACA,UAAWgZ,GACX,kBAAmBc,GACnB,eAAgB,IAAM5Q,GAAgB,EAAI,CAAA,CAC5C,EAGAnN,EAAA,IAACwF,GAAA,CACC,YAAAC,EACA,eAAgBqW,GAChB,SAAUE,GACV,MAAAlX,EACA,QAAAa,EACA,aAAc,MAAON,GAAS,CAC5B8U,EAAgB9U,CAAI,EACpB,MAAM,mBAAmBA,CAAI,EAC7B,MAAM,oBAAoB,CAAA,CAC5B,CACF,SAGD6E,GAAK,CAAA,MAAOzB,GAAW,cAAeC,GAAc,UAAU,YAC7D,SAAA,CAAC5I,EAAAA,KAAAqK,GAAA,CAAS,UAAU,iEAChB,SAAA,CAAArK,EAAA,KAACsK,GAAY,CAAA,MAAM,WAAW,UAAU,iNACxC,SAAA,CAACpK,EAAAA,IAAAqE,GAAA,CAAU,UAAU,cAAe,CAAA,EAAE,UAAA,EAExC,EACEvE,OAACsK,IAAY,MAAM,WAAW,SAAU,CAACwO,EAAc,UAAU,iNACjE,SAAA,CAAC5Y,EAAAA,IAAAgZ,GAAA,CAAK,UAAU,cAAe,CAAA,EAAE,UAAA,EAEnC,EACElZ,OAACsK,IAAY,MAAM,WAAW,SAAU,CAACwO,EAAc,UAAU,iNACjE,SAAA,CAAC5Y,EAAAA,IAAAqB,GAAA,CAAS,UAAU,cAAe,CAAA,EAAE,UAAA,EAEvC,EACGvB,EAAA,KAAAsK,GAAA,CAAY,MAAM,SAAS,UAAU,iNACtC,SAAA,CAACpK,EAAAA,IAAAsK,GAAA,CAAS,UAAU,cAAe,CAAA,EAAE,QAAA,EAEvC,EACGxK,EAAA,KAAAsK,GAAA,CAAY,MAAM,WAAW,UAAU,iNACxC,SAAA,CAACpK,EAAAA,IAAAiI,GAAA,CAAW,UAAU,cAAe,CAAA,EAAE,UAAA,CAEzC,CAAA,CAAA,EACF,EAECnI,EAAA,KAAAyK,GAAA,CAAY,MAAM,WAAW,UAAU,YACrC,SAAA,CAAsB8T,GAAA,EACvBve,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAAAE,MAACmD,IAAY,OAAAC,EAAgB,EAC7BpD,MAAC2D,IAAqB,gBAAAC,CAAkC,CAAA,CAAA,CAC1D,CAAA,CAAA,EACF,EAEA5D,EAAAA,IAACuK,GAAY,CAAA,MAAM,WAAW,UAAU,YACrC,SACCqO,GAAA9Y,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAE,EAAA,IAAC2Y,GAAA,CACC,eAAAzS,EACA,aAAA0S,EACA,kBAAAC,GACA,kBAAAC,EACA,mBAAAC,GACA,oBAAqBxV,EAAA,CACvB,EACAzD,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAAAE,EAAA,IAACzB,GAAA,CACC,SAAU2H,GAAA,YAAAA,EAAgB,gBAC1B,YAAW3E,GAAA2E,GAAA,YAAAA,EAAgB,kBAAhB,YAAA3E,GAAiC,QAAS9C,EACrD,iBAAkBmf,GAClB,SAAU,EAAA,CACZ,EACC1X,GACGpG,EAAA,KAACoB,EAAK,CAAA,UAAU,6BAChB,SAAA,CAAAlB,MAACmB,EACC,CAAA,SAAArB,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACE,EAAA,IAAAoB,EAAA,CAAU,UAAU,UAAU,SAAiB,oBAAA,EAC/C,CAAC+E,GACArG,EAAA,KAAC+C,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS2a,GACT,UAAU,+BAEV,SAAA,CAACxd,EAAAA,IAAAgD,GAAA,CAAK,UAAU,cAAe,CAAA,EAAE,eAAA,CAAA,CAAA,CAEnC,CAAA,CAEJ,CACF,CAAA,QACC1B,EACE,CAAA,SAAC6E,EAsBAnG,EAAA,IAACkM,GAAA,CACC,eAAA9F,EACA,qBAAAC,GACA,qBAAA8F,EACA,mBAAAC,GACA,cAAAC,GACA,cAAAC,GACA,iBAAAC,GACA,gBAAAC,GACA,mBAAAC,GACA,0BAAAC,GACA,gBAAe/K,GAAAuE,GAAA,YAAAA,EAAgB,kBAAhB,YAAAvE,GAAiC,YAAYlD,GAAA,YAAAA,EAAW,WAAY,CAAA,CAAA,EAhCpFqB,OAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACE,EAAA,IAAA,OAAA,CAAK,UAAU,cAAc,SAAiB,oBAAA,QAC9CuD,GAAc,CAAA,WAAU/B,GAAA0E,GAAA,YAAAA,EAAgB,kBAAhB,YAAA1E,GAAiC,WAAY,QAAU,CAAA,CAAA,EAClF,IACCC,GAAAyE,GAAA,YAAAA,EAAgB,kBAAhB,YAAAzE,GAAiC,cAC/B3B,EAAA,KAAA,MAAA,CAAI,UAAU,6BACb,SAAA,CAACE,EAAA,IAAA,OAAA,CAAK,UAAU,cAAc,SAAM,SAAA,QACnC,IAAE,CAAA,UAAU,qCACV,SAAAkG,EAAe,gBAAgB,WAClC,CAAA,CAAA,EACF,IAEDxE,GAAAwE,GAAA,YAAAA,EAAgB,kBAAhB,YAAAxE,GAAiC,gBAC7B5B,EAAA,KAAA,MAAA,CAAI,UAAU,wEACf,SAAA,CAACE,EAAAA,IAAAwe,GAAA,CAAK,UAAU,SAAU,CAAA,EACzBxe,EAAA,IAAA,OAAA,CAAK,UAAU,sBAAsB,SAAyB,2BAAA,CAAA,CAAA,CACjE,CAAA,CAAA,CAAA,CAEJ,CAgBJ,CAAA,CAAA,CACF,CAAA,CAAA,EAEJ,GACCkG,GAAA,YAAAA,EAAgB,kBACflG,MAAC8G,GAAuB,CAAA,gBAAiBZ,EAAe,gBAAiB,EAE1EA,GACClG,EAAA,IAACiG,GAAA,CACC,eAAAC,EACA,kBAAAC,EACA,eAAAC,EACA,qBAAAC,GACA,KAAAhB,CAAA,CAAA,CACF,CAAA,CAEJ,CAEJ,CAAA,EAEArF,EAAAA,IAACuK,GAAY,CAAA,MAAM,WAAW,UAAU,YACrC,SACCqO,EAAA9Y,EAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,6CAA6C,SAAgB,mBAAA,EAC1EA,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAwB,SAAoC,sCAAA,CAAA,CAAA,CAC3E,CAAA,EAEAF,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,8CAA8C,SAAoB,uBAAA,EAC/EA,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAwB,SAA0C,4CAAA,CAAA,CAAA,CAAA,CACjF,CAEJ,CAAA,EAEAA,EAAAA,IAACuK,IAAY,MAAM,SAAS,UAAU,YACpC,SAAAvK,EAAA,IAACmI,KAAoB,CACvB,CAAA,EAEAnI,EAAAA,IAACuK,IAAY,MAAM,WAAW,UAAU,YACtC,SAAAzK,EAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,gBACb,SAACA,EAAA,IAAA2D,GAAA,CAAqB,gBAAAC,CAAkC,CAAA,EAC1D,EACC5D,EAAA,IAAA,MAAA,CACC,SAACA,EAAA,IAAAmD,GAAA,CAAY,OAAAC,EAAgB,CAC/B,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,EAGCiY,IACCrb,EAAA,IAACye,GAAA,CACC,gBAAApD,GACA,uBAAA2C,GACA,0BAAAC,GACA,MAAAjf,CAAA,CACF,EAGDkO,IACClN,EAAA,IAACiN,GAAA,CACC,KAAMC,GACN,QAAS,IAAMC,GAAgB,EAAK,CAAA,CACtC,EAGDoO,GACCvb,EAAA,IAAC0e,GAAA,CACC,QAASnD,EACT,QAAS,IAAMC,GAAgB,IAAI,CAAA,CAAA,CACrC,CAEJ,CAAA,CACF,CAAA,EACF,CAEJ","x_google_ignoreList":[0,1,2,3,4,5,6,20]}